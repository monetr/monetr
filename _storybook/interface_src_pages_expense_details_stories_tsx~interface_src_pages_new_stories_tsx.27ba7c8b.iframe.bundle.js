(self.webpackChunk_monetr_stories=self.webpackChunk_monetr_stories||[]).push([["interface_src_pages_expense_details_stories_tsx~interface_src_pages_new_stories_tsx"],{"../interface/src/components/Layout/MobileSidebar.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s.ir(s("../interface/src/components/Layout/BankSidebar.tsx")),l=s.ir(s("../interface/src/components/Layout/BudgetingSidebar.tsx")),o=s.ir(s("../interface/src/hooks/store.ts"));function c(){let e=(0,r.useMatch)("/bank/:bankId/*"),t=!!+e?.params?.bankId,{setMobileSidebarOpen:s,mobileSidebarOpen:c}=(0,o.default)(),{pathname:d}=(0,r.useLocation)();return((0,a.useEffect)(()=>{s(!1)},[d,s]),c)?(0,n.jsxs)("div",{className:"fixed z-40 w-screen h-screen top-0 left-0 lg:hidden dark:bg-dark-monetr-background flex flex-row backdrop-blur-sm dark:bg-opacity-50 backdrop-brightness-50",children:[(0,n.jsx)(i.default,{}),t&&(0,n.jsx)(l.default,{className:"w-auto flex-auto border-none overflow-y-auto"})]}):null}},"../interface/src/components/Layout/SettingsLayout.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s.ir(s("../interface/src/components/MDivider.tsx")),l=s("../interface/src/components/MSpan.tsx"),o=s.ir(s("../interface/src/components/MTopNavigation.tsx")),c=s("../interface/src/hooks/useAppConfiguration.ts");function d(){let e=(0,c.useAppConfigurationSink)();return(0,n.jsxs)("div",{className:"w-full h-full min-w-0 flex flex-col",children:[(0,n.jsx)(o.default,{icon:r.SettingsOutlined,title:"Settings"}),(0,n.jsxs)("div",{className:"w-full flex px-4 mt-4 gap-6",children:[(0,n.jsx)(u,{to:"/settings/overview",children:"Overview"}),(0,n.jsx)(u,{to:"/settings/security",children:"Security"}),e?.data?.billingEnabled&&(0,n.jsx)(u,{to:"/settings/billing",children:"Billing"}),(0,n.jsx)(u,{to:"/settings/about",children:"About"})]}),(0,n.jsx)(i.default,{}),(0,n.jsx)(a.Outlet,{})]})}function u(e){let t=(0,a.useLocation)(),s=t.pathname===e.to,r=(0,l.MSpanDeriveClasses)({className:"cursor-pointer pb-3",weight:s?"bold":"normal"});return(0,n.jsx)(a.Link,{to:e.to,className:r,children:e.children})}},"../interface/src/components/Logo/CenteredLogo.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../interface/src/assets/index.js");function r(){return(0,n.jsx)("div",{className:"flex justify-center w-full mt-5 mb-5",children:(0,n.jsx)("img",{src:a.Logo,className:"w-1/3"})})}},"../interface/src/components/MStepper.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var n,a,r=s("../node_modules/react/jsx-runtime.js"),i=s("../node_modules/react/index.js"),l=s.ir(s("../interface/src/components/MDivider.tsx")),o=s.ir(s("../interface/src/components/MSpan.tsx")),c=s.ir(s("../interface/src/util/mergeTailwind.ts"));function d(e){let{steps:t,activeIndex:s}=e,n=[a.Inactive,a.Active,a.Complete],i=t.map((e,a)=>{let i=n[[a>s,a===s,a<s].indexOf(!0)],l=a!=t.length-1;return(0,r.jsx)(u,{state:i,name:e,currentIndex:s,index:a,divider:l},a)});return(0,r.jsx)("div",{className:"w-full flex gap-2 items-center bg-dark-monetr-background-focused p-2 rounded-xl",children:i})}function u(e){let t=(0,c.default)({[a.Inactive]:["dark:border-dark-monetr-background-emphasis","border-dashed"],[a.Active]:["dark:border-dark-monetr-background-emphasis","border-dashed"],[a.Complete]:["dark:border-green-600"]}[e.state],"flex-grow"),s=(0,c.default)({[a.Inactive]:["dark:bg-dark-monetr-background-emphasis"],[a.Active]:["dark:bg-dark-monetr-brand-bright","dark:text-black"],[a.Complete]:["dark:bg-green-600","dark:text-white"]}[e.state],"rounded-full","w-5","h-5","flex","text-center","align-middle","items-center","justify-center"),n=(0,c.default)({"sm:inline hidden":![e.currentIndex,e.currentIndex+1].includes(e.index)},{[a.Inactive]:[],[a.Active]:["dark:text-dark-monetr-brand-bright"],[a.Complete]:["dark:text-green-600"]}[e.state]);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(o.default,{className:"flex gap-1 items-center h-6",children:[(0,r.jsx)(o.default,{className:s,children:e.index+1}),(0,r.jsx)(o.default,{className:n,children:e.name})]}),e.divider&&(0,r.jsx)(l.default,{className:t})]})}(n=a||(a={}))[n.Inactive=0]="Inactive",n[n.Active=1]="Active",n[n.Complete=2]="Complete"},"../interface/src/components/Plaid/OAuthRedirectPlaidLink.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OAuthRedirectPlaidLink",{enumerable:!0,get:function(){return r}});var n=s("../node_modules/react/index.js"),a=s("../node_modules/react-plaid-link/dist/index.umd.js");let r=e=>{let{open:t,ready:s}=(0,a.usePlaidLink)({token:e.linkToken,receivedRedirectUri:window.location.href,onSuccess:e.plaidOnSuccess,onExit:e.plaidOnExit,onEvent:e.plaidOnEvent,onLoad:e.plaidOnLoad});return(0,n.useEffect)(()=>{s&&t()},[s,t]),null}},"../interface/src/modals/NewGoalModal.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showNewGoalModal",{enumerable:!0,get:function(){return y}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s.ir(s("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/MAmountField.tsx")),o=s.ir(s("../interface/src/components/MButton.tsx")),c=s.ir(s("../interface/src/components/MDatePicker.tsx")),d=s.ir(s("../interface/src/components/MForm.tsx")),u=s.ir(s("../interface/src/components/MModal.tsx")),m=s.ir(s("../interface/src/components/MSelectFunding.tsx")),f=s.ir(s("../interface/src/components/MSpan.tsx")),x=s.ir(s("../interface/src/components/MTextField.tsx")),p=s("../node_modules/date-fns/esm/index.js"),h=s("../interface/src/hooks/bankAccounts.ts"),g=s("../interface/src/hooks/spending.ts"),j=s.ir(s("../interface/src/models/Spending.ts")),b=s("../interface/src/util/amounts.ts");let w={name:"",amount:0,nextOccurrence:(0,p.startOfTomorrow)(),fundingScheduleId:0},v=r.default.create(function(){let e=(0,r.useModal)(),{enqueueSnackbar:t}=(0,i.useSnackbar)(),s=(0,h.useSelectedBankAccountId)(),v=(0,g.useCreateSpending)(),y=(0,a.useRef)(null);async function N(n,a){let r=new j.default({bankAccountId:s,name:n.name.trim(),nextRecurrence:(0,p.startOfDay)(new Date(n.nextOccurrence)),spendingType:j.SpendingType.Goal,fundingScheduleId:n.fundingScheduleId,targetAmount:(0,b.friendlyToAmount)(n.amount),ruleset:null});return a.setSubmitting(!0),v(r).then(t=>e.resolve(t)).then(()=>e.remove()).catch(e=>void t(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>a.setSubmitting(!1))}return(0,n.jsx)(u.default,{open:e.visible,ref:y,className:"sm:max-w-xl",children:(0,n.jsxs)(d.default,{onSubmit:N,initialValues:w,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-goal-modal",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(f.default,{className:"font-bold text-xl mb-2",children:"Create A New Goal"}),(0,n.jsx)(x.default,{id:"goal-name-search",name:"name",label:"What are you budgeting for?",required:!0,autoComplete:"off",placeholder:"Vacation, Furniture, Car..."}),(0,n.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,n.jsx)(l.default,{name:"amount",label:"How much do you need?",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,n.jsx)(c.default,{className:"w-full md:w-1/2",label:"How soon will you need it?",min:(0,p.startOfTomorrow)(),name:"nextOccurrence",required:!0})]}),(0,n.jsx)(m.default,{menuPortalTarget:document.body,label:"When do you want to fund the goal?",required:!0,name:"fundingScheduleId"})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(o.default,{color:"cancel",onClick:e.remove,"data-testid":"close-new-goal-modal",children:"Cancel"}),(0,n.jsx)(o.default,{color:"primary",type:"submit",children:"Create"})]})]})})});function y(){return r.default.show(v)}},"../interface/src/monetr.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return W}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s.ir(s("../interface/src/components/Layout/BankSidebar.tsx")),l=s.ir(s("../interface/src/components/Layout/BudgetingSidebar.tsx")),o=s.ir(s("../interface/src/components/Layout/MobileSidebar.tsx")),c=s.ir(s("../interface/src/components/Layout/SettingsLayout.tsx")),d=s("../interface/src/hooks/bankAccounts.ts"),u=s("../interface/src/hooks/links.ts"),m=s("../interface/src/hooks/useAppConfiguration.ts"),f=s("../interface/src/hooks/useAuthentication.ts"),x=s.ir(s("../interface/src/loading.tsx")),p=s.ir(s("../interface/src/pages/account/subscribe/index.tsx")),h=s.ir(s("../interface/src/pages/account/subscribe/after.tsx")),g=s.ir(s("../interface/src/pages/error/config.tsx")),j=s.ir(s("../interface/src/pages/expense/details.tsx")),b=s.ir(s("../interface/src/pages/expenses.tsx")),w=s.ir(s("../interface/src/pages/funding.tsx")),v=s.ir(s("../interface/src/pages/funding/details.tsx")),y=s.ir(s("../interface/src/pages/goals.tsx")),N=s.ir(s("../interface/src/pages/goals/details.tsx")),k=s.ir(s("../interface/src/pages/link/create.tsx")),S=s.ir(s("../interface/src/pages/login.tsx")),_=s.ir(s("../interface/src/pages/logout.tsx")),M=s.ir(s("../interface/src/pages/password/forgot.tsx")),P=s.ir(s("../interface/src/pages/password/reset.tsx")),A=s.ir(s("../interface/src/pages/plaid/oauth-return.tsx")),O=s.ir(s("../interface/src/pages/register.tsx")),T=s.ir(s("../interface/src/pages/settings/about.tsx")),C=s.ir(s("../interface/src/pages/settings/billing.tsx")),I=s.ir(s("../interface/src/pages/settings/overview.tsx")),F=s.ir(s("../interface/src/pages/settings/security.tsx")),B=s.ir(s("../interface/src/pages/setup.tsx")),z=s.ir(s("../interface/src/pages/setup/manual.tsx")),L=s.ir(s("../interface/src/pages/subscription.tsx")),R=s.ir(s("../interface/src/pages/transaction/details.tsx")),E=s.ir(s("../interface/src/pages/transactions.tsx")),q=s.ir(s("../interface/src/pages/verify/email.tsx")),D=s.ir(s("../interface/src/pages/verify/email/resend.tsx")),$=s.ir(s("../interface/src/util/sortAccounts.ts"));function W(){let{result:e,isLoading:t,isError:s}=(0,m.useAppConfigurationSink)(),{isLoading:a,result:{user:l,isActive:d}}=(0,f.useAuthenticationSink)(),{isLoading:$,data:W}=(0,u.useLinks)();if(t||a||$&&d)return(0,n.jsx)(x.default,{});if(s)return(0,n.jsx)(g.default,{});if(!l)return(0,n.jsxs)(r.Routes,{children:[(0,n.jsx)(r.Route,{path:"/login",element:(0,n.jsx)(S.default,{})}),(0,n.jsx)(r.Route,{path:"/logout",element:(0,n.jsx)(_.default,{})}),e?.allowSignUp&&(0,n.jsx)(r.Route,{path:"/register",element:(0,n.jsx)(O.default,{})}),e?.allowForgotPassword&&(0,n.jsx)(r.Route,{path:"/password/forgot",element:(0,n.jsx)(M.default,{})}),(0,n.jsx)(r.Route,{path:"/password/reset",element:(0,n.jsx)(P.default,{})}),(0,n.jsx)(r.Route,{path:"/verify/email",element:(0,n.jsx)(q.default,{})}),(0,n.jsx)(r.Route,{path:"/verify/email/resend",element:(0,n.jsx)(D.default,{})}),(0,n.jsx)(r.Route,{path:"/",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/login"})}),(0,n.jsx)(r.Route,{path:"*",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/login"})})]});if(!d)return(0,n.jsxs)(r.Routes,{children:[(0,n.jsx)(r.Route,{path:"/logout",element:(0,n.jsx)(_.default,{})}),(0,n.jsx)(r.Route,{path:"/account/subscribe",element:(0,n.jsx)(p.default,{})}),(0,n.jsx)(r.Route,{path:"/account/subscribe/after",element:(0,n.jsx)(h.default,{})}),(0,n.jsx)(r.Route,{path:"*",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/account/subscribe"})})]});let H=W.length>0;return H?(0,n.jsxs)("div",{className:"max-w-screen max-h-screen h-full w-full dark:bg-dark-monetr-background flex",children:[(0,n.jsx)(i.default,{className:"hidden lg:flex"}),(0,n.jsx)(o.default,{}),(0,n.jsx)("div",{className:"w-full h-full flex min-w-0 overflow-y-auto",children:(0,n.jsxs)(r.Routes,{children:[(0,n.jsxs)(r.Route,{path:"/bank/:bankAccountId",element:(0,n.jsx)(U,{}),children:[(0,n.jsx)(r.Route,{path:"transactions",element:(0,n.jsx)(E.default,{})}),(0,n.jsx)(r.Route,{path:"transactions/:transactionId/details",element:(0,n.jsx)(R.default,{})}),(0,n.jsx)(r.Route,{path:"expenses",element:(0,n.jsx)(b.default,{})}),(0,n.jsx)(r.Route,{path:"expenses/:spendingId/details",element:(0,n.jsx)(j.default,{})}),(0,n.jsx)(r.Route,{path:"goals",element:(0,n.jsx)(y.default,{})}),(0,n.jsx)(r.Route,{path:"goals/:spendingId/details",element:(0,n.jsx)(N.default,{})}),(0,n.jsx)(r.Route,{path:"funding",element:(0,n.jsx)(w.default,{})}),(0,n.jsx)(r.Route,{path:"funding/:fundingId/details",element:(0,n.jsx)(v.default,{})})]}),(0,n.jsxs)(r.Route,{path:"/settings",element:(0,n.jsx)(c.default,{}),children:[(0,n.jsx)(r.Route,{path:"",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/settings/overview"})}),(0,n.jsx)(r.Route,{path:"overview",element:(0,n.jsx)(I.default,{})}),(0,n.jsx)(r.Route,{path:"security",element:(0,n.jsx)(F.default,{})}),e?.billingEnabled&&(0,n.jsx)(r.Route,{path:"billing",element:(0,n.jsx)(C.default,{})}),(0,n.jsx)(r.Route,{path:"about",element:(0,n.jsx)(T.default,{})})]}),(0,n.jsx)(r.Route,{path:"/link/create",element:(0,n.jsx)(k.default,{})}),(0,n.jsx)(r.Route,{path:"/logout",element:(0,n.jsx)(_.default,{})}),(0,n.jsx)(r.Route,{path:"/plaid/oauth-return",element:(0,n.jsx)(A.default,{})}),(0,n.jsx)(r.Route,{path:"/subscription",element:(0,n.jsx)(L.default,{})}),(0,n.jsx)(r.Route,{path:"/account/subscribe/after",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/"})}),(0,n.jsx)(r.Route,{path:"/setup",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/"})}),(0,n.jsx)(r.Route,{index:!0,path:"/",element:(0,n.jsx)(G,{})})]})})]}):(0,n.jsxs)(r.Routes,{children:[(0,n.jsx)(r.Route,{path:"/logout",element:(0,n.jsx)(_.default,{})}),(0,n.jsx)(r.Route,{path:"/setup",element:(0,n.jsx)(B.default,{manualEnabled:!0})}),(0,n.jsx)(r.Route,{path:"/setup/manual",element:(0,n.jsx)(z.default,{})}),(0,n.jsx)(r.Route,{path:"/plaid/oauth-return",element:(0,n.jsx)(A.default,{})}),(0,n.jsx)(r.Route,{path:"/account/subscribe/after",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/setup"})}),(0,n.jsx)(r.Route,{index:!0,path:"*",element:(0,n.jsx)(r.Navigate,{replace:!0,to:"/setup"})})]})}function U(){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(l.default,{className:"hidden lg:flex"}),(0,n.jsx)("div",{className:"w-full h-full min-w-0 flex flex-col",children:(0,n.jsx)(r.Outlet,{})})]})}function G(){let{data:e,isLoading:t}=(0,u.useLinks)(),{data:s,isLoading:a}=(0,d.useBankAccounts)();if(t||a||0===e.length)return null;let i=e[0],l=(0,$.default)(Array.from(s.values()).filter(e=>e.linkId===i.linkId));if(0===l.length)return null;let o=l[0];return(0,n.jsx)(r.Navigate,{replace:!0,to:`/bank/${o.bankAccountId}/transactions`})}},"../interface/src/pages/account/subscribe/after.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s("../node_modules/@mui/material/index.js"),l=s("../interface/src/assets/index.js"),o=s("../interface/src/hooks/useAuthentication.ts");function c(){let{search:e}=(0,r.useLocation)(),t=(0,r.useNavigate)(),s=(0,o.useAfterCheckout)();return(0,a.useEffect)(()=>{let n=new URLSearchParams(e),a=n.get("session");s(a).then(e=>{if(e.isActive)return t("/");alert(e?.message||"Subscription is not active")}).catch(()=>alert("Unable to determine your subscription state, please contact support@monetr.app"))},[e,s,t]),(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,n.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,n.jsx)("div",{className:"flex justify-center w-full mb-5",children:(0,n.jsx)("img",{src:l.Logo,className:"w-1/3"})}),(0,n.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,n.jsx)(i.Typography,{variant:"h5",className:"w-full text-center",children:"Getting your account setup..."})}),(0,n.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,n.jsx)(i.CircularProgress,{})})]})})}},"../interface/src/pages/account/subscribe/index.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/notistack/notistack.esm.js"),i=s("../interface/src/components/MButton.tsx"),l=s.ir(s("../interface/src/components/MLink.tsx")),o=s.ir(s("../interface/src/components/MLogo.tsx")),c=s.ir(s("../interface/src/components/MSpan.tsx")),d=s("../interface/src/hooks/useAppConfiguration.ts"),u=s("../interface/src/hooks/useAuthentication.ts"),m=s.ir(s("../interface/src/util/request.ts"));function f(){let{enqueueSnackbar:e}=(0,r.useSnackbar)(),{initialPlan:t}=(0,d.useAppConfiguration)(),{result:{hasSubscription:s,activeUntil:f}}=(0,u.useAuthenticationSink)(),[x,p]=(0,a.useState)(!1),h=(0,a.useCallback)(()=>{let n;p(!0),t&&!s?n=(0,m.default)().post("/billing/create_checkout",{priceId:"",cancelPath:"/logout"}):s&&(n=(0,m.default)().get("/billing/portal")),n.then(e=>window.location.assign(e.data.url)).catch(t=>{p(!1),e(t?.response?.data?.error||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e,s,t]);return f?(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,n.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,n.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,n.jsx)(o.default,{className:"max-h-24"}),(0,n.jsx)(c.default,{size:"2xl",weight:"semibold",className:"text-center",children:"Your subscription is no longer active"}),(0,n.jsx)(c.default,{size:"lg",className:"text-center",children:"Thank you for having subscribed to monetr before! If you'd like to continue using monetr you will have to resubscribe below. Click continue to proceed to our billing portal."}),(0,n.jsx)(i.MBaseButton,{color:"primary",disabled:x,onClick:h,children:"Continue"})]}),!x&&(0,n.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,n.jsx)(c.default,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,n.jsx)(l.default,{to:"/logout",size:"sm",children:"Logout for now"})]})]})}):(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,n.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,n.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,n.jsx)(o.default,{className:"max-h-24"}),(0,n.jsx)(c.default,{size:"2xl",weight:"semibold",className:"text-center",children:"Your free trial has ended"}),(0,n.jsx)(c.default,{size:"lg",className:"text-center",children:"Thank you for trying out monetr! We hope that you found our budgeting tools useful during your trial. If you'd like to continue using monetr you can easily subscribe below."}),(0,n.jsx)(i.MBaseButton,{color:"primary",disabled:x,onClick:h,children:"Continue"})]}),!x&&(0,n.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,n.jsx)(c.default,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,n.jsx)(l.default,{to:"/logout",size:"sm",children:"Logout for now"})]})]})})}},"../interface/src/pages/expense/ExpenseTimeline.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/@mui/icons-material/esm/index.js"),r=s.ir(s("../interface/src/components/MSpan.tsx")),i=s("../node_modules/date-fns/esm/index.js"),l=s("../interface/src/hooks/forecast.ts"),o=s("../interface/src/hooks/fundingSchedules.ts"),c=s("../interface/src/hooks/spending.ts"),d=s("../interface/src/util/amounts.ts"),u=s.ir(s("../interface/src/util/mergeTailwind.ts"));function m(e){let{data:t}=(0,c.useSpending)(e.spendingId),{data:s}=(0,o.useFundingSchedule)(t?.fundingScheduleId),{result:m,isLoading:f,isError:x}=(0,l.useForecast)();if(f)return(0,n.jsx)(r.default,{children:"Loading..."});if(x||!t)return(0,n.jsx)(r.default,{children:"Failed to load expense forecast!"});let p=m.events.filter(t=>t.spending.some(t=>t.spendingId===e.spendingId)).map(t=>({...t,spending:t.spending.filter(t=>t.spendingId===e.spendingId)})),h=p.map(t=>{let s={date:t.date,totalContributedAmount:t.contribution,totalSpentAmount:t.transaction,spentAmount:0,contributedAmount:0,endingAllocation:0};return t.spending.forEach(t=>{t.spendingId===e.spendingId&&(s.spentAmount+=t.transactionAmount,s.contributedAmount+=t.contributionAmount,s.endingAllocation+=t.rollingAllocation)}),s});function g(e){let r="",l="",o=null,c=null;if(e.contributedAmount>0&&e.spentAmount>0)r="Contribution & Spending",c=(0,n.jsx)(a.AirlineStopsOutlined,{}),l=e.endingAllocation>0?`An estimated ${(0,d.formatAmount)(e.spentAmount)} will be spent or be ready to spend, ${(0,d.formatAmount)(e.contributedAmount)} was contributed to this budget at the same time. ${(0,d.formatAmount)(e.endingAllocation)} is left over to use from this budget until the next contribution.`:`An estimated ${(0,d.formatAmount)(e.spentAmount)} will be spent or be ready to spend, included the ${(0,d.formatAmount)(e.contributedAmount)} that was contributed to this budget at the same time to account for the spending.`;else if(0===e.contributedAmount&&e.spentAmount>0)r="Spending",c=(0,n.jsx)(a.SouthEast,{}),l=`An estimated ${(0,d.formatAmount)(e.spentAmount)} will be spent or will be ready to spend, from your ${t.name} budget.`;else{if(!(e.contributedAmount>0)||0!==e.spentAmount)return null;r="Contributition",c=(0,n.jsx)(a.NorthEast,{}),l=`${(0,d.formatAmount)(e.contributedAmount)} will be allocated towards ${t.name} from ${s.name}, resulting in a total allocation of ${(0,d.formatAmount)(e.endingAllocation)}.`,e.totalContributedAmount>e.contributedAmount&&(o=`A total of ${(0,d.formatAmount)(e.totalContributedAmount)} will be contributed to all budgets on this day.`)}let m=(0,u.default)({"mb-5":!e.last},"ml-4");return(0,n.jsxs)("li",{className:m,children:[(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,n.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,i.format)(e.date,"MMMM do")}),(0,n.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[r," ",c]}),(0,n.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:l}),o&&(0,n.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:o})]})}return(0,n.jsxs)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:[(0,n.jsxs)("li",{className:"mb-5 ml-4",children:[(0,n.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,n.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,i.format)(m.startingTime,"MMMM do")}),(0,n.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[t.name,(0,n.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300 ml-3",children:"Today"})]}),(0,n.jsxs)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:[t.name," currently has ",t.getCurrentAmountString()," allocated towards it."]}),(0,n.jsx)("p",{className:"mb-4 text-base font-normal text-zinc-500 dark:text-zinc-400",children:"Below is the timeline for this expense over the next month."})]}),h.map((e,t)=>(0,n.jsx)(g,{...e,last:h.length-1===t},(0,i.getUnixTime)(e.date)))]})}},"../interface/src/pages/expense/details.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return k}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/pages/expense/ExpenseTimeline.tsx")),o=s.ir(s("../interface/src/components/MAmountField.tsx")),c=s.ir(s("../interface/src/components/MButton.tsx")),d=s.ir(s("../interface/src/components/MDatePicker.tsx")),u=s.ir(s("../interface/src/components/MDivider.tsx")),m=s.ir(s("../interface/src/components/MForm.tsx")),f=s.ir(s("../interface/src/components/MSelectFrequency.tsx")),x=s.ir(s("../interface/src/components/MSelectFunding.tsx")),p=s.ir(s("../interface/src/components/MSpan.tsx")),h=s.ir(s("../interface/src/components/MTextField.tsx")),g=s.ir(s("../interface/src/components/MTopNavigation.tsx")),j=s("../node_modules/date-fns/esm/index.js"),b=s("../interface/src/hooks/spending.ts"),w=s("../interface/src/modals/TransferModal.tsx"),v=s.ir(s("../interface/src/models/Spending.ts")),y=s.ir(s("../interface/src/pages/new/MerchantIcon.tsx")),N=s("../interface/src/util/amounts.ts");function k(){let e=(0,b.useRemoveSpending)(),t=(0,b.useUpdateSpending)(),s=(0,a.useNavigate)(),{spendingId:k}=(0,a.useParams)(),{enqueueSnackbar:S}=(0,i.useSnackbar)(),{data:_,isLoading:M,isError:P}=(0,b.useSpending)(k&&+k);if(!k)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(p.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(p.default,{className:"text-2xl",children:"There wasn't an expense specified..."})]});if(M)return(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,n.jsx)(p.default,{className:"text-5xl",children:"One moment..."})});if(P)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(p.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(p.default,{className:"text-2xl",children:"Couldn't find the expense you specified..."})]});if(!_)return null;if(_.spendingType!==v.SpendingType.Expense)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(p.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(p.default,{className:"text-2xl",children:"This spending object is not an expense..."})]});async function A(){return _?window.confirm(`Are you sure you want to delete expense: ${_.name}`)?e(_.spendingId).then(()=>void s(`/bank/${_.bankAccountId}/expenses`)):Promise.resolve():Promise.resolve()}async function O(e,s){s.setSubmitting(!0);let n=new v.default({..._,name:e.name,description:null,nextRecurrence:(0,j.startOfDay)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:e.recurrenceRule,targetAmount:(0,N.friendlyToAmount)(e.amount)});return t(n).catch(e=>{let t=e.response.data.error||"Failed to update expense.";S(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>s.setSubmitting(!1))}let T={name:_.name,amount:(0,N.amountToFriendly)(_.targetAmount),nextRecurrence:_.nextRecurrence,fundingScheduleId:_.fundingScheduleId,recurrenceRule:_.ruleset};return(0,n.jsxs)(m.default,{initialValues:T,onSubmit:O,className:"flex w-full h-full flex-col",children:[(0,n.jsxs)(g.default,{icon:r.PriceCheckOutlined,title:"Expenses",base:`/bank/${_.bankAccountId}/expenses`,breadcrumb:_?.name,children:[(0,n.jsxs)(c.MBaseButton,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>(0,w.showTransferModal)({initialToSpendingId:_?.spendingId}),children:[(0,n.jsx)(r.SwapVertOutlined,{}),"Transfer"]}),(0,n.jsxs)(c.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:A,children:[(0,n.jsx)(r.DeleteOutlined,{}),"Remove"]}),(0,n.jsxs)(c.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,n.jsx)(r.SaveOutlined,{}),"Save"]})]}),(0,n.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,n.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,n.jsx)(y.default,{name:_?.name})}),(0,n.jsx)(h.default,{className:"w-full",label:"Expense",name:"name",required:!0}),(0,n.jsx)(o.default,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,n.jsx)(d.default,{label:"Next Occurrence",name:"nextRecurrence",className:"w-full",required:!0,min:(0,j.startOfToday)()}),(0,n.jsx)(x.default,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,n.jsx)(f.default,{className:"w-full",dateFrom:"nextRecurrence",label:"How often do you need this expense?",name:"recurrenceRule",placeholder:"Select a spending frequency...",required:!0})]}),(0,n.jsx)(u.default,{className:"block md:hidden w-1/2"}),(0,n.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,n.jsx)(p.default,{className:"text-xl my-2",children:"Expense Timeline"}),(0,n.jsx)(l.default,{spendingId:_.spendingId})]})]})})]})}},"../interface/src/pages/funding.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s.ir(s("../interface/src/pages/new/FundingItem.tsx")),l=s("../interface/src/components/MButton.tsx"),o=s.ir(s("../interface/src/components/MSpan.tsx")),c=s.ir(s("../interface/src/components/MTopNavigation.tsx")),d=s("../interface/src/hooks/fundingSchedules.ts"),u=s("../interface/src/modals/NewFundingModal.tsx");function m(){let{isError:e,isLoading:t,data:s}=(0,d.useFundingSchedulesSink)();return t?(0,n.jsx)(o.default,{children:"Loading..."}):e?(0,n.jsx)(o.default,{children:"Error..."}):(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(c.default,{icon:r.TodayOutlined,title:"Funding Schedules",children:(0,n.jsxs)(l.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:u.showNewFundingModal,children:[(0,n.jsx)(r.AddOutlined,{}),"New Funding Schedule"]})}),(0,n.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",children:(0,n.jsx)(function(){return 0===s.length?(0,n.jsx)(f,{}):(0,n.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:s?.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1).map(e=>(0,n.jsx)(i.default,{funding:e},e.fundingScheduleId))})},{})})]})}function f(){return(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,n.jsxs)("div",{className:"w-full flex justify-center space-x-4",children:[(0,n.jsx)(r.Today,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,n.jsx)(r.ArrowForward,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,n.jsx)(r.AccountBalance,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})]}),(0,n.jsx)(o.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any funding schedules yet..."}),(0,n.jsx)(o.default,{size:"lg",color:"subtle",className:"text-center",children:"Funding schedules tell monetr when to allocate funds towards your expenses and goals."})]})})}},"../interface/src/pages/funding/details.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/MAmountField.tsx")),o=s.ir(s("../interface/src/components/MButton.tsx")),c=s.ir(s("../interface/src/components/MCheckbox.tsx")),d=s.ir(s("../interface/src/components/MDatePicker.tsx")),u=s.ir(s("../interface/src/components/MForm.tsx")),m=s.ir(s("../interface/src/components/MSelectFrequency.tsx")),f=s.ir(s("../interface/src/components/MSpan.tsx")),x=s.ir(s("../interface/src/components/MTextField.tsx")),p=s.ir(s("../interface/src/components/MTopNavigation.tsx")),h=s("../node_modules/date-fns/esm/index.js"),g=s("../interface/src/hooks/fundingSchedules.ts"),j=s.ir(s("../interface/src/models/FundingSchedule.ts")),b=s("../interface/src/util/amounts.ts");function w(){let e=(0,a.useMatch)("/bank/:bankId/funding/:fundingId/details"),t=+e?.params?.fundingId||null,{data:s}=(0,g.useFundingSchedule)(t&&+t),w=(0,a.useNavigate)(),v=(0,g.useUpdateFundingSchedule)(),y=(0,g.useRemoveFundingSchedule)(),{enqueueSnackbar:N}=(0,i.useSnackbar)();if(!t)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(f.default,{className:"text-2xl",children:"There wasn't a funding schedule specified..."})]});if(!s)return null;async function k(e,t){t.setSubmitting(!0);let n=new j.default({...s,name:e.name,nextOccurrence:(0,h.startOfDay)(e.nextOccurrence),ruleset:e.rule,excludeWeekends:e.excludeWeekends,estimatedDeposit:(0,b.friendlyToAmount)(e.estimatedDeposit)});return v(n).catch(e=>{let t=e.response.data.error||"Failed to update funding schedule.";N(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>t.setSubmitting(!1))}async function S(){return s?window.confirm(`Are you sure you want to delete funding schedule: ${s.name}`)?y(s).then(()=>void w(`/bank/${s.bankAccountId}/funding`)).catch(e=>void N(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})):Promise.resolve():Promise.resolve()}let _={name:s.name,nextOccurrence:s.nextOccurrenceOriginal,rule:s.ruleset,excludeWeekends:s.excludeWeekends,estimatedDeposit:(0,b.amountToFriendly)(s.estimatedDeposit)},M=()=>(0,h.isEqual)(s.nextOccurrence,s.nextOccurrenceOriginal)?null:(0,n.jsxs)(f.default,{"data-testid":"funding-schedule-weekend-notice",size:"sm",weight:"medium",children:["Actual occurrence avoids weekend (",(0,h.format)(s.nextOccurrence,"M/dd"),")"]});return(0,n.jsxs)(u.default,{className:"flex w-full h-full flex-col",initialValues:_,onSubmit:k,validate:function(e){let t={};return(""===e.rule||!e.rule)&&(t.rule="Frequency is required for funding schedules."),t},children:[(0,n.jsxs)(p.default,{title:"Funding Schedules",icon:r.TodayOutlined,breadcrumb:s.name,base:`/bank/${s.bankAccountId}/funding`,children:[(0,n.jsxs)(o.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:S,children:[(0,n.jsx)(r.DeleteOutlined,{}),"Remove"]}),(0,n.jsxs)(o.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,n.jsx)(r.SaveOutlined,{}),"Save"]})]}),(0,n.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:(0,n.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,n.jsx)(x.default,{className:"w-full",label:"Name",name:"name",id:"funding-name-search",required:!0}),(0,n.jsx)(d.default,{className:"w-full",label:"Next Occurrence",name:"nextOccurrence",labelDecorator:M,required:!0,"data-testid":"funding-details-date-picker"}),(0,n.jsx)(m.default,{className:"w-full",dateFrom:"nextOccurrence",label:"How often does this funding happen?",name:"rule",placeholder:"Select a funding frequency...",required:!0}),(0,n.jsx)(c.default,{id:"funding-details-exclude-weekends","data-testid":"funding-details-exclude-weekends",name:"excludeWeekends",label:"Exclude weekends",description:"If it were to land on a weekend, it is adjusted to the previous weekday instead."}),(0,n.jsx)(l.default,{allowNegative:!1,label:"Estimated Deposit",name:"estimatedDeposit",placeholder:"Example: $ 1,000.00"})]})})})]})}},"../interface/src/pages/goals.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s("../node_modules/@mui/icons-material/esm/index.js"),l=s.ir(s("../interface/src/pages/new/GoalItem.tsx")),o=s("../interface/src/components/MButton.tsx"),c=s.ir(s("../interface/src/components/MSpan.tsx")),d=s.ir(s("../interface/src/components/MTopNavigation.tsx")),u=s("../interface/src/hooks/spending.ts"),m=s("../interface/src/modals/NewGoalModal.tsx"),f=s("../interface/src/models/Spending.ts");let x=0;function p(){let{result:e,isError:t,isLoading:s}=(0,u.useSpendingFiltered)(f.SpendingType.Goal),p=(0,a.useRef)(null),g=(0,r.useNavigationType)(),j=(0,a.useCallback)(()=>{x=p.current.scrollTop},[p]);return((0,a.useEffect)(()=>{if(!p.current)return;"POP"===g&&(p.current.scrollTop=x);let e=p.current;return p.current.addEventListener("scroll",j),()=>{e.removeEventListener("scroll",j)}},[p.current,g,j]),s)?(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,n.jsx)(c.default,{className:"text-5xl",children:"One moment..."})}):t?(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(i.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(c.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(c.default,{className:"text-2xl",children:"We weren't able to retrieve goals at this time..."})]}):(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(d.default,{icon:i.SavingsOutlined,title:"Goals",children:(0,n.jsxs)(o.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:m.showNewGoalModal,children:[(0,n.jsx)(i.AddOutlined,{}),"New Goal"]})}),(0,n.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",ref:p,children:(0,n.jsx)(function(){return 0===e.length?(0,n.jsx)(h,{}):(0,n.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:e?.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1).map(e=>(0,n.jsx)(l.default,{spending:e},e.spendingId))})},{})})]})}function h(){return(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,n.jsx)("div",{className:"w-full flex justify-center space-x-4",children:(0,n.jsx)(i.SavingsOutlined,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})}),(0,n.jsx)(c.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any goals yet..."}),(0,n.jsx)(c.default,{size:"lg",color:"subtle",className:"text-center",children:"Goals are longer budgets that don't recur. They are meant to be used to put money aside for something like saving up for a vaction, or paying off a loan."})]})})}},"../interface/src/pages/goals/details.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return y}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/MAmountField.tsx")),o=s.ir(s("../interface/src/components/MButton.tsx")),c=s.ir(s("../interface/src/components/MCheckbox.tsx")),d=s.ir(s("../interface/src/components/MDatePicker.tsx")),u=s.ir(s("../interface/src/components/MForm.tsx")),m=s.ir(s("../interface/src/components/MSelectFunding.tsx")),f=s.ir(s("../interface/src/components/MSpan.tsx")),x=s.ir(s("../interface/src/components/MTextField.tsx")),p=s.ir(s("../interface/src/components/MTopNavigation.tsx")),h=s("../node_modules/date-fns/esm/index.js"),g=s("../interface/src/hooks/spending.ts"),j=s("../interface/src/modals/TransferModal.tsx"),b=s.ir(s("../interface/src/models/Spending.ts")),w=s.ir(s("../interface/src/pages/new/MerchantIcon.tsx")),v=s("../interface/src/util/amounts.ts");function y(){let e=(0,g.useRemoveSpending)(),t=(0,g.useUpdateSpending)(),s=(0,a.useNavigate)(),{spendingId:y}=(0,a.useParams)(),{enqueueSnackbar:N}=(0,i.useSnackbar)(),{data:k,isLoading:S,isError:_}=(0,g.useSpending)(y&&+y);if(!y)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(f.default,{className:"text-2xl",children:"There wasn't a goal specified..."})]});if(S)return(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,n.jsx)(f.default,{className:"text-5xl",children:"One moment..."})});if(_)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(f.default,{className:"text-2xl",children:"Couldn't find the goal you specified..."})]});if(!k)return null;if(k.spendingType!==b.SpendingType.Goal)return(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,n.jsx)(r.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,n.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,n.jsx)(f.default,{className:"text-2xl",children:"This spending object is not a goal..."})]});async function M(){return k?window.confirm(`Are you sure you want to delete goal: ${k.name}`)?e(k.spendingId).then(()=>void s(`/bank/${k.bankAccountId}/goals`)):Promise.resolve():Promise.resolve()}async function P(e,s){s.setSubmitting(!0);let n=new b.default({...k,name:e.name,description:null,nextRecurrence:(0,h.startOfDay)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:null,targetAmount:(0,v.friendlyToAmount)(e.amount),isPaused:e.isPaused});return t(n).catch(e=>{let t=e.response.data.error||"Failed to update expense.";N(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>s.setSubmitting(!1))}let A={name:k.name,amount:(0,v.amountToFriendly)(k.targetAmount),nextRecurrence:k.nextRecurrence,fundingScheduleId:k.fundingScheduleId,isPaused:k.isPaused};return(0,n.jsxs)(u.default,{initialValues:A,onSubmit:P,className:"flex w-full h-full flex-col",children:[(0,n.jsxs)(p.default,{icon:r.SavingsOutlined,title:"Goals",base:`/bank/${k.bankAccountId}/goals`,breadcrumb:k?.name,children:[(0,n.jsxs)(o.MBaseButton,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>(0,j.showTransferModal)({initialToSpendingId:k?.spendingId}),children:[(0,n.jsx)(r.SwapVertOutlined,{}),"Transfer"]}),(0,n.jsxs)(o.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:M,children:[(0,n.jsx)(r.DeleteOutlined,{}),"Remove"]}),(0,n.jsxs)(o.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,n.jsx)(r.SaveOutlined,{}),"Save"]})]}),(0,n.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:(0,n.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,n.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,n.jsx)(w.default,{name:k?.name})}),(0,n.jsx)(x.default,{className:"w-full",label:"Expense",name:"name",required:!0}),(0,n.jsx)(l.default,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,n.jsx)(d.default,{label:"Target Date",name:"nextRecurrence",className:"w-full",required:!0,min:(0,h.startOfToday)()}),(0,n.jsx)(m.default,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,n.jsx)(c.default,{id:"goal-details-paused","data-testid":"goal-details-paused",name:"isPaused",label:"Paused?",description:"Pause this goal to temporarily stop contributions to it."})]})})})]})}},"../interface/src/pages/link/create.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/@mui/icons-material/esm/index.js"),r=s.ir(s("../interface/src/components/MTopNavigation.tsx")),i=s.ir(s("../interface/src/pages/setup.tsx"));function l(){return(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)(r.default,{icon:a.PowerOutlined,title:"Add another connection"}),(0,n.jsx)(i.default,{alreadyOnboarded:!0,manualEnabled:!0})]})}},"../interface/src/pages/logout.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/@mui/material/index.js"),r=s.ir(s("../interface/src/hooks/useLogout.ts")),i=s.ir(s("../interface/src/hooks/useMountEffect.ts"));function l(){let e=(0,r.default)();return(0,i.default)(()=>{e().finally(()=>window.location.replace("/login"))}),(0,n.jsx)(a.Backdrop,{open:!0,children:(0,n.jsx)(a.CircularProgress,{color:"inherit"})})}},"../interface/src/pages/new/FundingItem.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s("../node_modules/@mui/material/index.js"),l=s.ir(s("../interface/src/components/MSpan.tsx")),o=s("../node_modules/date-fns/esm/index.js"),c=s("../interface/src/hooks/forecast.ts"),d=s("../node_modules/rrule/dist/esm/index.js"),u=s("../interface/src/util/amounts.ts"),m=s.ir(s("../interface/src/util/capitalize.ts"));function f(e){let t=(0,a.useNavigate)(),{funding:s}=e,f=(0,c.useNextFundingForecast)(s.fundingScheduleId),x=(0,d.rrulestr)(s.ruleset),p=s.name.toUpperCase().charAt(0)||"?",h=(0,m.default)(x.toText()),g=s.nextOccurrence,j=(0,o.isThisYear)(g)?"EEEE LLLL do":"EEEE LLLL do, yyyy",b=`${(0,o.format)(g,j)}`;function w(){t(`/bank/${s.bankAccountId}/funding/${s.fundingScheduleId}/details`)}return(0,n.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,n.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:w}),(0,n.jsxs)("div",{className:"flex items-center rounded-lg group-hover:bg-zinc-600 gap-1 md:gap-4 px-2 py-1 h-full cursor-pointer md:cursor-auto",children:[(0,n.jsx)(i.Avatar,{className:"bg-zinc-800 h-10 w-10 text-zinc-200",children:p}),(0,n.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col flex-1 min-w-0 overflow-hidden",children:[(0,n.jsx)(l.default,{weight:"semibold",color:"emphasis",ellipsis:!0,children:s.name}),(0,n.jsx)(l.default,{size:"sm",weight:"medium",ellipsis:!0,children:h}),(0,n.jsx)(l.default,{size:"sm",weight:"medium",ellipsis:!0,children:b})]}),(0,n.jsxs)("div",{className:"flex md:min-w-[14em] shrink-0 justify-end gap-2 items-center",children:[(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsxs)("div",{className:"flex justify-end",children:[(0,n.jsx)("span",{className:"hidden sm:block text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Estimated Contribution"}),(0,n.jsx)("span",{className:"block sm:hidden text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Est."}),"\xa0",(0,n.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:(0,u.formatAmount)(f.data)})]})}),(0,n.jsx)(r.KeyboardArrowRight,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis flex-none md:cursor-pointer",onClick:w})]})]})]})}},"../interface/src/pages/new/GoalItem.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s("../node_modules/@mui/icons-material/esm/index.js"),l=s.ir(s("../interface/src/pages/new/MerchantIcon.tsx")),o=s.ir(s("../interface/src/components/MBadge.tsx")),c=s("../interface/src/hooks/fundingSchedules.ts"),d=s.ir(s("../interface/src/util/mergeTailwind.ts"));function u({spending:e}){let{data:t}=(0,c.useFundingSchedule)(e.fundingScheduleId),s=(0,r.useNavigate)();function a(){s(`/bank/${e.bankAccountId}/goals/${e.spendingId}/details`)}return(0,n.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,n.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:a}),(0,n.jsxs)("div",{className:"w-full flex rounded-lg group-hover:bg-zinc-600 gap-2 items-center px-2 py-1 cursor-pointer md:cursor-auto",children:[(0,n.jsx)(l.default,{name:e.name}),(0,n.jsxs)("div",{className:"w-full flex flex-col min-w-0",children:[(0,n.jsxs)("div",{className:"w-full flex gap-2 items-center min-w-0 justify-between md:justify-normal",children:[(0,n.jsx)("div",{className:"flex items-center md:w-1/2 gap-4 min-w-0 pr-1",children:(0,n.jsxs)("div",{className:"flex flex-col overflow-hidden min-w-0",children:[(0,n.jsxs)("span",{className:"block w-full text-zinc-50 font-semibold text-base overflow-hidden whitespace-nowrap truncate",children:[e.name,(0,n.jsxs)("span",{className:"md:hidden text-zinc-200 font-sm text-sm overflow-hidden whitespace-nowrap truncate",children:["\xa0 ",e.getNextOccurrenceString()]})]}),(0,n.jsx)("span",{className:"hidden md:block text-zinc-200 font-sm text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:e.getNextOccurrenceString()}),(0,n.jsxs)("span",{className:"md:hidden text-zinc-200 text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:[e.getNextContributionAmountString()," / ",t?.name]})]})}),(0,n.jsx)("div",{className:"hidden md:flex w-1/2 overflow-hidden flex-1 min-w-0 items-center",children:(0,n.jsxs)("span",{className:"text-zinc-50/75 font-medium text-base text-ellipsis whitespace-nowrap overflow-hidden min-w-0",children:[e.getNextContributionAmountString()," / ",t?.name]})}),(0,n.jsx)(m,{spending:e})]}),(0,n.jsx)(f,{spending:e})]}),(0,n.jsx)(i.KeyboardArrowRight,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:a})]})]})}function m({spending:e}){let t=(0,d.default)({"text-green-500":e.targetAmount<=e.currentAmount,"text-blue-500":e.targetAmount!==e.currentAmount},"text-end","font-semibold");return e.getGoalIsInProgress()?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("div",{className:"flex md:hidden shrink-0 items-center gap-2",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:t,children:e.getCurrentAmountString()}),(0,n.jsx)("hr",{className:"w-full border-0 border-b-[thin] border-zinc-600"}),(0,n.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]})}),(0,n.jsx)("div",{className:"hidden md:flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsxs)("div",{className:"flex justify-end",children:[(0,n.jsx)("span",{className:t,children:e.getCurrentAmountString()}),"\xa0",(0,n.jsx)("span",{className:"text-end text-zinc-500 group-hover:text-zinc-400 font-medium",children:"of"}),"\xa0",(0,n.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]})})})]}):(0,n.jsx)("div",{className:"flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,n.jsx)(o.default,{className:"w-fit justify-end dark:bg-green-600",weight:"medium",children:e.getCurrentAmountString()})})}function f({spending:e}){let{usedAmount:t,currentAmount:s,targetAmount:a}=e,r=(Math.min(t,a)/a*100).toFixed(0),i=(Math.min(s+t,a)/a*100).toFixed(0);return(0,n.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:[(0,n.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${i}%`}}),(0,n.jsx)("div",{className:"absolute top-0 bg-blue-600 h-1.5 rounded-full dark:bg-blue-600",style:{width:`${r}%`}})]})}},"../interface/src/pages/password/reset.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/MButton.tsx")),o=s.ir(s("../interface/src/components/MForm.tsx")),c=s.ir(s("../interface/src/components/MLink.tsx")),d=s.ir(s("../interface/src/components/MLogo.tsx")),u=s.ir(s("../interface/src/components/MSpan.tsx")),m=s.ir(s("../interface/src/components/MTextField.tsx")),f=s.ir(s("../interface/src/hooks/useResetPassword.ts"));let x={password:"",verifyPassword:""};function p(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,r.useLocation)(),s=(0,r.useNavigate)(),p=(0,f.default)(),{state:h}=(0,r.useLocation)(),g=h&&h.message||"Enter the new password you would like to use.",j=t.search,b=new URLSearchParams(j),w=b.get("token")||h&&h.token;async function v(e,t){return t.setSubmitting(!0),p(e.password,w).catch(()=>t.setSubmitting(!1))}return(0,a.useEffect)(()=>{!w&&(s("/login"),e("You must get a password reset link to change your password.",{variant:"warning",disableWindowBlurListener:!0})),window.history.replaceState({},document.title,w?t.pathname:"/login")},[w,e,s,t.pathname]),(0,n.jsxs)(o.default,{onSubmit:v,initialValues:x,validate:function(e){let t={};return e.password&&e.password.trim().length<8&&(t.password="Password must be at least 8 characters long."),e.verifyPassword&&e.password!==e.verifyPassword&&(t.verifyPassword="Passwords must match."),t},className:"w-full h-full flex flex-col pt-10 md:pt-0 mb:pb-10 md:justify-center items-center px-5 gap-1",children:[(0,n.jsxs)("div",{className:"flex items-center flex-col gap-1 w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2",children:[(0,n.jsx)("div",{className:"max-w-[128px] w-full",children:(0,n.jsx)(d.default,{})}),(0,n.jsx)(u.default,{className:"flex items-center text-center",children:g}),(0,n.jsx)(m.default,{autoFocus:!0,autoComplete:"current-password",label:"Password",name:"password",type:"password",required:!0,className:"w-full"}),(0,n.jsx)(m.default,{autoComplete:"current-password",label:"Verify Password",name:"verifyPassword",type:"password",required:!0,className:"w-full"}),(0,n.jsx)(l.default,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})]}),(0,n.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,n.jsx)(u.default,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,n.jsx)(c.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}},"../interface/src/pages/plaid/oauth-return.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s("../node_modules/@mui/material/index.js"),l=s.ir(s("../node_modules/@sentry/react/esm/index.js")),o=s("../node_modules/@tanstack/react-query/build/lib/index.mjs"),c=s("../interface/src/components/Plaid/OAuthRedirectPlaidLink.tsx"),d=s.ir(s("../interface/src/util/request.ts"));function u(){let e=(0,o.useQueryClient)(),[t,s]=(0,a.useState)({loading:!0});(0,a.useEffect)(()=>{(0,d.default)().get("/plaid/link/token/new?use_cache=true").then(e=>s({loading:!1,linkToken:e.data.linkToken})).catch(e=>s({loading:!1,error:e}))},[]);let u=(0,r.useNavigate)();async function m(){s(e=>({longPollAttempts:e.longPollAttempts+1}));let{longPollAttempts:e,linkId:n}=t;return e>6?Promise.resolve():(0,d.default)().get(`/plaid/link/setup/wait/${n}`).then(()=>Promise.resolve()).catch(e=>{if(408===e.response.status)return m();throw e})}function f(e,t){return e&&l.captureEvent({message:"Plaid link exited with error",level:l.Severity.Error,tags:{"plaid.request_id":t.request_id,"plaid.link_session_id":t.link_session_id},breadcrumbs:[{type:"info",level:l.Severity.Info,message:"Error from Plaid link",data:e}]}),u("/")}async function x(t,n){s({loading:!0}),(0,d.default)().post("/plaid/link/token/callback",{publicToken:t,institutionId:n.institution.institution_id,institutionName:n.institution.name,accountIds:n.accounts.map(e=>e.id)}).then(t=>(s({linkId:t.data.linkId}),m().then(()=>Promise.all([e.invalidateQueries(["/links"]),e.invalidateQueries(["/bank_accounts"])]))))}return(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center p-10",children:(0,n.jsx)("div",{children:(0,n.jsx)(i.Card,{children:(0,n.jsx)(i.CardContent,{children:t.loading||!t.linkToken?(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Typography,{variant:"h5",children:"One moment..."}),(0,n.jsx)("div",{className:"flex justify-center items-center p-5 m-5",children:(0,n.jsx)(i.CircularProgress,{})})]}):(0,n.jsx)("div",{children:(0,n.jsx)(c.OAuthRedirectPlaidLink,{linkToken:t.linkToken,plaidOnSuccess:x,plaidOnExit:f})})})})})})}},"../interface/src/pages/settings/about.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s.ir(s("../interface/src/components/MDivider.tsx")),r=s.ir(s("../interface/src/components/MSpan.tsx")),i=s("../node_modules/date-fns/esm/index.js"),l=s("../interface/src/hooks/useAppConfiguration.ts");function o(){let{release:e,revision:t,buildType:s,buildTime:o}=(0,l.useAppConfiguration)();return(0,n.jsxs)("div",{className:"w-full flex flex-col p-4 gap-8",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,n.jsx)(r.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"About monetr"}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Version"}),(0,n.jsx)(r.default,{component:"code",size:"lg",children:e||"Unknown"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Revision"}),(0,n.jsx)(r.default,{component:"code",size:"lg",children:t?t.slice(0,7):"Unknown"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Type"}),(0,n.jsx)(r.default,{component:"code",size:"lg",children:s||"Unknown"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Time"}),(0,n.jsx)(r.default,{component:"code",size:"lg",children:(0,i.format)(o,"LLLL do yyyy, h:mmaaa OOOO")})]}),(0,n.jsx)(a.default,{})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,n.jsx)(r.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Need Help?"}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Source Code"}),(0,n.jsx)(c,{href:"https://github.com/monetr/monetr",children:"https://github.com/monetr/monetr"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Email"}),(0,n.jsx)(c,{href:"mailto:support@monetr.app",children:"support@monetr.app"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Github Discussions"}),(0,n.jsx)(c,{href:"https://github.com/monetr/monetr/discussions",children:"https://github.com/monetr/monetr/discussions"})]}),(0,n.jsx)(a.default,{}),(0,n.jsxs)("div",{className:"flex p-4",children:[(0,n.jsx)(r.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Discord"}),(0,n.jsx)(c,{href:"https://discord.gg/68wTCXrhuq",children:"Join Discord Server"})]}),(0,n.jsx)(a.default,{})]})]})}function c(e){let t=(0,r.MSpanDeriveClasses)({size:"lg",className:"dark:text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline"});return(0,n.jsx)("a",{className:t,target:"_blank",href:e.href,children:e.children})}},"../interface/src/pages/settings/billing.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return x}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/@mui/icons-material/esm/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/MBadge.tsx")),o=s("../interface/src/components/MButton.tsx"),c=s.ir(s("../interface/src/components/MDivider.tsx")),d=s.ir(s("../interface/src/components/MSpan.tsx")),u=s("../node_modules/date-fns/esm/index.js"),m=s("../interface/src/hooks/useAuthentication.ts"),f=s.ir(s("../interface/src/util/request.ts"));function x(){let{result:{trialingUntil:e}}=(0,m.useAuthenticationSink)();return(0,n.jsxs)("div",{className:"w-full flex flex-col p-4 max-w-xl",children:[(0,n.jsx)(d.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Billing"}),(0,n.jsx)(c.default,{}),(0,n.jsx)(h,{trialingUntil:e}),(0,n.jsx)(p,{})]})}function p(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),[t,s]=(0,a.useState)(!1),{result:{hasSubscription:r}}=(0,m.useAuthenticationSink)(),u=(0,a.useCallback)(()=>{s(!0),(0,f.default)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(t=>{s(!1),e(t?.response?.data?.error||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e]);return r?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between py-4",children:[(0,n.jsx)(d.default,{children:"Subscription Status"}),(0,n.jsx)(l.default,{className:"bg-green-600",children:"Active"})]}),(0,n.jsx)(c.default,{}),(0,n.jsx)(o.MBaseButton,{className:"ml-auto mt-4 max-w-xs",color:"primary",disabled:t,onClick:u,children:"Manage Your Subscription"})]}):null}function h(e){if(!e.trialingUntil||(0,u.isPast)(e.trialingUntil))return null;let t=(0,u.isThisYear)(e.trialingUntil)?(0,u.format)(e.trialingUntil,"MMMM do"):(0,u.format)(e.trialingUntil,"MMMM do, yyyy");return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between py-4",children:[(0,n.jsx)(d.default,{children:"Subscription Status"}),(0,n.jsxs)(l.default,{className:"bg-yellow-600",children:[(0,n.jsx)(r.AccessTimeOutlined,{}),"Trialing Until ",t]})]}),(0,n.jsx)(c.default,{}),(0,n.jsx)("div",{className:"flex justify-between py-4",children:(0,n.jsx)(d.default,{children:"You can upgrade to a paid subscription at the end of your trial."})}),(0,n.jsx)(c.default,{})]})}},"../interface/src/pages/settings/overview.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../interface/src/components/MButton.tsx"),r=s.ir(s("../interface/src/components/MSelect.tsx")),i=s.ir(s("../interface/src/components/MTextField.tsx")),l=s("../interface/src/hooks/useAuthentication.ts");function o(){let{result:e}=(0,l.useAuthenticationSink)(),t={label:e?.user?.account?.timezone,value:0};return(0,n.jsxs)("div",{className:"w-full h-full flex flex-col justify-between pb-4",children:[(0,n.jsxs)("div",{className:"w-full flex p-4 flex-col",children:[(0,n.jsx)(i.default,{label:"First Name",name:"firstName",className:"max-w-[24rem] w-full",value:e?.user?.login?.firstName,disabled:!0}),(0,n.jsx)(i.default,{label:"Last Name",name:"lastName",className:"max-w-[24rem] w-full",value:e?.user?.login?.lastName,disabled:!0}),(0,n.jsx)(i.default,{label:"Email Address",name:"email",className:"max-w-[24rem] w-full",value:e?.user?.login.email,disabled:!0}),(0,n.jsx)(r.default,{label:"Timezone",name:"timezone",className:"max-w-[24rem] w-full",options:[t],value:t,disabled:!0})]}),(0,n.jsx)("div",{className:"w-full flex justify-end px-4",children:(0,n.jsx)(a.MBaseButton,{color:"primary",disabled:!0,children:"Save Settings"})})]})}},"../interface/src/pages/settings/security.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/@mui/icons-material/esm/index.js"),r=s("../node_modules/notistack/notistack.esm.js"),i=s.ir(s("../interface/src/components/MButton.tsx")),l=s.ir(s("../interface/src/components/MForm.tsx")),o=s.ir(s("../interface/src/components/MTextField.tsx")),c=s.ir(s("../interface/src/util/request.ts"));let d={currentPassword:"",newPassword:"",repeatPassword:""};function u(){let{enqueueSnackbar:e}=(0,r.useSnackbar)();async function t(t,s){return s.setSubmitting(!0),(0,c.default)().put("/users/security/password",{currentPassword:t.currentPassword,newPassword:t.newPassword}).then(()=>e("Successfully updated password.",{variant:"success",disableWindowBlurListener:!0})).then(()=>s.resetForm()).catch(t=>e(t?.response?.data?.error||"Failed to change password.",{variant:"error",disableWindowBlurListener:!0})).finally(()=>s.setSubmitting(!1))}return(0,n.jsxs)(l.default,{onSubmit:t,initialValues:d,validate:function(e){let t={};return e.currentPassword?(e.newPassword.length<8&&(t.newPassword="New Password must be at least 8 characters long."),e.repeatPassword!==e.newPassword&&(t.repeatPassword="New Passwords must match."),t):(t.currentPassword="Your current password must be provided in order to change your password.",t)},className:"max-w-xl w-full flex flex-col p-4",children:[(0,n.jsx)(o.default,{autoComplete:"current-password",className:"w-full",label:"Current Password",name:"currentPassword",type:"password"}),(0,n.jsx)(o.default,{autoComplete:"new-password",className:"w-full",label:"New Password",name:"newPassword",type:"password"}),(0,n.jsx)(o.default,{autoComplete:"new-password",className:"w-full",label:"Repeat Password",name:"repeatPassword",type:"password"}),(0,n.jsxs)(i.default,{type:"submit",color:"primary",className:"gap-2",children:[(0,n.jsx)(a.PasswordOutlined,{}),"Update Password"]})]})}},"../interface/src/pages/setup/manual.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return N}});var n=s("../node_modules/react/jsx-runtime.js"),a=s("../node_modules/react/index.js"),r=s("../node_modules/react-router-dom/dist/index.js"),i=s.ir(s("../interface/src/components/MAmountField.tsx")),l=s.ir(s("../interface/src/components/MButton.tsx")),o=s.ir(s("../interface/src/components/MDatePicker.tsx")),c=s.ir(s("../interface/src/components/MForm.tsx")),d=s.ir(s("../interface/src/components/MLink.tsx")),u=s.ir(s("../interface/src/components/MLogo.tsx")),m=s.ir(s("../interface/src/components/MSelectFrequency.tsx")),f=s.ir(s("../interface/src/components/MSpan.tsx")),x=s.ir(s("../interface/src/components/MStepper.tsx")),p=s.ir(s("../interface/src/components/MTextField.tsx")),h=s("../node_modules/date-fns/esm/index.js"),g=s("../interface/src/hooks/bankAccounts.ts"),j=s("../interface/src/hooks/fundingSchedules.ts"),b=s("../interface/src/hooks/links.ts"),w=s.ir(s("../interface/src/models/FundingSchedule.ts")),v=s("../interface/src/util/amounts.ts");let y={budgetName:"",accountName:"",startingBalance:0,nextPayday:(0,h.startOfTomorrow)(),ruleset:"",paydayAmount:0};function N(){let e=(0,b.useCreateLink)(),t=(0,g.useCreateBankAccount)(),s=(0,j.useCreateFundingSchedule)(),i=(0,r.useNavigate)(),[o,d]=(0,a.useState)(0),m=(0,a.useCallback)(()=>{d(e=>Math.min(e+1,3))},[d]),f=(0,a.useCallback)(()=>{d(e=>Math.max(e-1,0))},[d]),p=(0,a.useCallback)(e=>{let t={};return""===e.budgetName.trim()&&(t.budgetName="You must provide a name for your budget."),""===e.accountName.trim()&&(t.accountName="You must provide a name for your account."),!e.nextPayday&&(t.nextPayday="You must provide a date."),t},[]),N=(0,a.useCallback)(async(n,a)=>{if(o<3){m();return}return a.setSubmitting(!0),e({institutionName:n.budgetName,customInstitutionName:n.budgetName}).then(e=>t({linkId:e.linkId,name:n.accountName,availableBalance:(0,v.friendlyToAmount)(n.startingBalance),currentBalance:(0,v.friendlyToAmount)(n.startingBalance),accountType:"depository",accountSubType:"checking"})).then(e=>s(new w.default({bankAccountId:e.bankAccountId,name:"Payday",nextOccurrence:(0,h.startOfDay)(n.nextPayday),ruleset:n.ruleset,estimatedDeposit:(0,v.friendlyToAmount)(n.paydayAmount),excludeWeekends:!1}))).then(e=>i(`/bank/${e.bankAccountId}/transactions`)).catch(e=>{throw e})},[e,t,s,i,o,m]);return(0,n.jsxs)("div",{className:"w-full h-full flex justify-between items-center gap-8 flex-col p-4 md:p-2 overflow-auto",children:[(0,n.jsx)("div",{className:"p-0 md:p-8 w-full",children:(0,n.jsx)(x.default,{steps:["Intro","Account","Balances","Income"],activeIndex:o})}),(0,n.jsxs)(c.default,{initialValues:y,validate:p,onSubmit:N,className:"flex flex-col md:justify-center items-center max-w-sm h-full",children:[(0,n.jsx)(u.default,{className:"w-24 h-24"}),(0,n.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-2",children:[(0,n.jsx)(function(){switch(o){case 0:return(0,n.jsx)(k,{});case 1:return(0,n.jsx)(S,{});case 2:return(0,n.jsx)(_,{});case 3:return(0,n.jsx)(M,{});default:return null}},{}),(0,n.jsx)(function(){switch(o){case 0:return(0,n.jsx)(l.default,{color:"primary",onClick:m,children:"Next"});case 3:return(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(l.default,{color:"primary",onClick:f,children:"Back"}),(0,n.jsx)(l.default,{color:"primary",type:"submit",children:"Finish"})]});default:return(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(l.default,{color:"primary",onClick:f,children:"Back"}),(0,n.jsx)(l.default,{color:"primary",onClick:m,children:"Next"})]})}},{})]}),(0,n.jsx)(P,{})]}),(0,n.jsx)("div",{className:"md:h-28"})]})}function k(){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(f.default,{size:"2xl",weight:"medium",children:"Welcome to monetr!"}),(0,n.jsx)(f.default,{size:"lg",color:"subtle",className:"text-center",children:"Let's create a new budget to get started. What do you want to call this budget?"}),(0,n.jsx)(p.default,{name:"budgetName",label:"Budget Name",className:"w-full",placeholder:"My Primary Bank",required:!0})]})}function S(){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(f.default,{size:"lg",color:"subtle",className:"text-center",children:"What do you want to call the primary account you want to use for budgeting? For example; your checking account?"}),(0,n.jsx)(p.default,{name:"accountName",label:"Account Name",className:"w-full",placeholder:"My Checking Account",required:!0})]})}function _(){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(f.default,{size:"lg",color:"subtle",className:"text-center",children:"What is your current available balance? monetr will use this as a starting point, you can modify this at any time later on."}),(0,n.jsx)(i.default,{name:"startingBalance",label:"Starting Balance",className:"w-full",required:!0,allowNegative:!1})]})}function M(){return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(f.default,{size:"lg",color:"subtle",className:"text-center",children:"How often do you get paid and how much do you get paid typically? monetr uses this to forecast balances based on the budgets you create."}),(0,n.jsx)(o.default,{name:"nextPayday",label:"When do you get paid next?",className:"w-full",required:!0,min:(0,h.startOfTomorrow)()}),(0,n.jsx)(m.default,{dateFrom:"nextPayday",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How often do you get paid?",placeholder:"Select a funding frequency...",required:!0,className:"w-full text-start",name:"ruleset"}),(0,n.jsx)(i.default,{name:"paydayAmount",label:"How much do you usually get paid?",className:"w-full",required:!0,allowNegative:!1})]})}function P(){return(0,n.jsxs)("div",{className:"flex justify-center gap-1 mt-4",children:[(0,n.jsx)(f.default,{color:"subtle",size:"sm",children:"Not ready to continue?"}),(0,n.jsx)(d.default,{to:"/logout",size:"sm",children:"Logout for now"})]})}},"../interface/src/pages/subscription.tsx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var n=s("../node_modules/react/jsx-runtime.js");s("../node_modules/react/index.js");var a=s("../node_modules/react-router-dom/dist/index.js"),r=s("../node_modules/@mui/material/index.js"),i=s("../node_modules/notistack/notistack.esm.js"),l=s.ir(s("../interface/src/components/Logo/CenteredLogo.tsx")),o=s.ir(s("../interface/src/hooks/useMountEffect.ts")),c=s.ir(s("../interface/src/util/request.ts"));function d(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,a.useNavigate)();return(0,o.default)(()=>{(0,c.default)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(s=>{e(s?.response?.data?.error||"Failed to navigate to billing portal.",{variant:"error",disableWindowBlurListener:!0}),t("/")})}),(0,n.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,n.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,n.jsx)(l.default,{}),(0,n.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,n.jsx)(r.Typography,{variant:"h5",className:"w-full text-center",children:"Loading the billing portal..."})}),(0,n.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,n.jsx)(r.CircularProgress,{})})]})})}},"../interface/src/hooks/forecast.ts":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{useNextFundingForecast:function(){return i},Forecast:function(){return l},Event:function(){return o},SpendingEvent:function(){return c},FundingEvent:function(){return d},useForecast:function(){return u}});var n=s("../node_modules/@tanstack/react-query/build/lib/index.mjs"),a=s("../node_modules/date-fns/esm/index.js"),r=s("../interface/src/hooks/bankAccounts.ts");function i(e){let t=(0,r.useSelectedBankAccountId)();return(0,n.useQuery)([`/bank_accounts/${t}/forecast/next_funding`,{fundingScheduleId:e}],{enabled:!!t,select:e=>e.nextContribution})}class l{startingTime;endingTime;startingBalance;endingBalance;events;constructor(e){e&&Object.assign(this,{...e,startingTime:(0,a.parseJSON)(e.startingTime),endingTime:(0,a.parseJSON)(e.endingTime),events:(e?.events||[]).map(e=>new o(e))})}}class o{balance;contribution;date;delta;funding;spending;transaction;constructor(e){e&&Object.assign(this,{...e,date:(0,a.parseJSON)(e.date),funding:(e?.funding||[]).map(e=>new d(e)),spending:(e?.spending||[]).map(e=>new c(e))})}}class c{contributionAmount;date;funding;rollingAllocation;spendingId;transactionAmount;constructor(e){e&&Object.assign(this,{...e,date:(0,a.parseJSON)(e.date),funding:(e?.funding||[]).map(e=>new d(e))})}}class d{date;fundingScheduleId;originalDate;weekendAvoided;constructor(e){e&&Object.assign(this,{...e,date:(0,a.parseJSON)(e.date),originalDate:(0,a.parseJSON)(e.originalDate)})}}function u(){let e=(0,r.useSelectedBankAccountId)(),t=(0,n.useQuery)([`/bank_accounts/${e}/forecast`],{enabled:!!e});return{...t,result:t?.data?new l(t.data):null}}},"../interface/src/hooks/useLogout.ts":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var n=s("../node_modules/@tanstack/react-query/build/lib/index.mjs"),a=s.ir(s("../interface/src/util/request.ts"));function r(){let e=(0,n.useQueryClient)();return async()=>(0,a.default)().get("/authentication/logout").then(()=>e.invalidateQueries(["/users/me"]))}},"../interface/src/hooks/useMountEffect.ts":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var n=s("../node_modules/react/index.js");function a(e){(0,n.useEffect)(e,[])}},"../interface/src/hooks/useResetPassword.ts":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var n=s("../node_modules/react-router-dom/dist/index.js"),a=s("../node_modules/notistack/notistack.esm.js"),r=s.ir(s("../interface/src/util/request.ts"));function i(){let{enqueueSnackbar:e}=(0,a.useSnackbar)(),t=(0,n.useNavigate)();return async(s,n)=>(0,r.default)().post("/authentication/reset",{token:n,password:s}).then(()=>{e("Password has been reset, please login with your new credentials.",{variant:"success",disableWindowBlurListener:!0}),t("/login")}).catch(t=>{let s=t.response.data.error||"Failed to reset password.";throw e(s,{variant:"error",disableWindowBlurListener:!0}),t})}},"../interface/src/util/capitalize.ts":function(e,t,s){"use strict";function n(e){let t=e.charAt(0).toUpperCase(),s=e.slice(1);return t+s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}})}}]);