(self.webpackChunk_monetr_stories=self.webpackChunk_monetr_stories||[]).push([["interface_src_pages_app_stories_tsx"],{"../interface/src/assets/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Logo",{enumerable:!0,get:function(){return s.default}});var s=n.ir(n("../interface/src/assets/logo.svg"))},"../interface/src/assets/logo.svg":function(e,t,n){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTU2LjE3IDEzMy44MiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5hIHsKICAgICAgICBmaWxsOiAjMDA5M2E2OwogICAgICB9CgogICAgICAuYiB7CiAgICAgICAgZmlsbDogIzIzMWYyMDsKICAgICAgfQoKICAgICAgLmMgewogICAgICAgIGZpbGw6IHVybCgjYSk7CiAgICAgIH0KCiAgICAgIC5kIHsKICAgICAgICBmaWxsOiB1cmwoI2IpOwogICAgICB9CgogICAgICAuZSB7CiAgICAgICAgZmlsbDogI2ZmNTc5ODsKICAgICAgfQoKICAgICAgLmYgewogICAgICAgIGZpbGw6IHVybCgjYyk7CiAgICAgIH0KCiAgICAgIC5nIHsKICAgICAgICBmaWxsOiB1cmwoI2QpOwogICAgICB9CgogICAgICAuaCB7CiAgICAgICAgZmlsbDogIzRlMWFhMDsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjQ0MS42MyIgeTE9IjQ0NC4wOCIgeDI9IjQ0OC4wMyIgeTI9IjUyMS41MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM4MjlhZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMmNlZGZmIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNTYxLjU3IiB5MT0iNDQ2LjU0IiB4Mj0iNTUxLjA5IiB5Mj0iNTE5LjMxIiB4bGluazpocmVmPSIjYSIvPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJjIiB4MT0iNDMzLjc0IiB5MT0iNDA4LjE3IiB4Mj0iNTA0LjQ4IiB5Mj0iNTAzLjM2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzcyMDBlMSIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmMDU2YTMiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSI1NjkuODIiIHkxPSI0MDQuOTUiIHgyPSI0ODAuMzEiIHkyPSI1MTEuNDkiIHhsaW5rOmhyZWY9IiNjIi8+CiAgPC9kZWZzPgogIDxnPgogICAgPHBhdGggY2xhc3M9ImEiIGQ9Ik01NzgsNDA0Ljc5YTE0LjA4LDE0LjA4LDAsMCwwLTMuNTEtMTEuMTJjLTQuODUtNS4xNi0xMS42NS00LjE0LTEyLjItNC4wNUg1MzkuOWMuNDQsMi0uNjEsNC4yNS0zLjE5LDQuMDYtOC4xNy0uNjEtMTIuMiw2Ljg1LTE4LDExLjMyLTEuODMsMS40LTMuNjIuNDUtNC40NC0xLjE2TDUwMCw0MTYuN2wtMTkuMzUtMTcuNDFhMi44NCwyLjg0LDAsMCwxLTIuNjIuMTYsNDMuODUsNDMuODUsMCwwLDEtOC4xOS0zLjg4LDEyLjkzLDEyLjkzLDAsMCwwLTMuMjktMS45NSwxNi4zNCwxNi4zNCwwLDAsMC00LjUzLS4xMSwzLjI1LDMuMjUsMCwwLDEtMy4yNy0zLjg5aC0yMWExNC43LDE0LjcsMCwwLDAtNy4zNS45MWwtLjUxLjIxLS4xMSwwYTEyLjg2LDEyLjg2LDAsMCwwLTQuNTYsMy4zNUExNC4xMSwxNC4xMSwwLDAsMCw0MjIsNDA0Ljc5aDBWNTA5LjIzYTEyLjg0LDEyLjg0LDAsMCwwLDIwLjM1LDExLjY2bDI4LjQ4LTI4LjQ1aDBjOC42OSw4Ljk0LDEzLjY5LDE2LjkxLDI3LjY2LDE2LjkxLDE3LjMsMCwyMy4yMy04LDMwLjY3LTE2LjkxbDI4LjQ3LDI4LjQ1QTEyLjg1LDEyLjg1LDAsMCwwLDU3OCw1MDkuMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTQyOS44NSwzOTAuNzRsLjUxLS4yMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJjIiBkPSJNNDIyLDQwNC43OWExNC4yNSwxNC4yNSwwLDAsMSw0LTExLjQ2LDEzLjQ4LDEzLjQ4LDAsMCwxLDMuNzEtMi41NSwxMi44NiwxMi44NiwwLDAsMC00LjU2LDMuMzVBMTQuMTgsMTQuMTgsMCwwLDAsNDIyLDQwNC43OVY1MDkuMjNhMTIuODQsMTIuODQsMCwwLDAsMjAuMzUsMTEuNjZsMjguNDgtMjguNDVMNDIyLDQ0NC41M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJiIiBkPSJNNDU4LjcxLDM4OS42MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJiIiBkPSJNNTYyLjI3LDM4OS42MmgwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImQiIGQ9Ik01NzgsNDQ0LjUzbC00OC44Myw0Ny45MWgwbDI4LjQ3LDI4LjQ1QTEyLjg1LDEyLjg1LDAsMCwwLDU3OCw1MDkuMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTU3NC44MSwzOTQuMTNBMTQuMTgsMTQuMTgsMCwwLDEsNTc4LDQwNC43OWgwYTE0LjA4LDE0LjA4LDAsMCwwLTMuNTEtMTEuMTJjLTQuODUtNS4xNi0xMS42NS00LjE0LTEyLjItNC4wNUM1NjIuNzksMzg5LjU0LDU3MCwzODguNiw1NzQuODEsMzk0LjEzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImIiIGQ9Ik00MjkuNzQsMzkwLjc4bC4xMSwwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImUiIGQ9Ik00NzAuODMsNDkyLjQ0aDBjOC42OSw4Ljk0LDEzLjY5LDE2LjkxLDI3LjY2LDE2LjkxLDE3LjMsMCwyMy4yMy04LDMwLjY3LTE2LjkxTDUwMCw0NjMuMzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTQzNy43MSwzODkuNjJhMTQuNywxNC43LDAsMCwwLTcuMzUuOTFBMTUuOTEsMTUuOTEsMCwwLDEsNDM3LjcxLDM4OS42MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJmIiBkPSJNNDQ5Ljk0LDQxMy4zMWExMy43MywxMy43MywwLDAsMSw4Ljc3LTIzLjY5aC0yMWExNS45MSwxNS45MSwwLDAsMC03LjM1LjkxbC0uNTEuMjEtLjExLDBhMTMuNDgsMTMuNDgsMCwwLDAtMy43MSwyLjU1LDE0LjI1LDE0LjI1LDAsMCwwLTQsMTEuNDZ2MzkuNzRsNDguODMsNDcuOTFMNTAwLDQ2My4zMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJnIiBkPSJNNTc4LDQ0NC41M1Y0MDQuNzloMGExNC4xOCwxNC4xOCwwLDAsMC0zLjE4LTEwLjY2Yy00Ljc5LTUuNTMtMTItNC41OS0xMi41My00LjUxaC0yMWExMy43MywxMy43MywwLDAsMSw4Ljc3LDIzLjY5bC01MC4wNiw1MCwyOS4xNywyOS4xM2gwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImgiIGQ9Ik00NDYuNDMsMzk4Ljc3YTEzLjc3LDEzLjc3LDAsMCwwLDMuNTEsMTQuNTRsNTAuMDUsNTAsNTAuMDYtNTBhMTMuNzMsMTMuNzMsMCwwLDAtOC43Ny0yMy42OWgwYTI5LjE5LDI5LjE5LDAsMCwwLTE5LjUyLDcuNDlMNTAwLDQxNi43bC0yMS43OC0xOS42YTI5LjE0LDI5LjE0LDAsMCwwLTE5LjUxLTcuNDhoMEExMy43OSwxMy43OSwwLDAsMCw0NDYuNDMsMzk4Ljc3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogIDwvZz4KPC9zdmc+Cg=="},"../interface/src/loading.css":function(e,t,n){e.hot.accept()},"../interface/src/components/MSelectSpendingTransaction.scss":function(e,t,n){e.hot.accept()},"#magic":function(e,t,n){e.exports="#magic"},"../interface/src/components/ArrowLink.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js");function i({redirect:e}){let t=(0,r.useNavigate)();return(0,s.jsx)("button",{className:"flex-none dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:function(){t(e)},children:(0,s.jsx)(a.KeyboardArrowRight,{})})}},"../interface/src/components/Avatar.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Avatar:function(){return l},AvatarFallback:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n.ir(n("../node_modules/@radix-ui/react-avatar/dist/index.mjs")),i=n.ir(n("../interface/src/util/mergeTailwind.ts"));let l=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Root,{ref:n,className:(0,i.default)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));l.displayName=a.Root.displayName;let o=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Image,{ref:n,className:(0,i.default)("aspect-square h-full w-full",e),...t}));o.displayName=a.Image.displayName;let d=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Fallback,{ref:n,className:(0,i.default)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d.displayName=a.Fallback.displayName},"../interface/src/components/Button.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Button:function(){return d},buttonVariants:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n("../node_modules/@radix-ui/react-slot/dist/index.mjs"),i=n.ir(n("../interface/src/util/mergeTailwind.ts")),l=n("../node_modules/class-variance-authority/dist/index.mjs");let o=(0,l.cva)(["focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus:outline-none","font-semibold","inline-flex items-center gap-1 justify-center","rounded-lg","enabled:active:brightness-110","[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0","disabled:pointer-events-none"],{variants:{variant:{primary:["bg-monetr-brand enabled:hover:bg-dark-monetr-brand-subtle disabled:bg-purple-200","focus-visible:outline-purple-600","text-dark-monetr-content-emphasis","shadow-sm"],secondary:["bg-dark-monetr-background-subtle enabled:hover:bg-dark-monetr-background-emphasis","ring-1 ring-inset ring-dark-monetr-border disabled:ring-dark-monetr-border-subtle","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-subtle","focus-visible:outline-purple-200"],outlined:["ring-1 ring-inset enabled:focus:ring-2 enabled:hover:ring-2","enabled:hover:ring-dark-monetr-brand enabled:focus:ring-dark-monetr-brand","ring-dark-monetr-border-string disabled:ring-dark-monetr-border-subtle","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-muted"],destructive:["bg-red-600 enabled:hover:bg-red-500 disabled:bg-red-200","focus-visible:outline-red-600","text-dark-monetr-content-emphasis","shadow-sm"],text:["enabled:hover:bg-dark-monetr-background-emphasis","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-muted","focus-visible:outline-purple-200"]},size:{default:"text-sm px-3 py-1.5",md:"h-10 px-3 py-1.5"}},defaultVariants:{size:"default",variant:"primary"}}),d=r.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...l},d)=>{let c=r?a.Slot:"button";return(0,s.jsx)(c,{className:(0,i.default)(o({variant:t,size:n,className:e})),ref:d,...l})});d.displayName="Button"},"../interface/src/components/Card.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../interface/node_modules/tailwind-merge/dist/tailwind-merge.mjs");function a({className:e,...t}){return(0,s.jsx)("div",{className:(0,r.twMerge)("border-dark-monetr-border rounded border p-4 space-y-2",e),...t})}},"../interface/src/components/Combobox.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ComboboxItem:function(){return m},Combobox:function(){return f}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n("../interface/src/components/Button.tsx"),i=n("../interface/src/components/Command.tsx"),l=n("../interface/src/components/Popover.tsx"),o=n.ir(n("../interface/src/util/mergeTailwind.ts")),d=n("../node_modules/class-variance-authority/dist/index.mjs"),c=n("../node_modules/lucide-react/dist/esm/lucide-react.js");let u=(0,d.cva)(["w-full justify-between"],{variants:{variant:{text:["ring-0 group",'data-[state="closed"]:enabled:hover:ring-1','data-[state="closed"]:enabled:hover:ring-dark-monetr-border-string','data-[state="closed"]:focus:ring-0','[&_svg]:data-[state="closed"]:hover:block [&_svg]:data-[state="closed"]:hidden','data-[state="open"]:ring-dark-monetr-brand data-[state="open"]:ring-2','[&_svg]:data-[state="open"]:block',""]}},defaultVariants:{variant:"text"}});function m(e){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(c.Check,{className:(0,o.default)("mr-2 h-4 w-4",e.currentValue==e.option.value?"opacity-100":"opacity-0")}),e.option.label]})}function f(e){let{Item:t}={Item:m,...e.components},[n,o]=r.useState(!1);return(0,s.jsxs)(l.Popover,{open:n,onOpenChange:o,children:[(0,s.jsx)(l.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)(a.Button,{size:"md",variant:"outlined",role:"combobox","aria-expanded":n,className:u({variant:"text"}),children:[e.value?e.options.find(t=>t.value===e.value)?.label:e.placeholder,(0,s.jsx)(c.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(l.PopoverContent,{className:"p-0",children:(0,s.jsxs)(i.Command,{children:[(e.options.length>1&&!1!==e.showSearch||e.showSearch)&&(0,s.jsx)(i.CommandInput,{placeholder:e.searchPlaceholder}),(0,s.jsxs)(i.CommandList,{children:[(0,s.jsx)(i.CommandEmpty,{children:e.emptyString}),(0,s.jsx)(i.CommandGroup,{children:e.options.map(n=>(0,s.jsx)(i.CommandItem,{value:n.value.toString(),onSelect:t=>{e.onSelect&&e.onSelect(t),o(!1)},children:(0,s.jsx)(t,{currentValue:e.value,option:n})},n.value))})]})]})})]})}},"../interface/src/components/Command.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Command:function(){return o},CommandEmpty:function(){return u},CommandGroup:function(){return m},CommandInput:function(){return d},CommandItem:function(){return x},CommandList:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js"));n("../interface/src/components/Dialog.tsx");var a=n.ir(n("../interface/src/util/mergeTailwind.ts")),i=n("../node_modules/cmdk/dist/index.mjs"),l=n("../node_modules/lucide-react/dist/esm/lucide-react.js");let o=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(i.Command,{ref:n,className:(0,a.default)("flex h-full w-full flex-col overflow-hidden rounded-lg bg-dark-monetr-background text-dark-monetr-content-emphasis",e),...t}));o.displayName=i.Command.displayName;let d=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsxs)("div",{className:"flex items-center border-b-[thin] border-dark-monetr-border px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(l.Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(i.Command.Input,{ref:n,className:(0,a.default)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));d.displayName=i.Command.Input.displayName;let c=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(i.Command.List,{ref:n,className:(0,a.default)("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));c.displayName=i.Command.List.displayName;let u=r.default.forwardRef((e,t)=>(0,s.jsx)(i.Command.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=i.Command.Empty.displayName;let m=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(i.Command.Group,{ref:n,className:(0,a.default)("overflow-hidden p-1 text-dark-monetr-content-emphasis","[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5","[&_[cmdk-group-heading]]:text-xs","[&_[cmdk-group-heading]]:font-semibold","[&_[cmdk-group-heading]]:text-dark-monetr-content-muted",e),...t}));m.displayName=i.Command.Group.displayName;let f=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(i.Command.Separator,{ref:n,className:(0,a.default)("-mx-1 h-px bg-border",e),...t}));f.displayName=i.Command.Separator.displayName;let x=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(i.Command.Item,{ref:n,className:(0,a.default)(['text-dark-monetr-content-emphasis data-[disabled="true"]:text-dark-monetr-content-muted','data-[disabled="false"]:cursor-pointer data-[disabled="true"]:cursor-default','data-[disabled="true"]:pointer-events-none',"relative flex cursor-default select-none items-center rounded-lg","px-2 py-1.5","text-sm outline-none","aria-selected:bg-dark-monetr-background-emphasis aria-selected:text-accent-foreground"],e),...t}));x.displayName=i.Command.Item.displayName;let p=({className:e,...t})=>(0,s.jsx)("span",{className:(0,a.default)("ml-auto text-xs tracking-widest text-muted-foreground",e),...t});p.displayName="CommandShortcut"},"../interface/src/components/Dialog.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n.ir(n("../node_modules/@radix-ui/react-dialog/dist/index.mjs")),i=n.ir(n("../interface/src/util/mergeTailwind.ts")),l=n("../node_modules/lucide-react/dist/esm/lucide-react.js");a.Root,a.Trigger;let o=a.Portal;a.Close;let d=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Overlay,{ref:n,className:(0,i.default)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName=a.Overlay.displayName;let c=r.default.forwardRef(({className:e,children:t,...n},r)=>(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(a.Content,{ref:r,className:(0,i.default)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,(0,s.jsxs)(a.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-dark-monetr-content-subtle",children:[(0,s.jsx)(l.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));c.displayName=a.Content.displayName;let u=({className:e,...t})=>(0,s.jsx)("div",{className:(0,i.default)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let m=({className:e,...t})=>(0,s.jsx)("div",{className:(0,i.default)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let f=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Title,{ref:n,className:(0,i.default)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=a.Title.displayName;let x=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)(a.Description,{ref:n,className:(0,i.default)("text-sm text-dark-monetr-content-subtle",e),...t}));x.displayName=a.Description.displayName},"../interface/src/components/FormButton.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/formik/dist/formik.esm.js"),a=n("../interface/src/components/Button.tsx");function i(e){let t=(0,r.useFormikContext)();return e={...e,disabled:t?.isSubmitting||e?.disabled,onSubmit:e?.onSubmit||("submit"===e.type?t?.submitForm:void 0)},(0,s.jsx)(a.Button,{...e})}},"../interface/src/components/InputOTP.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{InputOTP:function(){return o},InputOTPGroup:function(){return d},InputOTPSeparator:function(){return u},InputOTPSlot:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n.ir(n("../interface/src/util/mergeTailwind.ts")),i=n("../node_modules/input-otp/dist/index.mjs"),l=n("../node_modules/lucide-react/dist/esm/lucide-react.js");let o=r.default.forwardRef(({className:e,containerClassName:t,...n},r)=>(0,s.jsx)(i.OTPInput,{ref:r,containerClassName:(0,a.default)("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:(0,a.default)("disabled:cursor-not-allowed",e),...n}));o.displayName="InputOTP";let d=r.default.forwardRef(({className:e,...t},n)=>(0,s.jsx)("div",{ref:n,className:(0,a.default)("flex items-center",e),...t}));d.displayName="InputOTPGroup";let c=r.default.forwardRef(({index:e,className:t,...n},l)=>{let o=r.default.useContext(i.OTPInputContext),{char:d,hasFakeCaret:c,isActive:u}=o.slots[e],m=(0,a.default)("relative flex h-10 w-10 items-center justify-center","border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",{"z-10 ring-2 ring-ring ring-offset-background":u},t);return(0,s.jsxs)("div",{ref:l,className:m,...n,children:[d,c&&(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});c.displayName="InputOTPSlot";let u=r.default.forwardRef(({...e},t)=>(0,s.jsx)("div",{ref:t,role:"separator",...e,children:(0,s.jsx)(l.Dot,{})}));u.displayName="InputOTPSeparator"},"../interface/src/components/Layout/BankSidebar.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/Layout/BankSidebarSubscriptionItem.tsx")),l=n("../interface/src/assets/index.js"),o=n.ir(n("../interface/src/components/Layout/BankSidebarItem.tsx")),d=n.ir(n("../interface/src/components/MDivider.tsx")),c=n.ir(n("../interface/src/components/MSidebarToggle.tsx")),u=n("../interface/src/hooks/links.ts"),m=n.ir(n("../interface/src/util/mergeTailwind.ts"));function f(e){let{data:t,isLoading:n,isError:i}=(0,u.useLinks)();if(n)return(0,s.jsx)(x,{className:e.className});if(i)return(0,s.jsx)(x,{className:e.className,children:(0,s.jsx)("div",{className:"w-full h-12 flex items-center justify-center relative group",children:(0,s.jsx)("div",{className:"absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle dark:hover:bg-dark-monetr-background-emphasis drop-shadow-md flex justify-center items-center",children:(0,s.jsx)(a.ErrorOutline,{className:"text-3xl"})})})});let l=t.sort((e,t)=>{let n=e.getName().toUpperCase(),s=t.getName().toUpperCase();return n<s?-1:n>s?1:0});return(0,s.jsxs)(x,{className:e.className,children:[l.map(e=>(0,s.jsx)(o.default,{link:e},e.linkId)),(0,s.jsx)("div",{className:"w-full h-12 flex items-center justify-center relative group",children:(0,s.jsx)(r.Link,{to:"/link/create",className:"cursor-pointer absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle dark:hover:bg-dark-monetr-background-emphasis drop-shadow-md flex justify-center items-center",children:(0,s.jsx)(a.PlusOne,{className:"text-3xl"})})})]})}function x(e){let t=(0,m.default)("border","border-transparent","dark:border-r-dark-monetr-border","flex","flex-col","flex-none","gap-4","h-full","items-center","lg:py-4","pt-2","pb-8","lg:pb-4","w-16",e.className);return(0,s.jsxs)("div",{className:t,"data-testid":"bank-sidebar",children:[(0,s.jsx)(c.default,{className:"flex lg:hidden"}),(0,s.jsx)("div",{className:"h-10 w-10",children:(0,s.jsx)("img",{src:l.Logo,className:"w-full"})}),(0,s.jsx)(d.default,{className:"w-1/2"}),(0,s.jsx)("div",{className:"h-full w-full flex items-center flex-col overflow-y-auto",children:e?.children}),(0,s.jsx)(i.default,{}),(0,s.jsx)(p,{}),(0,s.jsx)(g,{})]})}function p(){return(0,s.jsx)(r.Link,{to:"/settings","data-testid":"bank-sidebar-settings",children:(0,s.jsx)(a.Settings,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})})}function g(){return(0,s.jsx)(r.Link,{to:"/logout","data-testid":"bank-sidebar-logout",children:(0,s.jsx)(a.Logout,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})})}},"../interface/src/components/Layout/BankSidebarItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/@mui/material/index.js"),l=n("../interface/src/hooks/bankAccounts.ts"),o=n("../interface/src/hooks/institutions.ts"),d=n.ir(n("../interface/src/util/mergeTailwind.ts")),c=n.ir(n("../interface/src/util/sortAccounts.ts"));function u({link:e}){let{result:t}=(0,o.useInstitution)(e.plaidLink?.institutionId),n=(0,l.useSelectedBankAccount)(),{data:u}=(0,l.useBankAccounts)(),m=n.data?.linkId===e.linkId,f=(0,c.default)(u?.filter(t=>t.linkId===e.linkId)),x=f.length>0?f[0]:null,p=()=>t?.logo?(0,s.jsx)("img",{"data-testid":`bank-sidebar-item-${e.linkId}-logo`,src:`data:image/png;base64,${t.logo}`}):(0,s.jsx)(a.AccountBalance,{"data-testid":`bank-sidebar-item-${e.linkId}-logo-missing`,color:"info"}),g=()=>e.getIsError()?(0,s.jsxs)("span",{className:"absolute flex h-3 w-3 right-0 bottom-0",children:[(0,s.jsx)("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-yellow-400"}),(0,s.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"})]}):null,h=(0,d.default)("absolute","dark:bg-dark-monetr-border","right-0","rounded-l-xl","transition-transform","w-1.5",{"h-8":m,"scale-y-100":m},{"h-4":!m,"group-hover:scale-y-100":!m,"group-hover:scale-x-100":!m,"scale-x-0":!m,"scale-y-50":!m}),b=e.getName();return e.getIsError()&&(b=`${b} (Error)`),(0,s.jsx)(i.Tooltip,{title:b,arrow:!0,placement:"right",classes:{tooltip:"text-base font-medium"},children:(0,s.jsxs)("div",{className:"w-full h-12 flex items-center justify-center relative group","data-testid":`bank-sidebar-item-${e.linkId}`,children:[(0,s.jsx)("div",{className:h}),(0,s.jsxs)(r.Link,{className:"absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle drop-shadow-md flex justify-center items-center",to:`/bank/${x?.bankAccountId}/transactions`,children:[(0,s.jsx)(p,{}),(0,s.jsx)(g,{})]})]})})}},"../interface/src/components/Layout/BankSidebarSubscriptionItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n.ir(n("../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n("../node_modules/@mui/material/index.js"),o=n("../node_modules/date-fns/esm/index.js"),d=n("../interface/src/hooks/useAppConfiguration.ts"),c=n("../interface/src/hooks/useAuthentication.ts"),u=n.ir(n("../interface/src/hooks/useTheme.ts"));function m(){let e=(0,d.useAppConfiguration)(),t=(0,u.default)(),{result:n}=(0,c.useAuthenticationSink)(),m="/settings/billing";if(!e?.billingEnabled)return null;let f=(0,a.default)(l.Badge)(()=>({"& .MuiBadge-badge":{opacity:"90%",backgroundColor:t.tailwind.colors.yellow["600"],boxShadow:`0 0 0 2px ${t.tailwind.colors["dark-monetr"].background.DEFAULT}`,"&::after":{color:t.tailwind.colors.yellow["600"],position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"100%",animation:"ripple-trial 3s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple-trial":{"0%":{transform:"scale(.8)",opacity:1},"70%":{transform:"scale(.9)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}));return n?.isTrialing?(0,s.jsx)(r.Link,{to:m,"data-testid":"bank-sidebar-subscription",children:(0,s.jsx)(l.Tooltip,{title:`Your trial ends in ${(0,o.differenceInDays)(n.trialingUntil,new Date)} day(s).`,arrow:!0,placement:"right",classes:{tooltip:"text-base font-medium"},children:(0,s.jsx)(f,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:(0,o.differenceInDays)(n.trialingUntil,new Date),classes:{badge:"left-1 top-1 text-[11px]"},children:(0,s.jsx)(i.CreditCard,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer mt-1.5"})})})}):(0,s.jsx)(r.Link,{to:m,"data-testid":"bank-sidebar-subscription",children:(0,s.jsx)(i.CreditCard,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})})}},"../interface/src/components/Layout/BudgetingSidebar.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/Layout/BudgetingSidebarTitle.tsx")),l=n.ir(n("../interface/src/components/Layout/PlaidLastUpdatedCard.tsx")),o=n.ir(n("../interface/src/components/Layout/SelectBankAccount.tsx")),d=n.ir(n("../interface/src/components/MBadge.tsx")),c=n.ir(n("../interface/src/components/MDivider.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n("../interface/src/hooks/balances.ts"),f=n("../interface/src/hooks/bankAccounts.ts"),x=n("../interface/src/hooks/fundingSchedules.ts"),p=n("../interface/src/hooks/links.ts"),g=n.ir(n("../interface/src/util/mergeTailwind.ts"));function h(e){let{data:t,isLoading:n,isError:r}=(0,f.useSelectedBankAccount)(),{data:x}=(0,p.useLink)(t?.linkId),h=(0,m.useCurrentBalance)(),k=(0,g.default)("w-72 h-full flex-none flex flex-col dark:border-r-dark-monetr-border border border-transparent items-center pb-6 lg:pb-4",e.className);return r?null:(0,s.jsxs)("div",{className:k,children:[(0,s.jsx)(i.default,{}),(0,s.jsxs)("div",{className:"flex h-full w-full flex-col items-center gap-4 px-2 pt-4",children:[(0,s.jsx)(o.default,{}),(0,s.jsx)(c.default,{className:"w-1/2"}),(0,s.jsxs)("div",{className:"flex w-full flex-col items-center gap-2 px-2",children:[(0,s.jsx)(function(){switch(t?.accountSubType){case"checking":case"savings":let e=(0,g.default)({"dark:text-dark-monetr-content-emphasis":h?.free>=0,"dark:text-dark-monetr-red":h?.free<0});return(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsxs)(u.default,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,s.jsx)(a.AccountBalanceWalletOutlined,{}),"Free-To-Use:"]}),(0,s.jsx)(u.default,{size:"lg",weight:"semibold",className:e,children:h?.getFreeToUseString()})]})}return null},{}),(0,s.jsx)(function(){switch(t?.accountSubType){case"checking":case"savings":return(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsxs)(u.default,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,s.jsx)(a.LocalAtmOutlined,{}),"Available:"]}),(0,s.jsx)(u.default,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:h?.getAvailableString()})]})}return null},{}),(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsxs)(u.default,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,s.jsx)(a.TollOutlined,{}),"Current:"]}),(0,s.jsx)(u.default,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:h?.getCurrentString()})]})]}),(0,s.jsx)(c.default,{className:"w-1/2"}),(0,s.jsxs)("div",{className:"flex h-full w-full flex-col gap-2 pb-4",children:[(0,s.jsxs)(b,{to:`/bank/${t?.bankAccountId}/transactions`,children:[(0,s.jsx)(a.ShoppingCartOutlined,{}),(0,s.jsx)(u.default,{ellipsis:!0,color:"inherit",children:"Transactions"})]}),(0,s.jsxs)(b,{to:`/bank/${t?.bankAccountId}/expenses`,children:[(0,s.jsx)(a.PriceCheckOutlined,{}),(0,s.jsx)(u.default,{ellipsis:!0,color:"inherit",children:"Expenses"}),(0,s.jsx)(d.default,{className:"ml-auto",size:"sm",children:h?.getExpensesString()})]}),(0,s.jsxs)(b,{to:`/bank/${t?.bankAccountId}/goals`,children:[(0,s.jsx)(a.SavingsOutlined,{}),(0,s.jsx)(u.default,{ellipsis:!0,color:"inherit",children:"Goals"}),(0,s.jsx)(d.default,{className:"ml-auto",size:"sm",children:h?.getGoalsString()})]}),(0,s.jsxs)(b,{to:`/bank/${t?.bankAccountId}/funding`,children:[(0,s.jsx)(a.TodayOutlined,{}),(0,s.jsx)(u.default,{ellipsis:!0,color:"inherit",children:"Funding Schedules"}),(0,s.jsx)(j,{})]})]}),(0,s.jsx)(l.default,{linkId:t?.linkId})]})]})}function b(e){let t=(0,r.useLocation)(),n=t.pathname.endsWith(e.to.replaceAll(".","")),a=(0,g.default)({"dark:bg-dark-monetr-background-emphasis":n,"dark:text-dark-monetr-content-emphasis":n,"dark:text-dark-monetr-content-subtle":!n,"font-semibold":n,"font-medium":!n},["align-middle","cursor-pointer","flex","text-lg","gap-2","dark:hover:bg-dark-monetr-background-emphasis","dark:hover:text-dark-monetr-content-emphasis","items-center","px-2","py-1","rounded-md","w-full"]);return(0,s.jsx)(r.Link,{className:a,to:e.to,children:e.children})}function j(){let e=(0,x.useNextFundingDate)();return e?(0,s.jsx)(d.default,{className:"ml-auto",size:"sm",children:e}):null}},"../interface/src/components/Layout/BudgetingSidebarTitle.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/@mui/material/index.js"),l=n.ir(n("../interface/src/components/MDivider.tsx")),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n("../interface/src/hooks/bankAccounts.ts"),c=n("../interface/src/hooks/links.ts"),u=n("../interface/src/modals/RemoveLinkModal.tsx"),m=n("../interface/src/modals/UpdatePlaidAccountOverlay.tsx");function f(){let{data:e,isLoading:t,isError:n}=(0,d.useSelectedBankAccount)(),{data:o}=(0,c.useLink)(e?.linkId),f=(0,c.useTriggerManualPlaidSync)(),[p,g]=(0,r.useState)(null),h=(0,r.useCallback)(()=>g(null),[g]),b=(0,r.useCallback)(e=>{g(e.currentTarget)},[g]),j=(0,r.useCallback)(()=>g(null),[g]),k=(0,r.useCallback)(()=>{h(),(0,m.showUpdatePlaidAccountOverlay)({link:o})},[h,o]),y=(0,r.useCallback)(()=>{h(),f(e?.linkId)},[e?.linkId,h,f]),w=(0,r.useCallback)(()=>{h(),(0,m.showUpdatePlaidAccountOverlay)({link:o,updateAccountSelection:!0})},[h,o]),v=(0,r.useCallback)(()=>{h(),(0,u.showRemoveLinkModal)({link:o})},[h,o]);return o?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{onClick:b,className:"flex h-12 w-full items-center p-2 dark:text-dark-monetr-content-emphasis dark:hover:bg-dark-monetr-background-emphasis cursor-pointer",children:[(0,s.jsx)("span",{className:"truncate text-xl font-semibold",children:o?.getName()}),(0,s.jsx)(a.MoreVert,{className:"ml-auto"})]}),(0,s.jsx)(l.default,{className:"w-1/2"}),(0,s.jsx)(i.Popover,{open:!!p,anchorEl:p,onClose:j,transitionDuration:100,anchorOrigin:{vertical:"bottom",horizontal:"left"},className:"ml-[5px]",children:(0,s.jsxs)("div",{className:"flex flex-col dark:bg-dark-monetr-background rounded-lg border dark:border-dark-monetr-border-subtle dark:shadow-2xl",style:{width:`${p?.offsetWidth-10}px`},children:[(0,s.jsxs)(x,{visible:o.getIsPlaid()&&o.getIsError(),onClick:k,children:[(0,s.jsx)(a.Autorenew,{className:"mr-1 mb-0.5"}),"Reauthenticate"]}),(0,s.jsxs)(x,{visible:o.getIsPlaid(),onClick:w,children:[(0,s.jsx)(a.PriceChangeOutlined,{className:"mr-1 mb-0.5"}),"Update Account Selection"]}),(0,s.jsxs)(x,{visible:o.getIsPlaid(),onClick:y,children:[(0,s.jsx)(a.AutorenewOutlined,{className:"mr-1 mb-0.5"}),"Manually Resync"]}),(0,s.jsx)(l.default,{}),(0,s.jsxs)(x,{visible:!0,onClick:v,children:[(0,s.jsx)(a.DeleteOutline,{className:"mr-1 mb-0.5 dark:text-dark-monetr-red"}),"Remove ",o?.getName()]})]})})]}):null}function x({visible:e,onClick:t,children:n}){return e?(0,s.jsx)(o.default,{size:"md",weight:"medium",className:"p-2 cursor-pointer dark:hover:bg-dark-monetr-background-emphasis dark:hover:text-dark-monetr-content-emphasis",component:"a",ellipsis:!0,onClick:t,children:n}):null}},"../interface/src/components/Layout/MobileSidebar.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n.ir(n("../interface/src/components/Layout/BankSidebar.tsx")),l=n.ir(n("../interface/src/components/Layout/BudgetingSidebar.tsx")),o=n.ir(n("../interface/src/hooks/store.ts"));function d(){let e=(0,a.useMatch)("/bank/:bankId/*"),t=!!e?.params?.bankId,{setMobileSidebarOpen:n,mobileSidebarOpen:d}=(0,o.default)(),{pathname:c}=(0,a.useLocation)();return((0,r.useEffect)(()=>{n(!1)},[c,n]),d)?(0,s.jsxs)("div",{className:"fixed z-40 w-screen h-screen top-0 left-0 lg:hidden bg-background flex flex-row backdrop-blur-sm dark:bg-opacity-50 backdrop-brightness-50",children:[(0,s.jsx)(i.default,{}),t&&(0,s.jsx)(l.default,{className:"w-auto flex-auto border-none overflow-y-auto"})]}):null}},"../interface/src/components/Layout/PlaidLastUpdatedCard.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/date-fns/esm/index.js"),a=n.ir(n("../interface/src/components/MSpan.tsx")),i=n("../interface/src/hooks/links.ts");function l(e){let t=(0,i.useLink)(e?.linkId);if(!t?.data?.plaidLink)return null;let n=t?.data?.plaidLink?.lastSuccessfulUpdate?(0,r.formatDistanceToNow)(t.data.plaidLink.lastSuccessfulUpdate):"Never",l=t?.data?.plaidLink?.lastAttemptedUpdate?(0,r.formatDistanceToNow)(t.data.plaidLink.lastAttemptedUpdate):"Never";return(0,s.jsxs)("div",{className:"p-2 group border-[thin] dark:border-dark-monetr-border rounded-lg w-full ease-in-out transition-[height] h-16 lg:h-10 lg:hover:h-16 hover:delay-0 delay-500 hover:dark:border-dark-monetr-border-string",children:[(0,s.jsxs)(a.default,{size:"sm",color:"subtle",children:["Last Updated: ",n," ago"]}),(0,s.jsxs)(a.default,{size:"sm",color:"subtle",className:"transition-opacity opacity-100 lg:opacity-0 lg:group-hover:opacity-100 delay-500 group-hover:delay-0",children:["Last Attempt: ",l," ago"]})]})}},"../interface/src/components/Layout/SelectBankAccount.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../interface/src/components/Combobox.tsx"),i=n("../interface/src/components/Skeleton.tsx"),l=n("../interface/src/hooks/bankAccounts.ts"),o=n.ir(n("../interface/src/util/sortAccounts.ts"));function d(){let e=(0,r.useNavigate)(),{data:t,isLoading:n}=(0,l.useBankAccounts)(),{data:d,isLoading:c}=(0,l.useSelectedBankAccount)(),u=(0,o.default)(t?.filter(e=>e.linkId===d?.linkId)).map(e=>({label:e.name,value:e.bankAccountId,type:e.accountSubType,mask:e.mask})),m=u?.find(e=>e.value===d?.bankAccountId);return n||c?(0,s.jsx)(i.Skeleton,{className:"w-full"}):(0,s.jsx)(a.Combobox,{options:u,value:m?.value,placeholder:"Select a bank account...",onSelect:t=>e(`/bank/${t}/transactions`)})}},"../interface/src/components/Layout/SettingsLayout.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/MDivider.tsx")),l=n("../interface/src/components/MSpan.tsx"),o=n.ir(n("../interface/src/components/MTopNavigation.tsx")),d=n("../interface/src/hooks/useAppConfiguration.ts");function c(){let e=(0,d.useAppConfigurationSink)();return(0,s.jsxs)("div",{className:"w-full h-full min-w-0 flex flex-col",children:[(0,s.jsx)(o.default,{icon:a.SettingsOutlined,title:"Settings"}),(0,s.jsxs)("div",{className:"w-full flex px-4 mt-4 gap-6",children:[(0,s.jsx)(u,{to:"/settings/overview",children:"Overview"}),(0,s.jsx)(u,{to:"/settings/security",children:"Security"}),e?.data?.billingEnabled&&(0,s.jsx)(u,{to:"/settings/billing",children:"Billing"}),(0,s.jsx)(u,{to:"/settings/about",children:"About"})]}),(0,s.jsx)(i.default,{}),(0,s.jsx)(r.Outlet,{})]})}function u(e){let t=(0,r.useLocation)(),n=t.pathname===e.to,a=(0,l.MSpanDeriveClasses)({className:"cursor-pointer pb-3",weight:n?"bold":"normal"});return(0,s.jsx)(r.Link,{to:e.to,className:a,children:e.children})}},"../interface/src/components/Logo/CenteredLogo.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../interface/src/assets/index.js");function a(){return(0,s.jsx)("div",{className:"flex justify-center w-full mt-5 mb-5",children:(0,s.jsx)("img",{src:r.Logo,className:"w-1/3"})})}},"../interface/src/components/Logo/PlaidLogo.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));function a(e){let t=(0,r.default)("w-28",e.className);return(0,s.jsx)("div",{children:(0,s.jsx)("svg",{className:t,viewBox:"0 0 126 48",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsxs)("g",{fillRule:"evenodd",children:[(0,s.jsx)("path",{className:"fill-white text-white",d:"M66.248 16.268c-1.057-.889-2.861-1.333-5.413-1.333h-5.756v17.788h4.304v-5.575h1.928c2.34 0 4.056-.515 5.148-1.546 1.23-1.155 1.849-2.693 1.849-4.613 0-1.991-.687-3.565-2.06-4.721m-5.044 6.855h-1.821V18.96h1.636c1.99 0 2.985.698 2.985 2.094 0 1.378-.934 2.068-2.8 2.068M75.673 14.934h-4.488v17.788h9.69v-4.026h-5.202zM89.668 14.934l-7.05 17.788h4.832l.924-2.586H94.5l.845 2.586h4.886l-7-17.788zm-.053 11.601l1.849-6.08 1.82 6.08z"}),(0,s.jsx)("path",{className:"fill-white text-white",d:"M102.473 32.722h4.489V14.934h-4.489zM124.39 18.268a7.376 7.376 0 00-2.14-2.053c-1.355-.854-3.204-1.28-5.545-1.28h-5.914v17.787h6.918c2.5 0 4.506-.817 6.02-2.453 1.514-1.635 2.27-3.805 2.27-6.508 0-2.15-.537-3.981-1.61-5.493m-7.182 10.427h-1.927v-9.734h1.954c1.373 0 2.428.43 3.168 1.287.74.857 1.11 2.073 1.11 3.647 0 3.2-1.435 4.8-4.305 4.8M18.637 0L4.09 3.81.081 18.439l5.014 5.148L0 28.65l3.773 14.693 14.484 4.047 5.096-5.064 5.014 5.147 14.547-3.81 4.008-14.63-5.013-5.146 5.095-5.063L43.231 4.13 28.745.083l-5.094 5.063zM9.71 6.624l7.663-2.008 3.351 3.44-4.887 4.856zm16.822 1.478l3.405-3.383 7.63 2.132-6.227 6.187zM4.672 17.238l2.111-7.705 6.125 6.288-4.886 4.856zm29.547-1.243l6.227-6.189 1.986 7.74-3.404 3.384zm-15.502-.127l4.887-4.856 4.807 4.936-4.886 4.856zm-7.814 7.765l4.886-4.856 4.81 4.936-4.888 4.856zm15.503.127l4.886-4.856L36.1 23.84l-4.887 4.856zM4.57 29.927l3.406-3.385 4.807 4.937-6.225 6.186zm14.021 1.598l4.887-4.856 4.808 4.936-4.886 4.856zm15.502.128l4.887-4.856 3.351 3.439-2.11 7.705zm-24.656 8.97l6.226-6.189 4.81 4.936-3.406 3.385zm16.843-1.206l4.886-4.856 6.126 6.289-7.662 2.007z"})]})})})}},"../interface/src/components/MAmountField.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-number-format/dist/react-number-format.es.js"),i=n("../node_modules/formik/dist/formik.esm.js"),l=n.ir(n("../interface/src/components/MLabel.tsx")),o=n.ir(n("../interface/src/util/mergeTailwind.ts"));let d={label:null,labelDecorator:e=>null,disabled:!1};function c(e=d){let t=(0,i.useFormikContext)();e={...d,...e,disabled:e?.disabled||t?.isSubmitting,error:e?.error||(t?.touched[e?.name]?t?.errors[e?.name]:null)};let{labelDecorator:n,...c}=e,u=n||d.labelDecorator,m=(0,o.default)({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","focus:ring-2","focus:ring-inset","placeholder:text-gray-400","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-sm","w-full","dark:caret-zinc-50","min-h-[38px]"),f=(0,o.default)({"pb-[18px]":!e.error},e.className),x=t?.values[e.name],p=(0,r.useCallback)(n=>{t&&t.setFieldValue(e.name,n.floatValue)},[e.name,t]);return(0,s.jsxs)("div",{className:f,children:[(0,s.jsx)(l.default,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,s.jsx)(u,{name:e.name,disabled:e.disabled})}),(0,s.jsx)("div",{children:(0,s.jsx)(a.NumericFormat,{disabled:t?.isSubmitting,onBlur:t?.handleBlur,thousandSeparator:",",thousandsGroupStyle:"thousand",value:x,...c,className:m,decimalScale:2,fixedDecimalScale:!0,onValueChange:p,prefix:"$ "})}),(0,s.jsx)(function(){return e.error?(0,s.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}},"../interface/src/components/MBadge.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/MSpan.tsx")),a=n.ir(n("../interface/src/util/mergeTailwind.ts"));function i(e){let t=(0,a.default)("bg-monetr-brand","dark:text-dark-monetr-content-emphasis","px-2","py-0.5","rounded-lg",e.className);return(0,s.jsx)(r.default,{...e,className:t})}},"../interface/src/components/MButton.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{MBaseButton:function(){return o},default:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/material/index.js"),a=n("../node_modules/formik/dist/formik.esm.js"),i=n.ir(n("../interface/src/util/mergeTailwind.ts"));let l={disabled:!1,color:"secondary",variant:"solid"};function o(e=l){let{disabled:t,color:n,variant:a}={...l,...e},o={primary:{solid:{"dark:bg-dark-monetr-brand":!t,"dark:hover:bg-dark-monetr-brand-subtle":!t,"bg-purple-400":!t,"bg-purple-200":t,"hover:bg-purple-500":!t,"focus-visible:outline-purple-600":!t,"text-white":!0},text:{"dark:text-dark-monetr-brand-faint":!t,"focus-visible:outline-purple-600":!t,"text-purple-400":!t,"text-purple-200":t}},secondary:{solid:{"bg-white":!t,"dark:bg-dark-monetr-background-subtle":!t,"dark:hover:bg-dark-monetr-background-emphasis":!t,"dark:ring-dark-monetr-border":!t,"dark:ring-dark-monetr-border-subtle":t,"dark:text-dark-monetr-content-emphasis":!t,"dark:text-dark-monetr-content-muted":t,"focus-visible:outline-purple-200":!t,"hover:bg-gray-100":!t,"ring-1":!0,"ring-monetr-border-subtle":t,"ring-monetr-border":!t,"ring-inset":!0,"text-gray-400":t,"text-gray-900":!t},text:{"dark:hover:bg-dark-monetr-background-emphasis":!t,"dark:text-dark-monetr-content-emphasis":!t,"dark:text-dark-monetr-content-muted":t,"focus-visible:outline-purple-200":!t,"text-gray-400":t,"text-gray-900":!t},outlined:{"dark:hover:ring-dark-monetr-brand":!t,"dark:focus:ring-dark-monetr-brand":!t,"dark:ring-dark-monetr-border-string":!t,"dark:text-gray-400":!t,"ring-1":!t,"ring-inset":!t,"focus:ring-2":!t,"focus:ring-inset":!t,"min-h-[38px]":!0}},cancel:{solid:{"dark:bg-red-600":!t,"dark:hover:bg-red-500":!t,"bg-dark-monetr-red":!t,"bg-red-200":t,"hover:bg-red-600":!t,"focus-visible:outline-red-600":!t,"text-white":!0},text:{"text-dark-monetr-red":!t,"text-red-200":t,"focus-visible:outline-red-600":!t}}}[n][a],d=(0,i.default)(o,{"shadow-sm":"solid"===a},"focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus:outline-none","font-semibold","px-3","py-1.5","rounded-lg","text-sm",e.className);return(0,s.jsx)(r.ButtonBase,{...e,className:d})}function d(e=l){let t=(0,a.useFormikContext)();return e={...l,...e,disabled:t?.isSubmitting||e?.disabled,onSubmit:e?.onSubmit||("submit"===e.type?t?.submitForm:void 0)},(0,s.jsx)(o,{...e})}},"../interface/src/components/MCalendar.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-day-picker/dist/index.esm.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n.ir(n("../interface/src/components/MSpan.tsx")),o=n("../interface/src/components/Button.tsx");function d(e){let{mode:t,defaultMonth:n,selected:d,onSelect:c,locale:u,disabled:m,enableYearNavigation:f,classNames:x,...p}=e;return(0,s.jsx)(r.DayPicker,{showOutsideDays:!0,mode:t,defaultMonth:n,selected:d,onSelect:c,locale:u,disabled:m,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-2 relative items-center",caption_label:"text-monetr-default text-monetr-content-emphasis dark:text-dark-monetr-content-emphasis font-medium",nav:"space-x-1 flex items-center",nav_button:"flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-monetr-border dark:border-dark-monetr-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"w-9 font-normal text-center text-monetr-content-subtle dark:text-dark-monetr-content-subtle",row:"flex w-full mt-0.5",cell:"text-center p-0 relative focus-within:relative text-monetr-default text-monetr-content-emphasis dark:text-dark-monetr-content-emphasis",day:"h-9 w-9 p-0 hover:bg-monetr-background-subtle dark:hover:bg-dark-monetr-background-subtle outline-monetr-brand dark:outline-dark-monetr-brand rounded-tremor-default",day_today:"dark:bg-dark-monetr-background-focused dark:text-dark-monetr-brand-muted",day_selected:"dark:aria-selected:bg-dark-monetr-brand dark:aria-selected:text-dark-monetr-content-emphasis",day_disabled:"dark:text-dark-monetr-content-subtle disabled:hover:bg-transparent",day_outside:"dark:text-dark-monetr-content-subtle",...x},components:{IconLeft:({...e})=>(0,s.jsx)(a.ArrowLeftOutlined,{className:"h-4 w-4",...e}),IconRight:({...e})=>(0,s.jsx)(a.ArrowRightOutlined,{className:"h-4 w-4",...e}),Caption:({...e})=>{let{goToMonth:t,nextMonth:n,previousMonth:d,currentMonth:c}=(0,r.useNavigation)();return(0,s.jsxs)("div",{className:"flex justify-between items-center",...e,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[f&&(0,s.jsx)(o.Button,{variant:"text",onClick:()=>c&&t((0,i.addYears)(c,-1)),children:(0,s.jsx)(a.FirstPage,{className:"text-lg"})}),(0,s.jsx)(o.Button,{variant:"text",onClick:()=>d&&t(d),children:(0,s.jsx)(a.ChevronLeft,{className:"text-lg"})})]}),(0,s.jsx)(l.default,{className:"mx-1",children:(0,i.format)(e.displayMonth,"LLLL yyy",{locale:u})}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(o.Button,{variant:"text",onClick:()=>n&&t(n),children:(0,s.jsx)(a.ChevronRight,{className:"text-lg"})}),f&&(0,s.jsx)(o.Button,{variant:"text",onClick:()=>c&&t((0,i.addYears)(c,1)),children:(0,s.jsx)(a.LastPage,{className:"text-lg"})})]})]})}},...p})}},"../interface/src/components/MCaptcha.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../node_modules/react-google-recaptcha/lib/esm/index.js")),a=n("../node_modules/@mui/material/index.js"),i=n("../node_modules/formik/dist/formik.esm.js"),l=n("../interface/src/hooks/useAppConfiguration.ts"),o=n.ir(n("../interface/src/util/mergeTailwind.ts"));function d(e){let t=(0,i.useFormikContext)(),n=(0,l.useAppConfiguration)();if(!e.show||!n?.ReCAPTCHAKey)return null;let d=!!t?.isSubmitting,c=(0,o.default)(["flex","items-center","justify-center","w-full"],e.className);return(0,s.jsxs)("div",{className:c,children:[!d&&(0,s.jsx)(r.default,{"data-testid":e["data-testid"],sitekey:n.ReCAPTCHAKey,onChange:function(n){t?.setFieldValue&&e.name&&t.setFieldValue(e.name,n,!1)}}),d&&(0,s.jsx)(a.CircularProgress,{})]})}},"../interface/src/components/MCheckbox.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),a=n("../node_modules/formik/dist/formik.esm.js"),i=n.ir(n("../interface/src/hooks/useTheme.ts")),l=n.ir(n("../interface/src/util/mergeTailwind.ts"));function o(e){let t=(0,a.useFormikContext)(),n=(0,i.default)(),o="dark"===n.mediaColorSchema?n.tailwind.colors["dark-monetr"].border.subtle:n.tailwind.colors.gray["300"],d=(0,r.default)("input")(()=>({MozAppearance:"none",WebkitAppearance:"none",appearance:"none",padding:"0",WebkitPrintColorAdjust:"exact",colorAdjust:"exact",display:"inline-block",verticalAlign:"middle",backgroundOrigin:"border-box",WebkitUserSelect:"none",MozUserSelect:"none",userSelect:"none",flexShrink:"0",height:"1rem",width:"1rem",backgroundColor:e.disabled?n.tailwind.colors.gray["500"]:["white"],borderColor:o,borderWidth:"1px",backgroundSize:"100% 100%",cursor:e.disabled?"default":"pointer",borderRadius:"0.25rem","&:checked":{backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",backgroundColor:e.disabled?n.tailwind.colors.purple["300"]:n.tailwind.colors.purple["500"]}}));e={...e,disabled:e?.disabled||t?.isSubmitting,onChange:e?.onChange||t?.handleChange,checked:e?.checked||t.values[e.name]};let c=(0,l.default)("flex","gap-x-3","pb-3",e.className);return(0,s.jsxs)("div",{className:c,children:[(0,s.jsx)("div",{className:"flex h-6 items-center",children:(0,s.jsx)(d,{id:e.id,name:e.name,type:"checkbox",disabled:e.disabled,checked:e.checked,onChange:e.onChange,onBlur:t?.handleBlur})}),(0,s.jsxs)("div",{className:"text-sm leading-6",children:[(0,s.jsx)(function(){if(!e.label)return null;let t=(0,l.default)("font-medium",{"dark:text-dark-monetr-content-emphasis":!e.disabled,"text-gray-900":!e.disabled,"text-gray-500":e.disabled,"cursor-pointer":!e.disabled});return(0,s.jsx)("label",{htmlFor:e.id,className:t,children:e.label})},{}),(0,s.jsx)(function(){return e.description?(0,s.jsx)("p",{className:"text-gray-500 dark:text-dark-monetr-content",children:e.description}):null},{})]})]})}},"../interface/src/components/MDatePicker.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return f},formatSelectedDates:function(){return x}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/@mui/material/index.js"),l=n("../node_modules/date-fns/esm/index.js"),o=n.ir(n("../node_modules/date-fns/esm/locale/en-US/index.js")),d=n("../node_modules/formik/dist/formik.esm.js"),c=n.ir(n("../interface/src/components/MCalendar.tsx")),u=n.ir(n("../interface/src/components/MLabel.tsx")),m=n.ir(n("../interface/src/util/mergeTailwind.ts"));function f(e){let t=(0,l.startOfToday)(),n=(0,d.useFormikContext)();e={disabled:n?.isSubmitting,error:e?.error||(n?.touched[e?.name]?n?.errors[e?.name]:null),...e};let{value:f=n?.values[e.name],min:p,max:g,placeholder:h="Select date",enableClear:b=!1,disabled:j,className:k,enableYearNavigation:y=!0}=e,[w,v]=(0,r.useState)(f),[N,S]=r.default.useState(null);r.default.useEffect(()=>{v(f)},[f]);let A=(0,r.useMemo)(()=>{let e=[];return p&&e.push({before:p}),g&&e.push({after:g}),e},[p,g]),_=!!w,M=_?x(w,void 0,o.default):h,I=(0,l.startOfMonth)(w??g??t),T=(0,r.useCallback)(e=>{S(e.currentTarget)},[S]),C=(0,r.useCallback)(()=>S(null),[S]),P=(0,r.useCallback)(()=>{n&&(n.setFieldValue(e.name,null),n.setFieldTouched(e.name,!0),n.validateField(e.name)),v(void 0)},[v,n,e.name]),O=(0,r.useCallback)(t=>{n&&(n.setFieldValue(e.name,t),n.setFieldTouched(e.name,!0),n.validateField(e.name)),v(t),C()},[v,n,e.name,C]),L=(0,m.default)({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:text-gray-400":!_},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","dark:caret-zinc-50","focus:ring-2","focus:ring-inset","min-h-[38px]","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-left","text-sm","w-full","relative"),R=e.labelDecorator||(()=>null),E=(0,m.default)({"pb-[18px]":!e.error},"relative",k);return(0,s.jsxs)("div",{className:E,"data-testid":e["data-testid"],children:[(0,s.jsx)(u.default,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,s.jsx)(R,{name:e.name,disabled:e.disabled})}),(0,s.jsxs)("button",{type:"button",disabled:n?.isSubmitting||j,className:L,onClick:T,role:"none",children:[(0,s.jsx)(a.TodayOutlined,{className:"text-lg mr-2"}),(0,s.jsx)("span",{className:"truncate",children:M}),b&&!j&&w?(0,s.jsx)("button",{type:"button",className:(0,m.default)("absolute outline-none inset-y-0 right-2 flex items-center transition duration-100 dark:text-dark-monetr-content-subtle"),onClick:e=>{e.preventDefault(),P()},children:(0,s.jsx)(a.CloseOutlined,{})}):null]}),(0,s.jsx)(i.Popover,{open:!!N,anchorEl:N,onClose:C,transitionDuration:200,children:(0,s.jsx)(c.default,{showOutsideDays:!0,mode:"single",defaultMonth:I,selected:w,onSelect:e=>{O(e),C()},locale:o.default,disabled:A,enableYearNavigation:y,className:(0,m.default)("z-50 overflow-y-auto outline-none rounded-lg p-3 border","dark:bg-dark-monetr-background dark:border-dark-monetr-border-subtle dark:shadow-2xl")})}),(0,s.jsx)(function(){return e.error?(0,s.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}function x(e,t,n){let s=n.code;if(!e&&!t)return"";if(e&&!t)return e.toLocaleDateString(s,{year:"numeric",month:"short",day:"numeric"});if(e&&t){if((0,l.isEqual)(e,t))return e.toLocaleDateString(s,{year:"numeric",month:"short",day:"numeric"});if(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())return`${e.toLocaleDateString(s,{month:"short",day:"numeric"})} - ${t.getDate()}, ${t.getFullYear()}`;let n={year:"numeric",month:"short",day:"numeric"};return`${e.toLocaleDateString(s,n)} - ${t.toLocaleDateString(s,n)}`}return""}},"../interface/src/components/MDivider.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));function a(e){let t=(0,r.default)("border-0 border-b-[thin] dark:border-dark-monetr-border",e.className);return(0,s.jsx)("hr",{className:t})}},"../interface/src/components/MForm.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n("../node_modules/formik/dist/formik.esm.js"),i=r.default.forwardRef(function(e,t){let{className:n,children:r,...i}=e;return(0,s.jsx)(a.Formik,{...i,children:a=>(0,s.jsx)("form",{onSubmit:a.handleSubmit,className:n,"data-testid":e["data-testid"],ref:t,children:"function"==typeof r?r(a):r})})})},"../interface/src/components/MLabel.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));function a(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)(function(){if(!e.label)return null;let t=(0,r.default)("mb-1","block","text-sm","font-medium","leading-6",{"text-gray-900":!e.disabled,"text-gray-500":e.disabled,"dark:text-dark-monetr-content-emphasis":!e.disabled});return(0,s.jsx)("label",{htmlFor:e.htmlFor,className:t,children:e.label})},{}),(0,s.jsx)(function(){return e.required?(0,s.jsx)("span",{className:"text-red-500",children:"*"}):null},{})]}),e.children]})}},"../interface/src/components/MLink.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n.ir(n("../interface/src/util/mergeTailwind.ts"));let i={size:"md",color:"primary"};function l(e){e={...i,...e};let t=(0,a.default)("font-semibold",...{primary:["dark:text-dark-monetr-brand-faint","dark:hover:text-dark-monetr-brand-bright","text-purple-500","hover:text-purple-600","rounded","focus:ring-1","focus:ring-purple-500"],secondary:["text-gray-400","hover:text-gray-500"]}[e.color],`text-${e.size}`,e.className);return(0,s.jsx)(r.Link,{...e,className:t,children:e.children})}},"../interface/src/components/MLogo.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../interface/src/assets/index.js");function a(e){return(0,s.jsx)("img",{...e,src:r.Logo})}},"../interface/src/components/MModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n.ir(n("../interface/src/util/mergeTailwind.ts"));let i=r.default.forwardRef((e,t)=>{if(!e.open)return null;let n=(0,a.default)("bg-background","overflow-auto","p-2","relative","rounded-none","sm:rounded-lg","shadow-xl","h-screen","sm:h-auto","w-screen","sm:w-full","sm:max-w-lg","pb-6","md:pb-2","transform",e.className);return(0,s.jsxs)("div",{className:"top-0 left-0 absolute z-50 w-screen h-screen overflow-hidden",role:"dialog","aria-modal":"true",children:[(0,s.jsx)("div",{className:"hidden sm:inline sm:fixed inset-0 bg-dark-monetr-background bg-opacity-50 transition-opacity backdrop-blur-sm backdrop-brightness-50"}),(0,s.jsx)("div",{ref:t,className:"fixed inset-0 z-10 overflow-y-hidden h-screen max-h-screen",children:(0,s.jsx)("div",{className:"h-auto flex justify-center p-0 sm:p-4 items-center min-h-full",children:(0,s.jsx)("div",{className:n,children:e.children})})})]})});var l=i},"../interface/src/components/MSelect.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../node_modules/react-select/dist/react-select.esm.js")),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n("../node_modules/@mui/material/index.js"),o=n.ir(n("../interface/src/components/MLabel.tsx")),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n.ir(n("../interface/src/hooks/useTheme.ts")),u=n.ir(n("../interface/src/util/mergeTailwind.ts"));function m(e){let t=(0,c.default)(),{labelDecorator:n,className:i,...l}=e,d=(0,u.default)({"pb-[18px]":!e.error},i),m=(0,u.default)({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:text-gray-400":!e.value},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","md:hidden","border-0","dark:caret-zinc-50","focus:ring-2","focus:ring-inset","min-h-[38px]","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-left","text-sm","w-full","relative");return(0,s.jsxs)("div",{className:d,children:[(0,s.jsx)(o.default,{label:e.label,htmlFor:e.id,required:e.required,disabled:e.disabled,children:(0,s.jsx)(n??(e=>null),{name:e.name,disabled:e.disabled})}),(0,s.jsx)("button",{type:"button",disabled:e.disabled,className:m,onClick:()=>(function(e){return a.default.show(f,e)})({title:e.placeholder,options:e.options,value:e.value,onChange:e.onChange}),role:"none",children:(0,s.jsx)(function(){return e.value?.label?(0,s.jsx)("span",{className:"truncate",children:e?.value?.label}):(0,s.jsx)("span",{className:"truncate",children:e?.placeholder})},{})}),(0,s.jsx)(r.default,{theme:e=>({...e,borderRadius:8,colors:{...e.colors,neutral0:t.tailwind.colors["dark-monetr"].background.DEFAULT,neutral5:t.tailwind.colors["dark-monetr"].background.subtle,neutral10:t.tailwind.colors["dark-monetr"].background.emphasis,neutral20:t.tailwind.colors["dark-monetr"].border.string,neutral30:t.tailwind.colors["dark-monetr"].content.DEFAULT,neutral60:t.tailwind.colors["dark-monetr"].content.emphasis,neutral70:t.tailwind.colors["dark-monetr"].content.emphasis,neutral80:t.tailwind.colors["dark-monetr"].content.emphasis,neutral90:t.tailwind.colors["dark-monetr"].content.emphasis,primary25:t.tailwind.colors["dark-monetr"].background.emphasis,primary50:t.tailwind.colors["dark-monetr"].brand.faint,primary:t.tailwind.colors["dark-monetr"].brand.DEFAULT}}),...l,className:"hidden md:block",isDisabled:e.disabled,styles:{placeholder:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),valueContainer:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),option:e=>({...e,color:t.tailwind.colors["dark-monetr"].content.emphasized}),menuPortal:e=>({...e,zIndex:9999})}}),(0,s.jsx)(function(){return e.error?(0,s.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}let f=a.default.create(function(e){let t=(0,a.useModal)(),n="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),r=e.options;return(0,s.jsx)(l.SwipeableDrawer,{disableBackdropTransition:!n,disableDiscovery:n,anchor:"bottom",open:t.visible,onClose:t.hide,onOpen:()=>t.show(),className:"backdrop-blur-sm backdrop-brightness-50",children:(0,s.jsxs)("div",{className:"h-full flex flex-col gap-4 bg-dark-monetr-background pb-8",children:[(0,s.jsx)(d.default,{weight:"bold",size:"xl",className:"p-2",children:e.title}),(0,s.jsx)("ul",{className:"w-full flex flex-col gap-2",children:r.map(n=>(0,s.jsxs)("li",{className:"w-full flex items-center active:bg-dark-monetr-background-subtle py-2",onClick:()=>{e.onChange(n,void 0),t.hide()},children:[e.value?.value===n.value&&(0,s.jsx)(i.CheckCircleOutline,{className:"mx-2 w-6"}),e.value?.value!==n.value&&(0,s.jsx)("div",{className:"mx-2 w-6"}),(0,s.jsx)(d.default,{size:"lg",weight:"medium",children:n.label})]},n.value))})]})})})},"../interface/src/components/MSelectFrequency.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/formik/dist/formik.esm.js"),i=n.ir(n("../interface/src/components/MSelect.tsx")),l=n.ir(n("../interface/src/components/Recurrence/getRecurrencesForDate.ts"));function o(e){let[t,n]=(0,r.useState)(null),o=(0,a.useFormikContext)(),d=o.values[e.dateFrom],c=(0,l.default)(d);(0,r.useEffect)(()=>{console.debug("[MSelectFrequency]","date selection has changed and is no longer present in the rules");let t=o?.values[e.name],s=t?c.findIndex(e=>e.equalRule(t)):-1;if(s>=0){console.debug("[MSelectFrequency]","found existing recurrence with the specified value"),n(s);return}n(null),o?.setFieldValue(e.name,null),o?.validateField(e.name)},[d]);let u=c.map((e,t)=>({label:e.name,value:t})),m=null!==t&&t>=0&&t<u.length?u[t]:null;return(0,s.jsx)(i.default,{...e,placeholder:"Select a frequency...",disabled:o?.isSubmitting,error:o?.errors[e.name],isClearable:!1,label:e.label,name:e.name,onChange:function(t,s){n(t.value),o?.setFieldValue(e.name,c[t.value].ruleString()),o?.setFieldTouched(e.name,!0),o?.validateField(e.name)},options:u,value:m})}},"../interface/src/components/MSelectFunding.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n("../node_modules/formik/dist/formik.esm.js"),i=n("../interface/src/components/MButton.tsx"),l=n.ir(n("../interface/src/components/MLabel.tsx")),o=n.ir(n("../interface/src/components/MSelect.tsx")),d=n("../interface/src/hooks/fundingSchedules.ts"),c=n("../interface/src/modals/NewFundingModal.tsx");function u(e){let t=(0,a.useFormikContext)(),{data:n,isLoading:u,isError:m}=(0,d.useFundingSchedulesSink)(),f=e.label??"Select a funding schedule";if(u)return(0,s.jsx)(o.default,{className:e?.className,disabled:!0,isLoading:!0,label:f,menuPortalTarget:e.menuPortalTarget,placeholder:"Select a funding schedule...",required:e?.required});if(m)return(0,s.jsx)(o.default,{className:e?.className,disabled:!0,isLoading:!0,label:f,menuPortalTarget:e.menuPortalTarget,placeholder:"Failed to load funding schedules...",required:e?.required});if(0===n.length)return(0,s.jsxs)("div",{className:"h-[84px] w-full",children:[(0,s.jsx)(l.default,{label:e.label,required:e.required}),(0,s.jsxs)(i.MBaseButton,{color:"primary",variant:"solid",className:"w-full h-[38px] font-normal text-start justify-start gap-2",onClick:function(){(0,c.showNewFundingModal)().then(n=>t.setFieldValue(e.name,n.fundingScheduleId))},children:[(0,s.jsx)(r.TodayOutlined,{}),"Create a new funding schedule..."]})]});let x=Array.from(n.values()).map(e=>({label:e.name,value:e.fundingScheduleId})),p=x.find(n=>n.value===t.values[e.name]);return(0,s.jsx)(o.default,{label:"When do you want to fund the expense?",menuPlacement:"auto",menuPortalTarget:e.menuPortalTarget,menuPosition:"fixed",name:"fundingScheduleId",onChange:function(n){t.setFieldValue(e.name,n.value)},options:x,placeholder:"Select a funding schedule...",required:e.required,value:p,className:e.className})}},"../interface/src/components/MSelectSpending.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-select/dist/react-select.esm.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/formik/dist/formik.esm.js"),l=n.ir(n("../interface/src/components/MBadge.tsx")),o=n.ir(n("../interface/src/components/MSelect.tsx")),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n("../interface/src/hooks/balances.ts"),u=n("../interface/src/hooks/spending.ts"),m=n.ir(n("../interface/src/models/Spending.ts")),f=n("../interface/src/util/amounts.ts");let x="spnd_freeToUse";function p(e){let t=(0,i.useFormikContext)(),{result:n,isLoading:r,isError:a}=(0,u.useSpendingSink)(),l=(0,c.useCurrentBalance)();if(e={label:"Spent From",placeholder:"Select a spending item...",disabled:t?.isSubmitting,...e},r)return(0,s.jsx)(o.default,{...e,isLoading:!0,disabled:!0,placeholder:"Loading..."});if(a)return(0,s.jsx)(o.default,{...e,isLoading:!0,disabled:!0,placeholder:"Failed to load spending..."});let d={label:"Free-To-Use",value:x,spending:new m.default({spendingId:x,currentAmount:l?.free})},f=n.map(e=>({label:e.name,value:e.spendingId,spending:e})),p=t.values[e.excludeFrom],h=[d,...f.sort((e,t)=>e.label.toLowerCase()>t.label.toLowerCase()?1:-1)].filter(t=>e.excludeFrom&&p?t.value!==p:!e.excludeFrom||!!p||t.value!==x),b=t.values[e.name],j=h.find(e=>e.value===(b??x));return(0,s.jsx)(o.default,{...e,options:h,value:j,onChange:function(n){return n.value===x?t.setFieldValue(e.name,null):t.setFieldValue(e.name,n.value)},components:{Option:g},isClearable:!1})}function g({children:e,...t}){let n=t.data.spending?.currentAmount===void 0,i=n?"N/A":(0,f.formatAmount)(t.data.spending.currentAmount);return(0,s.jsx)(r.components.Option,{...t,children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(d.default,{size:"md",color:"emphasis",children:t.label}),(0,s.jsxs)("div",{className:"flex gap-2",children:[t.data.spending?.spendingType===m.SpendingType.Goal&&(0,s.jsx)(l.default,{size:"sm",className:"dark:bg-dark-monetr-blue  max-h-[24px]",children:(0,s.jsx)(a.SavingsOutlined,{})}),t.data.spending?.spendingType===m.SpendingType.Expense&&(0,s.jsx)(l.default,{size:"sm",className:"dark:bg-dark-monetr-green max-h-[24px]",children:(0,s.jsx)(a.PriceCheckOutlined,{})}),(0,s.jsx)(l.default,{size:"sm",children:i})]})]})})}},"../interface/src/components/MSelectSpendingTransaction.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return h},SpendingSelectOption:function(){return b}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/react-select/dist/react-select.esm.js")),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n.ir(n("../interface/src/components/MBadge.tsx")),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n("../interface/src/hooks/balances.ts"),c=n("../interface/src/hooks/spending.ts"),u=n("../interface/src/hooks/transactions.ts"),m=n.ir(n("../interface/src/hooks/useTheme.ts")),f=n("../interface/src/models/Spending.ts"),x=n.ir(n("../interface/src/models/Transaction.ts")),p=n("../interface/src/util/amounts.ts"),g=n.ir(n("../interface/src/util/mergeTailwind.ts"));function h(e){let{transaction:t}=e,{result:n,isLoading:i}=(0,c.useSpendingSink)(),l=(0,d.useCurrentBalance)(),o=(0,u.useUpdateTransaction)(),f=(0,m.default)(),[p,h]=(0,r.useState)(!1),j=`txn-${t.transactionId}-spending-input`;async function k(e){let n=e?e.spendingId:null;if(n==t.spendingId)return Promise.resolve();h(!0);let s=new x.default({...t,spendingId:n});return o(s).finally(()=>{h(!1),setTimeout(()=>{document.getElementById(j).focus()},0)})}let y={label:"Free-To-Use",value:null,spending:{currentAmount:l?.free}},w=n.map(e=>({label:e.name,value:e.spendingId,spending:e})),v=[y,...w.sort((e,t)=>e.label.toLowerCase()>t.label.toLowerCase()?1:-1)],N=t.spendingId?w.find(e=>e.value===t.spendingId):y;return(0,s.jsx)("div",{className:"hidden md:flex w-1/2 flex-1 items-center",children:(0,s.jsx)(a.default,{inputId:j,theme:e=>({...e,borderRadius:8,spacing:{controlHeight:32,baseUnit:3,menuGutter:15},colors:{...e.colors,neutral0:f.tailwind.colors["dark-monetr"].background.DEFAULT,neutral5:f.tailwind.colors["dark-monetr"].background.subtle,neutral10:f.tailwind.colors["dark-monetr"].background.emphasis,neutral20:f.tailwind.colors["dark-monetr"].border.string,neutral30:f.tailwind.colors["dark-monetr"].content.DEFAULT,neutral60:f.tailwind.colors["dark-monetr"].content.emphasis,neutral70:f.tailwind.colors["dark-monetr"].content.emphasis,neutral80:f.tailwind.colors["dark-monetr"].content.emphasis,neutral90:f.tailwind.colors["dark-monetr"].content.emphasis,primary25:f.tailwind.colors["dark-monetr"].background.emphasis,primary50:f.tailwind.colors["dark-monetr"].brand.faint,primary:f.tailwind.colors["dark-monetr"].brand.DEFAULT}}),menuPortalTarget:document.body,components:{Option:b},styles:{placeholder:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),valueContainer:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem",padding:"0px 5px"}),option:e=>({...e,color:f.tailwind.colors["dark-monetr"].content.emphasized}),menuPortal:e=>({...e,zIndex:9999})},classNamePrefix:"m-select-spending-transaction",isLoading:p||i&&!!t.spendingId,onChange:function(e,t){return k(e.spending)},formatOptionLabel:function(e,t){return"value"===t.context?(0,s.jsxs)(r.Fragment,{children:["Spent From ",(0,s.jsx)("span",{className:(0,g.default)({"font-bold dark:text-dark-monetr-content-emphasis":!!e.value}),children:e.label})]}):e.label},options:v,value:N,className:"w-full"})})}function b({children:e,...t}){let n=t.data.spending?.currentAmount===void 0,r=n?"N/A":(0,p.formatAmount)(t.data.spending.currentAmount);return(0,s.jsx)(a.components.Option,{...t,children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(o.default,{size:"md",color:"emphasis",children:t.label}),(0,s.jsxs)("div",{className:"flex gap-2",children:[t.data.spending?.spendingType===f.SpendingType.Goal&&(0,s.jsx)(l.default,{size:"sm",className:"dark:bg-dark-monetr-blue  max-h-[24px]",children:(0,s.jsx)(i.SavingsOutlined,{})}),t.data.spending?.spendingType===f.SpendingType.Expense&&(0,s.jsx)(l.default,{size:"sm",className:"dark:bg-dark-monetr-green max-h-[24px]",children:(0,s.jsx)(i.PriceCheckOutlined,{})}),(0,s.jsx)(l.default,{size:"sm",children:r})]})]})})}n("../interface/src/components/MSelectSpendingTransaction.scss")},"../interface/src/components/MSidebarToggle.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/hooks/store.ts")),l=n.ir(n("../interface/src/util/mergeTailwind.ts"));function o(e){let t=(0,r.useNavigate)(),{setMobileSidebarOpen:n,mobileSidebarOpen:o}=(0,i.default)();function d(){e.backButton?t(e.backButton):n(!o)}let c=(0,l.default)("visible lg:hidden","dark:text-dark-monetr-content-emphasis cursor-pointer h-12 flex items-center justify-center",e.className);return e.backButton?(0,s.jsx)("div",{className:c,onClick:d,children:(0,s.jsx)(a.ArrowBackOutlined,{})}):(0,s.jsxs)("div",{className:c,onClick:d,children:[!o&&(0,s.jsx)(a.MenuOutlined,{}),o&&(0,s.jsx)(a.MenuOpenOutlined,{})]})}},"../interface/src/components/MSpan.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return i},MSpanDeriveClasses:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));let a={color:"default",size:"inherit"};function i(e){e={...a,...e};let t=l(e),n=e.component??"span";return(0,s.jsx)(n,{className:t,"data-testid":e["data-testid"],onClick:e.onClick,children:e.children})}function l(e){return e={...a,...e},(0,r.default)("flex gap-2 items-center",{default:["dark:text-dark-monetr-content","text-monetr-content"],muted:["dark:text-dark-monetr-content-muted","text-monetr-content-muted"],subtle:["dark:text-dark-monetr-content-subtle","text-monetr-content-subtle"],emphasis:["dark:text-dark-monetr-content-emphasis","text-monetr-content-emphasis"],inherit:["text-inherit"]}[e.color],{"block text-ellipsis min-w-0 truncate":e.ellipsis},{inherit:"text-size-inherit",xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl"}[e.size],{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}[e.weight],{code:"dark:bg-dark-monetr-background-subtle px-1.5 rounded-lg"}[e.component?.toString()],e.className)}},"../interface/src/components/MSpinner.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));function a(e){let t=(0,r.default)("h-12","w-12",e.className,"animate-spin");return(0,s.jsx)("div",{"aria-label":"Loading...",role:"status",children:(0,s.jsxs)("svg",{className:t,viewBox:"3 3 18 18",children:[(0,s.jsx)("path",{className:"fill-dark-monetr-background-subtle",d:"M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"}),(0,s.jsx)("path",{className:"fill-dark-monetr-brand",d:"M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z"})]})})}},"../interface/src/components/MStepper.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s,r,a=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/react/index.js"),l=n.ir(n("../interface/src/components/MDivider.tsx")),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n.ir(n("../interface/src/util/mergeTailwind.ts"));function c(e){let{steps:t,activeIndex:n}=e,s=[r.Inactive,r.Active,r.Complete],i=t.map((e,r)=>{let i=s[[r>n,r===n,r<n].indexOf(!0)],l=r!=t.length-1;return(0,a.jsx)(u,{state:i,name:e,currentIndex:n,index:r,divider:l},r)});return(0,a.jsx)("div",{className:"w-full flex gap-2 items-center bg-dark-monetr-background-focused p-2 rounded-xl",children:i})}function u(e){let t=(0,d.default)({[r.Inactive]:["dark:border-dark-monetr-background-emphasis","border-dashed"],[r.Active]:["dark:border-dark-monetr-background-emphasis","border-dashed"],[r.Complete]:["dark:border-green-600"]}[e.state],"flex-grow"),n=(0,d.default)({[r.Inactive]:["dark:bg-dark-monetr-background-emphasis"],[r.Active]:["dark:bg-dark-monetr-brand-bright","dark:text-black"],[r.Complete]:["dark:bg-green-600","dark:text-white"]}[e.state],"rounded-full","w-5","h-5","flex","text-center","align-middle","items-center","justify-center"),s=(0,d.default)({"sm:inline hidden":![e.currentIndex,e.currentIndex+1].includes(e.index)},{[r.Inactive]:[],[r.Active]:["dark:text-dark-monetr-brand-bright"],[r.Complete]:["dark:text-green-600"]}[e.state]);return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)(o.default,{className:"flex gap-1 items-center h-6",children:[(0,a.jsx)(o.default,{className:n,children:e.index+1}),(0,a.jsx)(o.default,{className:s,children:e.name})]}),e.divider&&(0,a.jsx)(l.default,{className:t})]})}(s=r||(r={}))[s.Inactive=0]="Inactive",s[s.Active=1]="Active",s[s.Complete=2]="Complete"},"../interface/src/components/MTextField.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/formik/dist/formik.esm.js"),a=n.ir(n("../interface/src/components/MLabel.tsx")),i=n.ir(n("../interface/src/util/mergeTailwind.ts"));let l={label:null,labelDecorator:e=>null,disabled:!1,uppercasetext:void 0};function o(e=l){let t=(0,r.useFormikContext)();e={...l,...e,disabled:e?.disabled||t?.isSubmitting,error:e?.error||(t?.touched[e?.name]?t?.errors[e?.name]:null)};let{labelDecorator:n,...o}=e,d=n||l.labelDecorator,c=(0,i.default)({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error,uppercase:e.uppercasetext},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-transparent":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","focus:ring-2","focus:ring-inset","placeholder:text-gray-400","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-sm","w-full","dark:caret-zinc-50","min-h-[38px]"),u=(0,i.default)({"pb-[18px]":!e.error},e.className),m=t?.values[e.name];return(0,s.jsxs)("div",{className:u,children:[(0,s.jsx)(a.default,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,s.jsx)(d,{name:e.name,disabled:e.disabled})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{value:m,onChange:t?.handleChange,onBlur:t?.handleBlur,disabled:t?.isSubmitting||e.disabled,...o,className:c})}),(0,s.jsx)(function(){return e.error?(0,s.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}},"../interface/src/components/MTopNavigation.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n.ir(n("../interface/src/components/MSidebarToggle.tsx")),l=n.ir(n("../interface/src/components/MSpan.tsx")),o=n.ir(n("../interface/src/util/mergeTailwind.ts"));function d(e){let t=e.icon,n=(0,a.useNavigate)(),d=(0,r.useCallback)(()=>{e.base&&n(e.base)},[e.base,n]),c=(0,o.default)({"dark:text-dark-monetr-content-emphasis":!e.breadcrumb,"dark:text-dark-monetr-content-subtle dark:hover:text-dark-monetr-content-emphasis":!!e.breadcrumb,"cursor-pointer":!!e.base},"w-auto order-1"),u=(0,o.default)({"hidden md:inline":!!e.breadcrumb},"w-auto text-center order-1"),m=(0,o.default)({"mr-0 md:mr-2":!!e.breadcrumb,"mr-2":!e.breadcrumb},"mb-1");return(0,s.jsxs)("div",{className:"w-full h-auto md:h-12 flex flex-col md:flex-row md:items-center px-4 gap-x-4 justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-2 min-w-0 h-12 items-center flex-grow",children:[(0,s.jsx)(i.default,{className:"mr-2",backButton:e.base}),(0,s.jsxs)("span",{className:"flex gap-2 flex-grow min-w-0",children:[(0,s.jsx)(function(){return(0,s.jsxs)(l.default,{weight:"bold",size:"2xl",className:c,onClick:d,ellipsis:!0,children:[(0,s.jsx)(t,{className:m}),(0,s.jsx)("span",{className:u,children:e.title})]})},{}),(0,s.jsx)(function(){return e.breadcrumb?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l.default,{weight:"bold",size:"2xl",color:"subtle",className:"hidden md:block order-2",children:"/"}),(0,s.jsx)(l.default,{weight:"bold",size:"2xl",color:"emphasis",ellipsis:!0,className:"order-3",children:e.breadcrumb})]}):null},{})]})]}),e.children&&(0,s.jsx)("div",{className:"flex gap-x-2 md:p-0",children:e.children})]})}},"../interface/src/components/MerchantIcon.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../interface/src/components/Avatar.tsx"),a=n("../interface/src/hooks/useIconSearch.ts"),i=n.ir(n("../interface/src/util/mergeTailwind.ts"));function l(e){let t=(0,a.useIconSearch)(e?.name);if(t?.svg){let e=(0,i.default)("dark:bg-dark-monetr-background-bright","flex","items-center","justify-center","h-10","w-10","rounded-full","flex-none"),n=t?.colors?.length>0?{backgroundColor:`#${t.colors[0]}`}:{backgroundColor:"#000000"},r={WebkitMaskImage:`url(data:image/svg+xml;base64,${t.svg})`,WebkitMaskRepeat:"no-repeat",height:"30px",width:"30px",...n};return(0,s.jsx)("div",{className:e,children:(0,s.jsx)("div",{style:r})})}let n=e?.name?.toUpperCase().charAt(0)||"?";return(0,s.jsx)(r.Avatar,{className:"h-10 w-10",children:(0,s.jsx)(r.AvatarFallback,{className:"dark:bg-dark-monetr-background-subtle dark:text-dark-monetr-content",children:n})})}},"../interface/src/components/Plaid/OAuthRedirectPlaidLink.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OAuthRedirectPlaidLink",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/index.js"),r=n("../node_modules/react-plaid-link/dist/index.umd.js");let a=e=>{let{open:t,ready:n}=(0,r.usePlaidLink)({token:e.linkToken,receivedRedirectUri:window.location.href,onSuccess:e.plaidOnSuccess,onExit:e.plaidOnExit,onEvent:e.plaidOnEvent,onLoad:e.plaidOnLoad});return(0,s.useEffect)(()=>{n&&t()},[n,t]),null}},"../interface/src/components/Popover.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{Popover:function(){return l},PopoverContent:function(){return d},PopoverTrigger:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n.ir(n("../node_modules/@radix-ui/react-popover/dist/index.mjs")),i=n.ir(n("../interface/src/util/mergeTailwind.ts"));let l=a.Root,o=a.Trigger,d=r.default.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},l)=>(0,s.jsx)(a.Portal,{children:(0,s.jsx)(a.Content,{ref:l,align:t,sideOffset:n,className:(0,i.default)("z-50 w-72 rounded-md bg-dark-monetr-popover p-4 text-dark-monetr-content-emphasis","border border-dark-monetr-border","shadow-md outline-none","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2",e),...r})}));d.displayName=a.Content.displayName},"../interface/src/components/Skeleton.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Skeleton",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/util/mergeTailwind.ts"));function a({className:e,...t}){return(0,s.jsx)("div",{className:(0,r.default)("animate-pulse rounded-lg bg-dark-monetr-background-emphasis px-3 py-1.5",e),...t,children:"\xa0"})}},"../interface/src/components/expenses/ExpenseItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/MerchantIcon.tsx")),l=n("../interface/src/hooks/fundingSchedules.ts"),o=n.ir(n("../interface/src/util/mergeTailwind.ts")),d=n("../node_modules/rrule/dist/esm/index.js");function c({spending:e}){let{data:t}=(0,l.useFundingSchedule)(e.fundingScheduleId),n=(0,r.useNavigate)(),c=(0,d.rrulestr)(e.ruleset),u=(0,o.default)({"text-green-500":e.targetAmount<=e.currentAmount,"text-blue-500":e.targetAmount!==e.currentAmount},"text-end","font-semibold");function m(){n(`/bank/${e.bankAccountId}/expenses/${e.spendingId}/details`)}return(0,s.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:m}),(0,s.jsxs)("div",{className:"w-full flex rounded-lg group-hover:bg-zinc-600 gap-2 items-center px-2 py-1 cursor-pointer md:cursor-auto",children:[(0,s.jsxs)("div",{className:"flex items-center flex-1 w-full md:w-1/2 gap-4 min-w-0 pr-1",children:[(0,s.jsx)(i.default,{name:e.name}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden min-w-0",children:[(0,s.jsx)("span",{className:"text-zinc-50 font-semibold text-base w-full overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:e.name}),(0,s.jsx)("span",{className:"hidden md:block text-zinc-200 font-sm text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:c.toText()}),(0,s.jsxs)("span",{className:"md:hidden text-zinc-200 text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:[e.getNextContributionAmountString()," / ",t?.name]})]})]}),(0,s.jsx)("div",{className:"hidden md:flex w-1/2 overflow-hidden flex-1 min-w-0 items-center",children:(0,s.jsxs)("span",{className:"text-zinc-50/75 font-medium text-base text-ellipsis whitespace-nowrap overflow-hidden min-w-0",children:[e.getNextContributionAmountString()," / ",t?.name]})}),(0,s.jsxs)("div",{className:"flex md:hidden shrink-0 items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:u,children:e.getCurrentAmountString()}),(0,s.jsx)("hr",{className:"w-full border-0 border-b-[thin] border-zinc-600"}),(0,s.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]}),(0,s.jsx)(a.KeyboardArrowRight,{className:"text-zinc-600 group-hover:text-zinc-50 flex-none md:cursor-pointer"})]}),(0,s.jsxs)("div",{className:"hidden md:flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)("span",{className:u,children:e.getCurrentAmountString()}),"\xa0",(0,s.jsx)("span",{className:"text-end text-zinc-500 group-hover:text-zinc-400 font-medium",children:"of"}),"\xa0",(0,s.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]})}),(0,s.jsx)(a.KeyboardArrowRight,{className:"flex-none dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:m})]})]})]})}},"../interface/src/components/funding/FundingItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n("../interface/src/components/Avatar.tsx"),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n("../interface/src/hooks/forecast.ts"),c=n("../interface/src/util/amounts.ts"),u=n.ir(n("../interface/src/util/capitalize.ts")),m=n("../node_modules/rrule/dist/esm/index.js");function f(e){let t=(0,r.useNavigate)(),{funding:n}=e,f=(0,d.useNextFundingForecast)(n.fundingScheduleId),x=(0,m.rrulestr)(n.ruleset),p=n.name.toUpperCase().charAt(0)||"?",g=(0,u.default)(x.toText()),h=n.nextRecurrence,b=(0,i.isThisYear)(h)?"EEEE LLLL do":"EEEE LLLL do, yyyy",j=`${(0,i.format)(h,b)}`;function k(){t(`/bank/${n.bankAccountId}/funding/${n.fundingScheduleId}/details`)}return(0,s.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:k}),(0,s.jsxs)("div",{className:"flex items-center rounded-lg group-hover:bg-zinc-600 gap-2 md:gap-4 px-2 py-1 h-full cursor-pointer md:cursor-auto",children:[(0,s.jsx)(l.Avatar,{className:"h-10 w-10",children:(0,s.jsx)(l.AvatarFallback,{className:"dark:bg-dark-monetr-background-subtle dark:text-dark-monetr-content",children:p})}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col flex-1 min-w-0 overflow-hidden",children:[(0,s.jsx)(o.default,{weight:"semibold",color:"emphasis",ellipsis:!0,children:n.name}),(0,s.jsx)(o.default,{size:"sm",weight:"medium",ellipsis:!0,children:g}),(0,s.jsx)(o.default,{size:"sm",weight:"medium",ellipsis:!0,children:j})]}),(0,s.jsxs)("div",{className:"flex md:min-w-[14em] shrink-0 justify-end gap-2 items-center",children:[(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)("span",{className:"hidden sm:block text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Estimated Contribution"}),(0,s.jsx)("span",{className:"block sm:hidden text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Est."}),"\xa0",(0,s.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:(0,c.formatAmount)(f.data)})]})}),(0,s.jsx)(a.KeyboardArrowRight,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis flex-none md:cursor-pointer",onClick:k})]})]})]})}},"../interface/src/components/funding/FundingTimeline.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n("../node_modules/date-fns/esm/index.js"),i=n.ir(n("../interface/src/components/MSpan.tsx")),l=n("../interface/src/hooks/forecast.ts"),o=n("../interface/src/hooks/fundingSchedules.ts"),d=n("../interface/src/util/amounts.ts"),c=n.ir(n("../interface/src/util/mergeTailwind.ts"));function u(e){let{data:t}=(0,o.useFundingSchedule)(e.fundingScheduleId),{result:n,isLoading:u,isError:m}=(0,l.useForecast)();if(u)return(0,s.jsx)(i.default,{children:"Loading..."});if(m||!t)return(0,s.jsx)(i.default,{children:"Failed to load funding forecast!"});let f=n.events.filter(t=>t.funding.some(t=>t.fundingScheduleId===e.fundingScheduleId)).map(t=>({...t,funding:t.funding.filter(t=>t.fundingScheduleId===e.fundingScheduleId)})),x=f.map(t=>{let n={date:t.date,originalDate:t.funding.find(t=>t.fundingScheduleId===e.fundingScheduleId).originalDate,totalContributedAmount:t.contribution,contributedAmount:0,endingAllocation:t.balance,spendingCount:0};return t.spending.forEach(t=>{t.funding.find(t=>t.fundingScheduleId===e.fundingScheduleId)&&(n.contributedAmount+=t.contributionAmount,n.spendingCount++)}),n});function p(e){let n="",i="",l="",o=null;n="Contribution",o=(0,s.jsx)(r.NorthEast,{}),i=`${t.name} will contribute ${(0,d.formatAmount)(e.contributedAmount)} to ${e.spendingCount} budget(s), resulting in a total allocation of ${(0,d.formatAmount)(e.endingAllocation)}.`,t.estimatedDeposit&&(i+=` An estimated ${(0,d.formatAmount)(t.estimatedDeposit-e.contributedAmount)} will be left over for Free-to-Use after this contribution.`),e.date.getDate()!=e.originalDate.getDate()&&(l=`(Avoided weekend or holiday on ${(0,a.format)(e.originalDate,"MMMM do")})`);let u=(0,c.default)({"mb-5":!e.last},"ml-4");return(0,s.jsxs)("li",{className:u,children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,s.jsxs)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:[(0,a.format)(e.date,"MMMM do")," ",(0,s.jsx)("br",{})," ",l]}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[n," ",o]}),(0,s.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:i}),null]})}return(0,s.jsx)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:x.map((e,t)=>(0,s.jsx)(p,{...e,last:x.length-1===t},(0,a.getUnixTime)(e.date)))})}},"../interface/src/components/goals/GoalItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n.ir(n("../interface/src/components/MBadge.tsx")),o=n.ir(n("../interface/src/components/MerchantIcon.tsx")),d=n("../interface/src/hooks/fundingSchedules.ts"),c=n.ir(n("../interface/src/util/mergeTailwind.ts"));function u({spending:e}){let{data:t}=(0,d.useFundingSchedule)(e.fundingScheduleId),n=(0,a.useNavigate)();function r(){n(`/bank/${e.bankAccountId}/goals/${e.spendingId}/details`)}let l=`${e.getNextContributionAmountString()} / ${t?.name}`;return e.getGoalIsInProgress()?e.isPaused&&(l="Paused"):l="Complete",(0,s.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:r}),(0,s.jsxs)("div",{className:"w-full flex rounded-lg group-hover:bg-zinc-600 gap-2 md:gap-4 items-center px-2 py-1 cursor-pointer md:cursor-auto",children:[(0,s.jsx)(o.default,{name:e.name}),(0,s.jsxs)("div",{className:"w-full flex flex-col min-w-0",children:[(0,s.jsxs)("div",{className:"w-full flex gap-2 items-center min-w-0 justify-between md:justify-normal",children:[(0,s.jsx)("div",{className:"flex items-center md:w-1/2 gap-4 min-w-0 pr-1",children:(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden min-w-0",children:[(0,s.jsxs)("span",{className:"block w-full text-zinc-50 font-semibold text-base overflow-hidden whitespace-nowrap truncate",children:[e.name,(0,s.jsxs)("span",{className:"md:hidden text-zinc-200 font-sm text-sm overflow-hidden whitespace-nowrap truncate",children:["\xa0• ",e.getNextOccurrenceString()]})]}),(0,s.jsx)("span",{className:"hidden md:block text-zinc-200 font-sm text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:e.getNextOccurrenceString()}),(0,s.jsx)("span",{className:"md:hidden text-zinc-200 text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:l})]})}),(0,s.jsx)("div",{className:"hidden md:flex w-1/2 overflow-hidden flex-1 min-w-0 items-center",children:(0,s.jsx)("span",{className:"text-zinc-50/75 font-medium text-base text-ellipsis whitespace-nowrap overflow-hidden min-w-0",children:l})}),(0,s.jsx)(m,{spending:e})]}),(0,s.jsx)(f,{spending:e})]}),(0,s.jsx)(i.KeyboardArrowRight,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:r})]})]})}function m({spending:e}){let t=(0,c.default)({"text-green-500":e.targetAmount<=e.currentAmount,"text-blue-500":e.targetAmount!==e.currentAmount},"text-end","font-semibold");return e.getGoalIsInProgress()?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"flex md:hidden shrink-0 items-center gap-2",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:t,children:e.getCurrentAmountString()}),(0,s.jsx)("hr",{className:"w-full border-0 border-b-[thin] border-zinc-600"}),(0,s.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]})}),(0,s.jsx)("div",{className:"hidden md:flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,s.jsx)("div",{className:"flex flex-col",children:(0,s.jsxs)("div",{className:"flex justify-end",children:[(0,s.jsx)("span",{className:t,children:e.getCurrentAmountString()}),"\xa0",(0,s.jsx)("span",{className:"text-end text-zinc-500 group-hover:text-zinc-400 font-medium",children:"of"}),"\xa0",(0,s.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:e.getTargetAmountString()})]})})})]}):(0,s.jsx)("div",{className:"flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,s.jsx)(l.default,{className:"w-fit justify-end dark:bg-green-600",weight:"medium",children:e.getCurrentAmountString()})})}function f({spending:e}){let{usedAmount:t,currentAmount:n,targetAmount:r}=e,a=(Math.min(t,r)/r*100).toFixed(0),i=(Math.min(n+t,r)/r*100).toFixed(0);return(0,s.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:[(0,s.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${i}%`}}),(0,s.jsx)("div",{className:"absolute top-0 bg-blue-600 h-1.5 rounded-full dark:bg-blue-600",style:{width:`${a}%`}})]})}},"../interface/src/components/goals/GoalTimeline.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n("../node_modules/date-fns/esm/index.js"),i=n.ir(n("../interface/src/components/MSpan.tsx")),l=n("../interface/src/hooks/forecast.ts"),o=n("../interface/src/hooks/fundingSchedules.ts"),d=n("../interface/src/hooks/spending.ts"),c=n("../interface/src/util/amounts.ts"),u=n.ir(n("../interface/src/util/mergeTailwind.ts"));function m(e){let{data:t}=(0,d.useSpending)(e.spendingId),{data:n}=(0,o.useFundingSchedule)(t?.fundingScheduleId),{result:m,isLoading:f,isError:x}=(0,l.useForecast)();if(f)return(0,s.jsx)(i.default,{children:"Loading..."});if(x||!t)return(0,s.jsx)(i.default,{children:"Failed to load goal forecast!"});let p=m.events.filter(t=>t.spending.some(t=>t.spendingId===e.spendingId)).map(t=>({...t,spending:t.spending.filter(t=>t.spendingId===e.spendingId)})),g=p.map(t=>{let n={date:t.date,totalContributedAmount:t.contribution,totalSpentAmount:t.transaction,spentAmount:0,contributedAmount:0,endingAllocation:0};return t.spending.forEach(t=>{t.spendingId===e.spendingId&&(n.spentAmount+=t.transactionAmount,n.contributedAmount+=t.contributionAmount,n.endingAllocation+=t.rollingAllocation)}),n});function h(e){let i="",l="",o=null,d=null;if(e.contributedAmount>0&&e.spentAmount>0)i="Contribution & Completion",d=(0,s.jsx)(r.AirlineStopsOutlined,{}),l=e.endingAllocation>0?`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or be ready to spend, ${(0,c.formatAmount)(e.contributedAmount)} was contributed to this goal at the same time. ${(0,c.formatAmount)(e.endingAllocation)} is left over to use from this goal until the next contribution.`:`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or be ready to spend, included the ${(0,c.formatAmount)(e.contributedAmount)} that was contributed to this goal at the same time to account for the spending.`;else if(0===e.contributedAmount&&e.spentAmount>0)i="Spending",d=(0,s.jsx)(r.SouthEast,{}),l=`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or will be ready to spend, from your ${t.name} goal.`;else{if(!(e.contributedAmount>0)||0!==e.spentAmount)return null;i="Contribution",d=(0,s.jsx)(r.NorthEast,{}),l=`${(0,c.formatAmount)(e.contributedAmount)} will be allocated towards ${t.name} from ${n.name}, resulting in a total allocation of ${(0,c.formatAmount)(e.endingAllocation)}.`,e.totalContributedAmount>e.contributedAmount&&(o=`A total of ${(0,c.formatAmount)(e.totalContributedAmount)} will be contributed to all budgets on this day.`)}let m=(0,u.default)({"mb-5":!e.last},"ml-4");return(0,s.jsxs)("li",{className:m,children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,s.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,a.format)(e.date,"MMMM do")}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[i," ",d]}),(0,s.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:l}),o&&(0,s.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:o})]})}return(0,s.jsxs)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:[(0,s.jsxs)("li",{className:"mb-5 ml-4",children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,s.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,a.format)(m.startingTime,"MMMM do")}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[t.name,(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300 ml-3",children:"Today"})]}),(0,s.jsxs)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:[t.name," currently has ",t.getCurrentAmountString()," allocated towards it."]}),(0,s.jsx)("p",{className:"mb-4 text-base font-normal text-zinc-500 dark:text-zinc-400",children:"Below is the timeline for this goal over the next month."})]}),g.map((e,t)=>(0,s.jsx)(h,{...e,last:g.length-1===t},(0,a.getUnixTime)(e.date)))]})}},"../interface/src/components/settings/security/ChangePasswordModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showChangePasswordModal",{enumerable:!0,get:function(){return g}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/notistack/notistack.esm.js"),l=n.ir(n("../interface/src/components/MButton.tsx")),o=n.ir(n("../interface/src/components/MForm.tsx")),d=n.ir(n("../interface/src/components/MModal.tsx")),c=n.ir(n("../interface/src/components/MSpan.tsx")),u=n.ir(n("../interface/src/components/MTextField.tsx")),m=n.ir(n("../interface/src/util/request.ts")),f=n("../node_modules/lucide-react/dist/esm/lucide-react.js");let x={currentPassword:"",newPassword:"",repeatPassword:""},p=a.default.create(function(){let e=(0,a.useModal)(),{enqueueSnackbar:t}=(0,i.useSnackbar)(),n=(0,r.useRef)(null);async function p(n,s){return s.setSubmitting(!0),(0,m.default)().put("/users/security/password",{currentPassword:n.currentPassword,newPassword:n.newPassword}).then(()=>t("Successfully updated password.",{variant:"success",disableWindowBlurListener:!0})).then(()=>e.remove()).catch(e=>t(e?.response?.data?.error||"Failed to change password.",{variant:"error",disableWindowBlurListener:!0})).finally(()=>s.setSubmitting(!1))}return(0,s.jsx)(d.default,{open:e.visible,ref:n,className:"sm:max-w-sm",children:(0,s.jsxs)(o.default,{onSubmit:p,initialValues:x,validate:function(e){let t={};return e.currentPassword?(e.newPassword.length<8&&(t.newPassword="New Password must be at least 8 characters long."),0===e.repeatPassword.length&&(t.repeatPassword="You must repeat your password."),e.repeatPassword!==e.newPassword&&(t.repeatPassword="New Passwords must match."),t):(t.currentPassword="Your current password must be provided in order to change your password.",t)},className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(c.default,{weight:"bold",size:"xl",className:"mb-2",children:"Change Your Password"}),(0,s.jsx)(u.default,{autoFocus:!0,autoComplete:"current-password",className:"w-full",label:"Current Password",name:"currentPassword",type:"password",placeholder:"********"}),(0,s.jsx)(u.default,{autoComplete:"new-password",className:"w-full",label:"New Password",name:"newPassword",type:"password",placeholder:"********"}),(0,s.jsx)(u.default,{autoComplete:"new-password",className:"w-full",label:"Repeat Password",name:"repeatPassword",type:"password",placeholder:"********"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.default,{color:"cancel",onClick:e.remove,"data-testid":"close-change-password-modal",children:"Cancel"}),(0,s.jsxs)(l.default,{color:"primary",type:"submit",children:[(0,s.jsx)(f.RectangleEllipsis,{className:"mr-1"}),"Update Password"]})]})]})})});function g(){return a.default.show(p)}},"../interface/src/components/settings/security/EnableTOTPMModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showEnableTOTPModal",{enumerable:!0,get:function(){return j}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/react-qr-code/lib/index.js")),i=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),l=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),o=n("../node_modules/notistack/notistack.esm.js"),d=n("../interface/src/components/InputOTP.tsx"),c=n.ir(n("../interface/src/components/MButton.tsx")),u=n.ir(n("../interface/src/components/MDivider.tsx")),m=n.ir(n("../interface/src/components/MForm.tsx")),f=n.ir(n("../interface/src/components/MModal.tsx")),x=n.ir(n("../interface/src/components/MSpan.tsx")),p=n.ir(n("../interface/src/util/request.ts")),g=n("../node_modules/lucide-react/dist/esm/lucide-react.js");let h={totp:""},b=i.default.create(function(){let e=(0,i.useModal)(),t=(0,r.useRef)(null),{enqueueSnackbar:n}=(0,o.useSnackbar)(),b=(0,l.useQueryClient)(),[j,k]=(0,r.useState)(null);async function y(t,s){return s.setSubmitting(!0),(0,p.default)().post("/users/security/totp/confirm",{totp:t.totp}).then(()=>b.invalidateQueries(["/users/me"])).then(()=>n("Multifactor authentication enabled.",{variant:"success",disableWindowBlurListener:!0})).then(()=>e.remove()).catch(e=>n(e?.response?.data?.error||"Failed to enable TOTP.",{variant:"error",disableWindowBlurListener:!0}))}return(0,r.useEffect)(()=>{null===j&&(0,p.default)().post("/users/security/totp/setup").then(e=>k(e.data)).catch(e=>{console.error("failed to get totp state",e)})},[j,k]),(0,s.jsx)(f.default,{open:e.visible,ref:t,className:"sm:max-w-sm",onClose:()=>k(null),children:(0,s.jsx)(m.default,{onSubmit:y,initialValues:h,className:"h-full flex flex-col gap-2 p-2 justify-between",children:({setFieldValue:t,isSubmitting:n})=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(x.default,{weight:"bold",size:"xl",className:"mb-2",children:"Enable Multifactor Authentication"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,s.jsx)(x.default,{size:"md",children:"Scan the following QR code with your preferred authenticator app"}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"bg-white p-2 max-w-fit rounded-md",children:(0,s.jsx)(a.default,{value:j?.uri||""})})}),(0,s.jsx)(x.default,{size:"md",children:"Or enter the secret manually"}),(0,s.jsx)(x.default,{component:"code",size:"lg",className:"py-2 px-4",children:!!j?.uri&&new URL(j.uri).searchParams.get("secret")}),(0,s.jsx)(u.default,{className:"w-full"}),(0,s.jsx)(x.default,{size:"md",children:"Enter the 6-digit code generated by your app"}),(0,s.jsxs)(d.InputOTP,{name:"totp",maxLength:6,disabled:n,onChange:e=>t("totp",e),children:[(0,s.jsxs)(d.InputOTPGroup,{children:[(0,s.jsx)(d.InputOTPSlot,{index:0}),(0,s.jsx)(d.InputOTPSlot,{index:1}),(0,s.jsx)(d.InputOTPSlot,{index:2})]}),(0,s.jsx)(d.InputOTPSeparator,{}),(0,s.jsxs)(d.InputOTPGroup,{children:[(0,s.jsx)(d.InputOTPSlot,{index:3}),(0,s.jsx)(d.InputOTPSlot,{index:4}),(0,s.jsx)(d.InputOTPSlot,{index:5})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(c.default,{color:"cancel",onClick:e.remove,"data-testid":"close-change-password-modal",children:"Cancel"}),(0,s.jsxs)(c.default,{color:"primary",type:"submit",children:[(0,s.jsx)(g.Shield,{className:"mr-1"}),"Enable TOTP"]})]})]})})})});function j(){return i.default.show(b)}},"../interface/src/components/settings/security/TOTPCard.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/Card.tsx")),a=n("../interface/src/components/MButton.tsx"),i=n.ir(n("../interface/src/components/MSpan.tsx")),l=n("../interface/src/components/settings/security/EnableTOTPMModal.tsx"),o=n("../interface/src/hooks/useAuthentication.ts"),d=n("../node_modules/lucide-react/dist/esm/lucide-react.js");function c(){let{login:e}=(0,o.useAuthentication)();return(0,s.jsxs)(r.default,{className:"md:w-1/3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,s.jsx)(d.Shield,{})}),(0,s.jsx)(a.MBaseButton,{variant:"solid",color:"primary",disabled:!!e.totpEnabledAt,onClick:l.showEnableTOTPModal,children:e.totpEnabledAt?"Already Enabled":"Enable TOTP"})]}),(0,s.jsx)(i.default,{size:"md",weight:"medium",color:"emphasis",children:"Authenticator App (TOTP)"}),(0,s.jsx)(i.default,{component:"p",children:"Get verification codes from an authenticator app such as 1Password or Google Authenticator. It works even if your phone is offline."})]})}},"../interface/src/components/setup/LogoutFooter.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/MLink.tsx")),a=n.ir(n("../interface/src/components/MSpan.tsx"));function i(){return(0,s.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,s.jsx)(a.default,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,s.jsx)(r.default,{to:"/logout",size:"sm",children:"Logout for now"})]})}},"../interface/src/components/setup/PlaidSetup.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-plaid-link/dist/index.umd.js"),i=n("../node_modules/react-router-dom/dist/index.js"),l=n.ir(n("../node_modules/@sentry/react/build/esm/index.js")),o=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),d=n.ir(n("../interface/src/components/MLink.tsx")),c=n.ir(n("../interface/src/components/MLogo.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n.ir(n("../interface/src/components/MSpinner.tsx")),f=n.ir(n("../interface/src/components/setup/LogoutFooter.tsx")),x=n.ir(n("../interface/src/util/request.ts"));function p(e){let[{token:t,loading:n,error:p,exited:g,settingUp:h},b]=(0,r.useState)({error:null,exited:!1,loading:!1,settingUp:!1,token:null}),j=(0,o.useQueryClient)(),k=(0,i.useNavigate)();async function y(e,s){if(b({token:t,loading:n,error:p,exited:g,settingUp:!0}),e>6)return Promise.resolve();(0,x.default)().get(`/plaid/link/setup/wait/${s}`).catch(t=>{if(408===t.response.status)return y(e+1,s);throw t})}async function w(e,n){return(0,x.default)().post("/plaid/link/token/callback",{publicToken:e,institutionId:n.institution.institution_id,institutionName:n.institution.name,accountIds:n.accounts.map(e=>e.id)}).then(async e=>{let t=e.data.linkId;await y(0,t),setTimeout(()=>{j.invalidateQueries(["/links"]),j.invalidateQueries(["/bank_accounts"]),k("/")},8e3)}).catch(e=>{b({token:t,error:e,loading:!1,settingUp:!1})})}let{error:v,open:N}=(0,a.usePlaidLink)({token:t,onSuccess:w,onExit:function(e,s){e?(console.warn("Plaid link exited with error",{"plaid.request_id":s.request_id,"plaid.link_session_id":s.link_session_id,data:e}),l.captureEvent({message:"Plaid link exited with error",level:"error",tags:{"plaid.request_id":s.request_id,"plaid.link_session_id":s.link_session_id},breadcrumbs:[{type:"info",level:"info",message:"Error from Plaid link",data:e}]}),b({token:t,loading:n,exited:g,error:"Plaid link exited with an error."})):b({token:t,loading:n,exited:!0})},onLoad:null,onEvent:null});(0,r.useEffect)(()=>{(0,x.default)().get("/plaid/link/token/new?use_cache=true").then(e=>setTimeout(()=>{b({loading:!1,token:e.data.linkToken,error:null})},1e3)).catch(e=>setTimeout(()=>{let t=e?.response?.data?.error||"Could not connect to Plaid, an unknown error occurred.";b({loading:!1,token:null,error:t})},3e3))},[]),(0,r.useEffect)(()=>{t&&N&&(N(),b({token:t,loading:!0}))},[t,N]),(0,r.useEffect)(()=>{v&&l.captureException(v)},[v]);let S=(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)(u.default,{className:"text-2xl font-medium",children:"Getting Plaid Ready!"}),(0,s.jsx)(u.default,{className:"text-lg",color:"subtle",children:"One moment while we prepare your connection with Plaid."})]});if(h&&(S=(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)(u.default,{className:"text-2xl font-medium",children:"Successfully connected with Plaid!"}),(0,s.jsx)(u.default,{className:"text-lg",color:"subtle",children:"Hold on a moment while we pull the initial data from Plaid into monetr."})]})),n&&(S=(0,s.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,s.jsx)(m.default,{})})),p&&(S=(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)(u.default,{className:"text-2xl font-medium",children:"Something isn't quite right"}),(0,s.jsx)(u.default,{className:"text-lg",color:"subtle",children:"We were not able to get Plaid ready for you at this time, please try again shortly."}),(0,s.jsx)(u.default,{className:"text-lg",color:"subtle",children:"If the problem continues, please contact support@monetr.app"}),(0,s.jsxs)(u.default,{className:"text-md",color:"muted",children:["Error Message: ",p]})]})),g){let t=e.alreadyOnboarded?"/link/create":"/setup";S=(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)(u.default,{size:"2xl",weight:"medium",children:"Something isn't quite right"}),(0,s.jsx)(u.default,{size:"lg",color:"subtle",children:"Plaid exited, did you want to set it up later?"}),(0,s.jsxs)(u.default,{size:"md",color:"subtle",children:["Or ",(0,s.jsx)(d.default,{to:t,children:"go back"})," and pick another option?"]})]})}return(0,s.jsxs)("div",{className:"w-full h-full flex justify-center items-center gap-8 flex-col overflow-hidden text-center p-2",children:[(0,s.jsx)(c.default,{className:"w-24 h-24"}),S,(0,s.jsx)(function(){return e.alreadyOnboarded?null:(0,s.jsx)(f.default,{})},{})]})}},"../interface/src/components/setup/SetupBillingButton.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../node_modules/axios/index.js")),l=n("../node_modules/notistack/notistack.esm.js"),o=n("../interface/src/components/MButton.tsx"),d=n("../interface/src/hooks/useAuthentication.ts");function c(){let{result:{hasSubscription:e}}=(0,d.useAuthenticationSink)(),{enqueueSnackbar:t}=(0,l.useSnackbar)(),[n,c]=(0,r.useState)(!1),u=(0,r.useCallback)(()=>{c(!0),i.default.get("/api/billing/portal").then(e=>window.location.assign(e.data.url)).catch(e=>{c(!1),t(e?.response?.data?.error||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[t]);return e?(0,s.jsxs)(o.MBaseButton,{className:"max-w-xs",color:"secondary",disabled:n,onClick:u,children:[(0,s.jsx)(a.CreditCard,{className:"mr-2"}),"Manage Your Subscription"]}):null}},"../interface/src/components/transactions/SimilarTransactionItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/date-fns/esm/index.js"),a=n.ir(n("../interface/src/components/ArrowLink.tsx")),i=n.ir(n("../interface/src/components/transactions/TransactionMerchantIcon.tsx")),l=n("../interface/src/hooks/transactions.ts"),o=n("../interface/src/hooks/useAuthentication.ts"),d=n.ir(n("../interface/src/util/mergeTailwind.ts"));function c(e){let t=(0,o.useAuthentication)(),{data:n,isLoading:c,isError:u}=(0,l.useTransaction)(e.transactionId);if(c)return(0,s.jsx)("li",{className:"group relative w-full px-1 md:px-2",children:(0,s.jsxs)("div",{className:"group animate-pulse flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,s.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Avatar"}),(0,s.jsxs)("div",{className:"flex min-w-0 grow flex-col overflow-hidden",children:[(0,s.jsx)("div",{className:"w-full rounded-xl h-4 my-1 dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Name"}),(0,s.jsx)("div",{className:"w-1/2 rounded-xl h-3 my-1 dark:bg-dark-monetr-background-subtle opacity-70","aria-label":"Transaction Date"})]})]}),(0,s.jsx)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:(0,s.jsx)("div",{className:"w-1/3 rounded-xl h-4 dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Amount"})})]})});if(u)return null;let m=(0,d.default)({"dark:text-dark-monetr-green":n.getIsAddition(),"dark:text-dark-monetr-red":!n.getIsAddition()},"text-end","font-semibold"),f=`/bank/${n.bankAccountId}/transactions/${n.transactionId}/details`,x=(0,r.isThisYear)(n.date)?(0,r.format)(n.date,"MMMM do"):(0,r.format)(n.date,"MMMM do, yyyy");return(0,s.jsx)("li",{className:"group relative w-full px-1 md:px-2",children:(0,s.jsxs)("div",{className:"group flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,s.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,s.jsx)(i.default,{name:n.getName(),pending:n.isPending}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-col overflow-hidden",children:[(0,s.jsx)("span",{className:"w-full min-w-0 truncate text-base font-semibold dark:text-dark-monetr-content-emphasis",children:n.getName()}),(0,s.jsx)("span",{className:"w-full min-w-0 truncate text-sm font-medium dark:text-dark-monetr-content",children:x})]})]}),(0,s.jsxs)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:[(0,s.jsx)("span",{className:m,children:n.getAmountString(t.account.locale)}),(0,s.jsx)(a.default,{redirect:f})]})]})})}},"../interface/src/components/transactions/SimilarTransactions.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/MSpan.tsx")),a=n.ir(n("../interface/src/components/transactions/SimilarTransactionItem.tsx")),i=n("../interface/src/hooks/transactions.ts");function l(e){let{data:t,isLoading:n,isError:l}=(0,i.useSimilarTransactions)(e.transaction);if(n||l||t?.members?.length===0)return null;let o=t.members.filter(t=>t!==e.transaction.transactionId).slice(0,Math.min(10,t.members.length)-1).map(e=>(0,s.jsx)(a.default,{transactionId:e},e));return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,s.jsx)(r.default,{size:"xl",weight:"semibold",className:"pl-4",children:"Similar Transactions"}),(0,s.jsx)("ul",{className:"w-full flex gap-2 flex-col",children:o})]})}},"../interface/src/components/transactions/TransactionDateItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/date-fns/esm/index.js");function a({date:e}){let t=(0,r.isThisYear)(e)?(0,r.format)(e,"MMMM do"):(0,r.format)(e,"MMMM do, yyyy");return(0,s.jsx)("li",{className:"sticky top-0 z-10 h-10 flex items-center backdrop-blur-sm bg-gradient-to-t from-transparent dark:to-dark-monetr-background via-90% mr-4",children:(0,s.jsx)("span",{className:"dark:text-dark-monetr-content-subtle font-semibold text-base z-10 px-3 md:px-4",children:t})})}},"../interface/src/components/transactions/TransactionItem.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n.ir(n("../interface/src/components/ArrowLink.tsx")),i=n.ir(n("../interface/src/components/MSelectSpendingTransaction.tsx")),l=n.ir(n("../interface/src/components/transactions/TransactionMerchantIcon.tsx")),o=n("../interface/src/hooks/spending.ts"),d=n("../interface/src/hooks/useAuthentication.ts"),c=n.ir(n("../interface/src/util/mergeTailwind.ts"));function u({transaction:e}){let t=(0,d.useAuthentication)(),n=(0,o.useSpendingOld)(e.spendingId),u=(0,r.useNavigate)(),m=`/bank/${e.bankAccountId}/transactions/${e.transactionId}/details`,f=(0,c.default)({"dark:text-dark-monetr-green":e.getIsAddition(),"dark:text-dark-monetr-red":!e.getIsAddition()},"text-end","font-semibold");function x(t){let r=(0,c.default)("overflow-hidden","text-ellipsis","whitespace-nowrap","min-w-0",t.className),a=(0,c.default)({"font-bold":!!e.spendingId,"dark:text-dark-monetr-content-emphasis":!!e.spendingId,"font-medium":!e.spendingId,"dark:text-dark-monetr-content":!e.spendingId},"md:text-base","min-w-0","overflow-hidden","text-ellipsis","text-sm","whitespace-nowrap");return e.getIsAddition()?(0,s.jsx)("span",{className:r,children:(0,s.jsx)("span",{className:"min-w-0 flex-none truncate font-medium dark:text-dark-monetr-content-subtle",children:"Contribution"})}):(0,s.jsxs)("span",{className:r,children:[(0,s.jsx)("span",{className:"min-w-0 flex-none truncate font-medium dark:text-dark-monetr-content",children:"Spent from"}),"\xa0",(0,s.jsx)("span",{className:a,children:n?.name||"Free-To-Use"})]})}return(0,s.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:()=>u(m)}),(0,s.jsxs)("div",{className:"group flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,s.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,s.jsx)(l.default,{name:e.getName(),pending:e.isPending}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-col overflow-hidden",children:[(0,s.jsx)("span",{className:"w-full min-w-0 truncate text-base font-semibold dark:text-dark-monetr-content-emphasis",children:e.getName()}),(0,s.jsx)("span",{className:"hidden w-full min-w-0 truncate text-sm font-medium dark:text-dark-monetr-content md:block",children:e.getMainCategory()}),(0,s.jsx)(x,{className:"flex w-full text-sm md:hidden"})]})]}),!e.getIsAddition()&&(0,s.jsx)(i.default,{transaction:e}),e.getIsAddition()&&(0,s.jsx)(x,{className:"hidden md:flex w-1/2 flex-1 items-center pl-6"}),(0,s.jsxs)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:[(0,s.jsx)("span",{className:f,children:e.getAmountString(t.account.locale)}),(0,s.jsx)(a.default,{redirect:m})]})]})]})}},"../interface/src/components/transactions/TransactionMerchantIcon.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/material/index.js"),a=n.ir(n("../interface/src/components/MerchantIcon.tsx")),i=n.ir(n("../interface/src/hooks/useTheme.ts"));function l(e){let t=(0,i.default)(),{pending:n,...l}=e,o=(0,r.styled)(r.Badge)(()=>({"& .MuiBadge-badge":{backgroundColor:t.tailwind.colors.blue["500"],color:t.tailwind.colors.blue["500"],boxShadow:`0 0 0 2px ${t.tailwind.colors["dark-monetr"].background.DEFAULT}`,"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple-pending-txn 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple-pending-txn":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}));return n?(0,s.jsx)(o,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,s.jsx)(a.default,{...l})}):(0,s.jsx)(a.default,{...l})}},"../interface/src/loading.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/MLogo.tsx")),a=n.ir(n("../interface/src/components/MSpan.tsx"));function i(){return(0,s.jsxs)("div",{className:"w-full h-full items-center justify-center flex flex-col gap-8",children:[(0,s.jsx)(r.default,{className:"w-24 h-24"}),(0,s.jsxs)("div",{className:"blobs flex items-center justify-center",children:[(0,s.jsx)("div",{className:"dot blob dark:bg-dark-monetr-brand"}),(0,s.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"}),(0,s.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"}),(0,s.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"})]}),(0,s.jsx)(a.default,{className:"text-3xl",children:"Loading..."}),(0,s.jsx)("svg",{className:"hidden",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:(0,s.jsx)("defs",{children:(0,s.jsxs)("filter",{id:"magic",children:[(0,s.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),(0,s.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),(0,s.jsx)("feBlend",{in:"SourceGraphic",in2:"goo"})]})})})]})}n("../interface/src/loading.css")},"../interface/src/modals/NewExpenseModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showNewExpenseModal",{enumerable:!0,get:function(){return v}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/MAmountField.tsx")),d=n.ir(n("../interface/src/components/MButton.tsx")),c=n.ir(n("../interface/src/components/MDatePicker.tsx")),u=n.ir(n("../interface/src/components/MForm.tsx")),m=n.ir(n("../interface/src/components/MModal.tsx")),f=n.ir(n("../interface/src/components/MSelectFrequency.tsx")),x=n.ir(n("../interface/src/components/MSelectFunding.tsx")),p=n.ir(n("../interface/src/components/MSpan.tsx")),g=n.ir(n("../interface/src/components/MTextField.tsx")),h=n("../interface/src/hooks/bankAccounts.ts"),b=n("../interface/src/hooks/spending.ts"),j=n.ir(n("../interface/src/models/Spending.ts")),k=n("../interface/src/util/amounts.ts");let y={name:"",amount:0,nextOccurrence:(0,i.startOfTomorrow)(),ruleset:"",fundingScheduleId:""},w=a.default.create(function(){let e=(0,a.useModal)(),{enqueueSnackbar:t}=(0,l.useSnackbar)(),n=(0,h.useSelectedBankAccountId)(),w=(0,b.useCreateSpending)(),v=(0,r.useRef)(null);async function N(s,r){let a=new j.default({bankAccountId:n,name:s.name.trim(),nextRecurrence:(0,i.startOfDay)(new Date(s.nextOccurrence)),spendingType:j.SpendingType.Expense,fundingScheduleId:s.fundingScheduleId,targetAmount:(0,k.friendlyToAmount)(s.amount),ruleset:s.ruleset});return r.setSubmitting(!0),w(a).then(t=>e.resolve(t)).then(()=>e.remove()).catch(e=>void t(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>r.setSubmitting(!1))}return(0,s.jsx)(m.default,{open:e.visible,ref:v,className:"sm:max-w-xl",children:(0,s.jsxs)(u.default,{onSubmit:N,initialValues:y,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-expense-modal",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(p.default,{className:"font-bold text-xl mb-2",children:"Create A New Expense"}),(0,s.jsx)(g.default,{id:"expense-name-search",name:"name",label:"What are you budgeting for?",required:!0,autoComplete:"off",placeholder:"Amazon, Netflix..."}),(0,s.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,s.jsx)(o.default,{name:"amount",label:"How much do you need?",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,s.jsx)(c.default,{className:"w-full md:w-1/2",label:"When do you need it next?",min:(0,i.startOfTomorrow)(),name:"nextOccurrence",required:!0})]}),(0,s.jsx)(x.default,{menuPortalTarget:document.body,label:"When do you want to fund the expense?",required:!0,name:"fundingScheduleId"}),(0,s.jsx)(f.default,{dateFrom:"nextOccurrence",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How frequently do you need this expense?",placeholder:"Select a spending frequency...",required:!0,name:"ruleset"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.default,{color:"cancel",onClick:e.remove,"data-testid":"close-new-expense-modal",children:"Cancel"}),(0,s.jsx)(d.default,{color:"primary",type:"submit",children:"Create"})]})]})})});function v(){return a.default.show(w)}},"../interface/src/modals/NewFundingModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showNewFundingModal",{enumerable:!0,get:function(){return k}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/MButton.tsx")),d=n.ir(n("../interface/src/components/MDatePicker.tsx")),c=n.ir(n("../interface/src/components/MForm.tsx")),u=n.ir(n("../interface/src/components/MModal.tsx")),m=n.ir(n("../interface/src/components/MSelectFrequency.tsx")),f=n.ir(n("../interface/src/components/MSpan.tsx")),x=n.ir(n("../interface/src/components/MTextField.tsx")),p=n("../interface/src/hooks/bankAccounts.ts"),g=n("../interface/src/hooks/fundingSchedules.ts"),h=n.ir(n("../interface/src/models/FundingSchedule.ts"));let b={name:"",nextOccurrence:(0,i.startOfTomorrow)(),ruleset:"",excludeWeekends:!1,estimatedDeposit:void 0},j=a.default.create(function(){let e=(0,a.useModal)(),t=(0,r.useRef)(null),{enqueueSnackbar:n}=(0,l.useSnackbar)(),j=(0,p.useSelectedBankAccountId)(),k=(0,g.useCreateFundingSchedule)();async function y(t,s){s.setSubmitting(!0);let r=new h.default({bankAccountId:j,name:t.name,nextRecurrence:(0,i.startOfDay)(new Date(t.nextOccurrence)),ruleset:t.ruleset,estimatedDeposit:null,excludeWeekends:!1});return k(r).then(t=>e.resolve(t)).then(()=>e.remove()).catch(e=>void n(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>s.setSubmitting(!1))}return(0,s.jsx)(u.default,{open:e.visible,ref:t,className:"md:max-w-sm",children:(0,s.jsxs)(c.default,{initialValues:b,onSubmit:y,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-funding-modal",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(f.default,{className:"font-bold text-xl mb-2",children:"Create A New Funding Schedule"}),(0,s.jsx)(x.default,{id:"funding-name-search",name:"name",label:"What do you want to call your funding schedule?",required:!0,autoComplete:"off",placeholder:"Example: Payday..."}),(0,s.jsx)(d.default,{name:"nextOccurrence",label:"When do you get paid next?",required:!0,min:(0,i.startOfTomorrow)()}),(0,s.jsx)(m.default,{dateFrom:"nextOccurrence",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How often do you get paid?",placeholder:"Select a funding frequency...",required:!0,name:"ruleset"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(o.default,{color:"cancel",onClick:e.remove,"data-testid":"close-new-funding-modal",children:"Cancel"}),(0,s.jsx)(o.default,{color:"primary",type:"submit",children:"Create"})]})]})})});function k(){return a.default.show(j)}},"../interface/src/modals/NewGoalModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showNewGoalModal",{enumerable:!0,get:function(){return w}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/MAmountField.tsx")),d=n.ir(n("../interface/src/components/MButton.tsx")),c=n.ir(n("../interface/src/components/MDatePicker.tsx")),u=n.ir(n("../interface/src/components/MForm.tsx")),m=n.ir(n("../interface/src/components/MModal.tsx")),f=n.ir(n("../interface/src/components/MSelectFunding.tsx")),x=n.ir(n("../interface/src/components/MSpan.tsx")),p=n.ir(n("../interface/src/components/MTextField.tsx")),g=n("../interface/src/hooks/bankAccounts.ts"),h=n("../interface/src/hooks/spending.ts"),b=n.ir(n("../interface/src/models/Spending.ts")),j=n("../interface/src/util/amounts.ts");let k={name:"",amount:0,nextOccurrence:(0,i.startOfTomorrow)(),fundingScheduleId:0},y=a.default.create(function(){let e=(0,a.useModal)(),{enqueueSnackbar:t}=(0,l.useSnackbar)(),n=(0,g.useSelectedBankAccountId)(),y=(0,h.useCreateSpending)(),w=(0,r.useRef)(null);async function v(s,r){let a=new b.default({bankAccountId:n,name:s.name.trim(),nextRecurrence:(0,i.startOfDay)(new Date(s.nextOccurrence)),spendingType:b.SpendingType.Goal,fundingScheduleId:s.fundingScheduleId,targetAmount:(0,j.friendlyToAmount)(s.amount),ruleset:null});return r.setSubmitting(!0),y(a).then(t=>e.resolve(t)).then(()=>e.remove()).catch(e=>void t(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>r.setSubmitting(!1))}return(0,s.jsx)(m.default,{open:e.visible,ref:w,className:"sm:max-w-xl",children:(0,s.jsxs)(u.default,{onSubmit:v,initialValues:k,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-goal-modal",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(x.default,{className:"font-bold text-xl mb-2",children:"Create A New Goal"}),(0,s.jsx)(p.default,{id:"goal-name-search",name:"name",label:"What are you budgeting for?",required:!0,autoComplete:"off",placeholder:"Vacation, Furniture, Car..."}),(0,s.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,s.jsx)(o.default,{name:"amount",label:"How much do you need?",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,s.jsx)(c.default,{className:"w-full md:w-1/2",label:"How soon will you need it?",min:(0,i.startOfTomorrow)(),name:"nextOccurrence",required:!0})]}),(0,s.jsx)(f.default,{menuPortalTarget:document.body,label:"When do you want to fund the goal?",required:!0,name:"fundingScheduleId"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.default,{color:"cancel",onClick:e.remove,"data-testid":"close-new-goal-modal",children:"Cancel"}),(0,s.jsx)(d.default,{color:"primary",type:"submit",children:"Create"})]})]})})});function w(){return a.default.show(y)}},"../interface/src/modals/RemoveLinkModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showRemoveLinkModal",{enumerable:!0,get:function(){return x}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),l=n("../node_modules/@mui/icons-material/esm/index.js"),o=n("../node_modules/notistack/notistack.esm.js"),d=n("../interface/src/components/MButton.tsx"),c=n.ir(n("../interface/src/components/MModal.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n("../interface/src/hooks/links.ts");let f=i.default.create(function(e){let t=(0,i.useModal)(),n=(0,r.useRef)(null),{enqueueSnackbar:f}=(0,o.useSnackbar)(),[x,p]=(0,r.useState)(!1),g=(0,m.useRemoveLink)(),h=(0,a.useNavigate)();async function b(){return p(!0),g(e.link.linkId).then(()=>{h("/"),t.remove()}).catch(t=>{p(!1),f(t?.response?.data?.error||`Failed to remove ${e.link.getName()}`,{variant:"error",disableWindowBlurListener:!0})})}return(0,s.jsx)(c.default,{open:t.visible,ref:n,className:"py-4 md:max-w-md",children:(0,s.jsxs)("div",{className:"h-full flex flex-col gap-4 p-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)(u.default,{weight:"bold",size:"xl",className:"mb-2",children:[(0,s.jsx)(l.DeleteOutlined,{}),"Remove ",e.link.getName(),"?"]}),(0,s.jsxs)(u.default,{size:"lg",weight:"medium",children:["Are you sure you want to remove your ",e.link.getName()," data?"]}),(0,s.jsx)(u.default,{size:"lg",children:"All expenses, goals and transactions related to this will be deleted. This cannot be undone."})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(d.MBaseButton,{disabled:x,color:"secondary",onClick:t.remove,children:"Cancel"}),(0,s.jsx)(d.MBaseButton,{disabled:x,color:"cancel",type:"submit",onClick:b,children:"Remove"})]})]})})});function x(e){return i.default.show(f,e)}},"../interface/src/modals/TransferModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showTransferModal",{enumerable:!0,get:function(){return j}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n("../node_modules/formik/dist/formik.esm.js"),o=n("../node_modules/notistack/notistack.esm.js"),d=n.ir(n("../interface/src/components/MAmountField.tsx")),c=n.ir(n("../interface/src/components/MButton.tsx")),u=n.ir(n("../interface/src/components/MForm.tsx")),m=n.ir(n("../interface/src/components/MModal.tsx")),f=n.ir(n("../interface/src/components/MSelectSpending.tsx")),x=n.ir(n("../interface/src/components/MSpan.tsx")),p=n("../interface/src/hooks/balances.ts"),g=n("../interface/src/hooks/spending.ts"),h=n("../interface/src/util/amounts.ts");let b=a.default.create(function(e){let t=(0,a.useModal)(),n=(0,r.useRef)(null),i=(0,g.useTransfer)(),{enqueueSnackbar:l}=(0,o.useSnackbar)(),b=(0,p.useCurrentBalance)(),{result:j}=(0,g.useSpendingSink)(),w={fromSpendingId:e.initialFromSpendingId,toSpendingId:e.initialToSpendingId,amount:0};function v(e){let t={},n=(0,h.friendlyToAmount)(e.amount);if(n<=0&&(t.amount="Amount must be greater than zero"),null===e.fromSpendingId)n>b?.free&&(t.amount="Cannot move more than is available from Free-To-Use");else{let s=j?.find(t=>t.spendingId===e.fromSpendingId);n>s?.currentAmount&&(t.amount=`Cannot move more than is available from ${s?.name}`)}return t}async function N(e,n){if(null===e.toSpendingId&&null===e.fromSpendingId)return n.setFieldError("toSpendingId","Must select a destination and a source"),Promise.resolve();let s=v(e);return Object.keys(s).length>0?(n.setErrors(s),Promise.resolve()):(n.setSubmitting(!0),i({fromSpendingId:e.fromSpendingId,toSpendingId:e.toSpendingId,amount:(0,h.friendlyToAmount)(e.amount)}).then(()=>t.remove()).catch(e=>void l(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>n.setSubmitting(!1)))}return(0,s.jsx)(m.default,{open:t.visible,ref:n,className:"md:max-w-sm",children:(0,s.jsxs)(u.default,{onSubmit:N,initialValues:w,validate:v,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"transfer-modal",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(x.default,{size:"2xl",weight:"semibold",children:"Transfer"}),(0,s.jsx)(x.default,{size:"lg",weight:"medium",color:"subtle",children:"Move funds between your budgets"})]}),(0,s.jsx)(f.default,{excludeFrom:"toSpendingId",label:"From",labelDecorator:y,menuPortalTarget:document.body,name:"fromSpendingId"}),(0,s.jsx)(k,{}),(0,s.jsx)(f.default,{excludeFrom:"fromSpendingId",label:"To",labelDecorator:y,menuPortalTarget:document.body,name:"toSpendingId"}),(0,s.jsx)(d.default,{name:"amount",label:"Amount",placeholder:"Amount to move...",step:"0.01",allowNegative:!1})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(c.default,{color:"secondary",onClick:t.remove,"data-testid":"close-new-expense-modal",children:"Cancel"}),(0,s.jsx)(c.default,{color:"primary",type:"submit",children:"Transfer"})]})]})})});function j(e){return a.default.show(b,e)}function k(){let e=(0,l.useFormikContext)();return(0,s.jsx)("a",{className:"w-full flex justify-center mb-1",children:(0,s.jsx)(i.SwapVertOutlined,{onClick:function(){if(e.isSubmitting)return;let{fromSpendingId:t,toSpendingId:n,amount:s}=e.values;e.setValues({fromSpendingId:n,toSpendingId:t,amount:s})},className:"cursor-pointer text-4xl dark:text-dark-monetr-content-subtle hover:dark:text-dark-monetr-content"})})}function y(e){let t=(0,l.useFormikContext)(),n=t.values[e.name],{result:r}=(0,g.useSpendingSink)(),a=(0,p.useCurrentBalance)();if(!n||-1===n){let e=a?.free;return(0,s.jsx)(w,{amount:e})}let i=r?.find(e=>e.spendingId===n);if(!i)return null;let o=i.currentAmount,d=i.targetAmount,c=Math.max(i.targetAmount-i.currentAmount,0);return c>0&&c!=d?(0,s.jsxs)(x.default,{className:"gap-1",children:[(0,s.jsx)(w,{amount:o}),"of",(0,s.jsx)(w,{amount:d}),"\xa0 (",(0,s.jsx)(w,{amount:c}),")"]}):(0,s.jsxs)(x.default,{className:"gap-1",color:"subtle",children:[(0,s.jsx)(w,{amount:o}),"of",(0,s.jsx)(w,{amount:d})]})}function w({amount:e}){let t=(0,l.useFormikContext)(),n=(0,r.useCallback)(()=>{"number"==typeof e&&t?.setFieldValue("amount",(0,h.amountToFriendly)(e))},[t,e]);return(0,s.jsx)(x.default,{size:"sm",weight:"medium",className:"cursor-pointer hover:dark:text-dark-monetr-content-emphasis",onClick:n,children:"number"==typeof e&&(0,h.formatAmount)(e)})}},"../interface/src/modals/UpdatePlaidAccountOverlay.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showUpdatePlaidAccountOverlay",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-plaid-link/dist/index.umd.js"),i=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),l=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),o=n.ir(n("../interface/src/components/MModal.tsx")),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n.ir(n("../interface/src/util/request.ts"));let u=i.default.create(function({link:e,updateAccountSelection:t}){let n,u;let m=(0,i.useModal)(),f=(0,l.useQueryClient)(),[x,p]=(0,r.useState)({loading:!0,linkToken:null,error:null});(0,r.useEffect)(()=>{(0,c.default)().put(`/plaid/link/update/${e.linkId}?update_account_selection=${!!t}`).then(e=>p({loading:!1,linkToken:e.data.linkToken})).catch(e=>{throw p({loading:!1,error:e}),e})},[e,t]);let g=(0,r.useCallback)(async(t,n)=>(console.log("plaidOnSuccess",{token:t,metadata:n}),p({loading:!0}),(0,c.default)().post("/plaid/link/update/callback",{linkId:e.linkId,publicToken:t,accountIds:n.accounts.map(e=>e.id)}).then(()=>Promise.all([f.invalidateQueries(["/bank_accounts"]),f.invalidateQueries(["/links"]),f.invalidateQueries([`/links/${e.linkId}`])])).then(()=>m.remove())),[e,m,f]),h=(0,r.useCallback)((e,t)=>{console.log("plaidOnExit",{error:e,metadata:t}),m.remove()},[m]),b=(0,r.useCallback)((e,t)=>{console.log("plaidOnEvent",{eventName:e,metadata:t})},[]),{error:j,open:k}=(0,a.usePlaidLink)({token:x.linkToken,onSuccess:g,onExit:h,onEvent:b});return(0,r.useEffect)(()=>{if(j){console.error("PLAID LINK ERROR",j);return}k&&x.linkToken&&k()},[j,k,x.linkToken]),t?(n="Updating Account Selection",u=`One moment while we prepare Plaid to update your account selection for ${e.getName()}.`):(n="Reauthenticating",u=`One moment while we prepare Plaid to reauthenticate your connection to ${e.getName()}.`),(0,s.jsx)(o.default,{open:m.visible,className:"py-4 md:max-w-md",children:(0,s.jsx)("div",{className:"h-full flex flex-col gap-4 p-2 justify-between",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(d.default,{weight:"bold",size:"xl",className:"mb-2",children:n}),(0,s.jsx)(d.default,{size:"lg",weight:"medium",children:u})]})})})});function m(e){return i.default.show(u,e)}},"../interface/src/modals/UploadTransactions/ErrorFileStage.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n("../interface/src/components/MButton.tsx"),i=n.ir(n("../interface/src/components/MSpan.tsx"));function l(e){return(0,s.jsxs)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(i.default,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,s.jsx)(r.FilePresentOutlined,{className:"text-6xl text-dark-monetr-content"}),(0,s.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,s.jsx)(i.default,{size:"lg",children:e.error.filename}),(0,s.jsxs)(i.default,{children:["Failed to import data: ",e.error.message]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end gap-2 mt-2",children:(0,s.jsx)(a.MBaseButton,{color:"secondary",onClick:e.close,children:"Close"})})]})}},"../interface/src/modals/UploadTransactions/ProcessingFileStage.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),l=n("../interface/src/components/MButton.tsx"),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n.ir(n("../interface/src/models/TransactionUpload.ts"));function c(e){let{data:t}=function(e,t){let n=(0,i.useQueryClient)();return(0,r.useEffect)(()=>{let s="https:"===location.protocol?"wss":"ws",r=new WebSocket(`${s}://${location.host}/api/bank_accounts/${e}/transactions/upload/${t}/progress`);return r.onopen=()=>{console.log("Listening for transaction upload progress messages for",{bankAccountId:e,transactionUploadId:t})},r.onmessage=s=>{if(!s.data)return;let r=JSON.parse(s.data),a=[`/bank_accounts/${e}/transactions/upload/${t}`];n.setQueryData(a,e=>({...e??{},...r}))},()=>r.close()},[e,n,t]),(0,i.useQuery)([`/bank_accounts/${e}/transactions/upload/${t}`],{initialData:()=>null,select:e=>new d.default(e)})}(e.upload.bankAccountId,e.upload.transactionUploadId);return(0,s.jsxs)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(o.default,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,s.jsx)("div",{})]}),(0,s.jsx)(o.default,{children:"Your upload is currently pending or processing, keep this window open to see its status. You can also safely close this window. Your upload will not be interuptted."}),(0,s.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,s.jsx)(a.FilePresentOutlined,{className:"text-6xl text-dark-monetr-content"}),(0,s.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,s.jsx)(o.default,{size:"lg",children:e.upload.file.name}),(0,s.jsxs)(o.default,{children:["Import ",t?.status||"processing","!"]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end gap-2 mt-2",children:(0,s.jsx)(l.MBaseButton,{color:"secondary",onClick:e.close,children:"Done"})})]})}},"../interface/src/modals/UploadTransactions/UploadTransactionsModal.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"showUploadTransactionsModal",{enumerable:!0,get:function(){return v}});var s,r,a=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/react/index.js"),l=n("../node_modules/react-dropzone/dist/es/index.js"),o=n.ir(n("../node_modules/@ebay/nice-modal-react/lib/esm/index.js")),d=n("../node_modules/@mui/icons-material/esm/index.js"),c=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),u=n.ir(n("../node_modules/axios/index.js")),m=n("../interface/src/components/MButton.tsx"),f=n.ir(n("../interface/src/components/MModal.tsx")),x=n.ir(n("../interface/src/components/MSpan.tsx")),p=n("../interface/src/hooks/bankAccounts.ts"),g=n.ir(n("../interface/src/modals/UploadTransactions/ErrorFileStage.tsx")),h=n.ir(n("../interface/src/modals/UploadTransactions/ProcessingFileStage.tsx")),b=n.ir(n("../interface/src/models/TransactionUpload.ts")),j=n.ir(n("../interface/src/util/fileSize.ts")),k=n.ir(n("../interface/src/util/mergeTailwind.ts"));(s=r||(r={}))[s.FileUpload=1]="FileUpload",s[s.FieldMapping=2]="FieldMapping",s[s.Preparing=3]="Preparing",s[s.Processing=4]="Processing",s[s.Completed=5]="Completed",s[s.Error=6]="Error";function y(e){let t=(0,p.useSelectedBankAccountId)(),[n,s]=(0,i.useState)(null),[o,c]=(0,i.useState)(-1),f=(0,i.useCallback)(e=>{let t=e[0];s(t)},[]),{getRootProps:g,getInputProps:h,isDragActive:y}=(0,l.useDropzone)({onDrop:f});async function w(s){s.preventDefault();let a=new FormData;return a.append("data",n,n.name),c(0),u.default.post(`/api/bank_accounts/${t}/transactions/upload`,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){let t=Math.round(100*e.loaded/e.total);c(t)}}).then(t=>{e.setResult(new b.default(t.data)),e.setStage(r.Processing)}).catch(t=>{console.error("file upload failed",t);let s=t.response.data.error||"Unkown error";e.setError({message:s,filename:n.name}),e.setStage(r.Error)})}let v=(0,k.default)("border-dashed rounded-md w-full border p-8 flex justify-center flex-col items-center cursor-pointer",{"border-dark-monetr-border hover:border-dark-monetr-border-string":!y},{"border-dark-monetr-brand-subtle":y});return o>=0?(0,a.jsx)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(x.default,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,a.jsx)("div",{})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,a.jsx)(d.FilePresentOutlined,{className:"text-6xl text-dark-monetr-content"}),(0,a.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,a.jsx)(x.default,{size:"lg",children:n.name}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:(0,a.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${o}%`}})})]})]})]})}):n?(0,a.jsxs)("form",{onSubmit:w,className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(x.default,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,a.jsx)("div",{})]}),(0,a.jsx)(x.default,{children:"Upload a QFX or OFX file to import transaction data manually into your account. Maximum of 5MB."}),(0,a.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,a.jsx)(d.FilePresentOutlined,{className:"text-6xl text-dark-monetr-content"}),(0,a.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,a.jsx)(x.default,{size:"lg",children:n.name}),(0,a.jsx)(x.default,{children:(0,j.default)(n.size)})]}),(0,a.jsx)(d.Close,{className:"mr-2 text-dark-monetr-content-subtle hover:text-dark-monetr-content cursor-pointer"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,a.jsx)(m.MBaseButton,{color:"secondary",onClick:e.close,children:"Cancel"}),(0,a.jsx)(m.MBaseButton,{color:"primary",type:"submit",children:"Upload"})]})]}):(0,a.jsxs)("form",{onSubmit:w,className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(x.default,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,a.jsx)("div",{})]}),(0,a.jsx)(x.default,{children:"Upload a QFX or OFX file to import transaction data manually into your account. Maximum of 5MB."}),(0,a.jsxs)("div",{...g(),className:v,children:[(0,a.jsx)("input",{...h()}),(0,a.jsx)(d.UploadFileOutlined,{className:"text-6xl text-dark-monetr-content"}),(0,a.jsx)(x.default,{size:"lg",weight:"semibold",children:"Drag QFX file here"}),(0,a.jsx)(x.default,{children:"Or click to browse"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,a.jsx)(m.MBaseButton,{color:"secondary",onClick:e.close,children:"Cancel"}),(0,a.jsx)(m.MBaseButton,{color:"primary",type:"submit",children:"Upload"})]})]})}let w=o.default.create(function(){let e=(0,o.useModal)(),t=(0,i.useRef)(null),n=(0,c.useQueryClient)(),s=(0,p.useSelectedBankAccountId)(),[l,d]=(0,i.useState)(r.FileUpload),[u,m]=(0,i.useState)(null),[x,b]=(0,i.useState)(null),j=(0,i.useCallback)(()=>(l===r.Processing&&(n.invalidateQueries([`/bank_accounts/${s}/transactions`]),n.invalidateQueries([`/bank_accounts/${s}/balances`])),e.remove()),[l,e,n,s]);return(0,a.jsx)(f.default,{open:e.visible,ref:t,className:"sm:max-w-xl",children:(0,a.jsx)(function(){switch(l){case r.FileUpload:return(0,a.jsx)(y,{setResult:b,setStage:d,setError:m,close:e.remove});case r.Processing:return(0,a.jsx)(h.default,{upload:x,setStage:d,close:j});case r.Completed:return null;case r.Error:return(0,a.jsx)(g.default,{error:u,close:j});default:return null}},{})})});function v(){return o.default.show(w)}},"../interface/src/monetr.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return G}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n.ir(n("../interface/src/components/Layout/BankSidebar.tsx")),l=n.ir(n("../interface/src/components/Layout/BudgetingSidebar.tsx")),o=n.ir(n("../interface/src/components/Layout/MobileSidebar.tsx")),d=n.ir(n("../interface/src/components/Layout/SettingsLayout.tsx")),c=n.ir(n("../interface/src/components/setup/PlaidSetup.tsx")),u=n("../interface/src/hooks/bankAccounts.ts"),m=n("../interface/src/hooks/links.ts"),f=n("../interface/src/hooks/useAppConfiguration.ts"),x=n("../interface/src/hooks/useAuthentication.ts"),p=n.ir(n("../interface/src/loading.tsx")),g=n.ir(n("../interface/src/pages/account/subscribe/index.tsx")),h=n.ir(n("../interface/src/pages/account/subscribe/after.tsx")),b=n.ir(n("../interface/src/pages/error/config.tsx")),j=n.ir(n("../interface/src/pages/expense/details.tsx")),k=n.ir(n("../interface/src/pages/expenses.tsx")),y=n.ir(n("../interface/src/pages/funding.tsx")),w=n.ir(n("../interface/src/pages/funding/details.tsx")),v=n.ir(n("../interface/src/pages/goals.tsx")),N=n.ir(n("../interface/src/pages/goals/details.tsx")),S=n.ir(n("../interface/src/pages/link/create.tsx")),A=n.ir(n("../interface/src/pages/login.tsx")),_=n.ir(n("../interface/src/pages/login/multifactor.tsx")),M=n.ir(n("../interface/src/pages/logout.tsx")),I=n.ir(n("../interface/src/pages/password/forgot.tsx")),T=n.ir(n("../interface/src/pages/password/reset.tsx")),C=n.ir(n("../interface/src/pages/plaid/oauth-return.tsx")),P=n.ir(n("../interface/src/pages/register.tsx")),O=n.ir(n("../interface/src/pages/settings/about.tsx")),L=n.ir(n("../interface/src/pages/settings/billing.tsx")),R=n.ir(n("../interface/src/pages/settings/overview.tsx")),E=n.ir(n("../interface/src/pages/settings/security.tsx")),D=n.ir(n("../interface/src/pages/setup.tsx")),z=n.ir(n("../interface/src/pages/setup/manual.tsx")),B=n.ir(n("../interface/src/pages/subscription.tsx")),F=n.ir(n("../interface/src/pages/transaction/details.tsx")),q=n.ir(n("../interface/src/pages/transactions.tsx")),U=n.ir(n("../interface/src/pages/verify/email.tsx")),Y=n.ir(n("../interface/src/pages/verify/email/resend.tsx")),Q=n.ir(n("../interface/src/util/sortAccounts.ts"));function G(){let{result:e,isLoading:t,isError:n}=(0,f.useAppConfigurationSink)(),{isLoading:r,result:{user:l,isActive:u,mfaPending:Q}}=(0,x.useAuthenticationSink)(),{isLoading:G,data:H}=(0,m.useLinks)();if(t||r||G&&u&&!Q)return(0,s.jsx)(p.default,{});if(n)return(0,s.jsx)(b.default,{});if(!l)return(0,s.jsxs)(a.Routes,{children:[(0,s.jsx)(a.Route,{path:"/login",element:(0,s.jsx)(A.default,{})}),(0,s.jsx)(a.Route,{path:"/logout",element:(0,s.jsx)(M.default,{})}),e?.allowSignUp&&(0,s.jsx)(a.Route,{path:"/register",element:(0,s.jsx)(P.default,{})}),e?.allowForgotPassword&&(0,s.jsx)(a.Route,{path:"/password/forgot",element:(0,s.jsx)(I.default,{})}),(0,s.jsx)(a.Route,{path:"/password/reset",element:(0,s.jsx)(T.default,{})}),(0,s.jsx)(a.Route,{path:"/verify/email",element:(0,s.jsx)(U.default,{})}),(0,s.jsx)(a.Route,{path:"/verify/email/resend",element:(0,s.jsx)(Y.default,{})}),(0,s.jsx)(a.Route,{path:"/",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/login"})}),(0,s.jsx)(a.Route,{path:"*",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/login"})})]});if(Q)return(0,s.jsxs)(a.Routes,{children:[(0,s.jsx)(a.Route,{path:"/login/multifactor",element:(0,s.jsx)(_.default,{})}),(0,s.jsx)(a.Route,{path:"/logout",element:(0,s.jsx)(M.default,{})}),(0,s.jsx)(a.Route,{path:"*",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/login/multifactor"})})]});if(!u)return(0,s.jsxs)(a.Routes,{children:[(0,s.jsx)(a.Route,{path:"/logout",element:(0,s.jsx)(M.default,{})}),(0,s.jsx)(a.Route,{path:"/account/subscribe",element:(0,s.jsx)(g.default,{})}),(0,s.jsx)(a.Route,{path:"/account/subscribe/after",element:(0,s.jsx)(h.default,{})}),(0,s.jsx)(a.Route,{path:"*",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/account/subscribe"})})]});let W=H?.length>0;return W?(0,s.jsxs)("div",{className:"max-w-screen max-h-screen h-full w-full bg-background flex",children:[(0,s.jsx)(i.default,{className:"hidden lg:flex"}),(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"w-full h-full flex min-w-0 overflow-y-auto",children:(0,s.jsxs)(a.Routes,{children:[(0,s.jsxs)(a.Route,{path:"/bank/:bankAccountId",element:(0,s.jsx)(Z,{}),children:[(0,s.jsx)(a.Route,{path:"transactions",element:(0,s.jsx)(q.default,{})}),(0,s.jsx)(a.Route,{path:"transactions/:transactionId/details",element:(0,s.jsx)(F.default,{})}),(0,s.jsx)(a.Route,{path:"expenses",element:(0,s.jsx)(k.default,{})}),(0,s.jsx)(a.Route,{path:"expenses/:spendingId/details",element:(0,s.jsx)(j.default,{})}),(0,s.jsx)(a.Route,{path:"goals",element:(0,s.jsx)(v.default,{})}),(0,s.jsx)(a.Route,{path:"goals/:spendingId/details",element:(0,s.jsx)(N.default,{})}),(0,s.jsx)(a.Route,{path:"funding",element:(0,s.jsx)(y.default,{})}),(0,s.jsx)(a.Route,{path:"funding/:fundingId/details",element:(0,s.jsx)(w.default,{})})]}),(0,s.jsxs)(a.Route,{path:"/settings",element:(0,s.jsx)(d.default,{}),children:[(0,s.jsx)(a.Route,{path:"",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/settings/overview"})}),(0,s.jsx)(a.Route,{path:"overview",element:(0,s.jsx)(R.default,{})}),(0,s.jsx)(a.Route,{path:"security",element:(0,s.jsx)(E.default,{})}),e?.billingEnabled&&(0,s.jsx)(a.Route,{path:"billing",element:(0,s.jsx)(L.default,{})}),(0,s.jsx)(a.Route,{path:"about",element:(0,s.jsx)(O.default,{})})]}),(0,s.jsx)(a.Route,{path:"/link/create",element:(0,s.jsx)(S.default,{})}),(0,s.jsx)(a.Route,{path:"/link/create/plaid",element:(0,s.jsx)(c.default,{alreadyOnboarded:!0})}),(0,s.jsx)(a.Route,{path:"/link/create/manual",element:(0,s.jsx)(z.default,{alreadyOnboarded:!0})}),(0,s.jsx)(a.Route,{path:"/logout",element:(0,s.jsx)(M.default,{})}),(0,s.jsx)(a.Route,{path:"/plaid/oauth-return",element:(0,s.jsx)(C.default,{})}),(0,s.jsx)(a.Route,{path:"/subscription",element:(0,s.jsx)(B.default,{})}),(0,s.jsx)(a.Route,{path:"/account/subscribe",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{path:"/account/subscribe/after",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{path:"/setup",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{path:"/password/reset",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{path:"/login",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{path:"/login/multifactor",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/"})}),(0,s.jsx)(a.Route,{index:!0,path:"/",element:(0,s.jsx)($,{})})]})})]}):(0,s.jsxs)(a.Routes,{children:[(0,s.jsx)(a.Route,{path:"/logout",element:(0,s.jsx)(M.default,{})}),(0,s.jsx)(a.Route,{path:"/setup",element:(0,s.jsx)(D.default,{manualEnabled:e?.manualEnabled})}),(0,s.jsx)(a.Route,{path:"/setup/plaid",element:(0,s.jsx)(c.default,{alreadyOnboarded:!0})}),(0,s.jsx)(a.Route,{path:"/setup/manual",element:(0,s.jsx)(z.default,{})}),(0,s.jsx)(a.Route,{path:"/plaid/oauth-return",element:(0,s.jsx)(C.default,{})}),(0,s.jsx)(a.Route,{path:"/account/subscribe/after",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/setup"})}),(0,s.jsx)(a.Route,{index:!0,path:"*",element:(0,s.jsx)(a.Navigate,{replace:!0,to:"/setup"})})]})}function Z(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l.default,{className:"hidden lg:flex"}),(0,s.jsx)("div",{className:"w-full h-full min-w-0 flex flex-col",children:(0,s.jsx)(a.Outlet,{})})]})}function $(){let{data:e,isLoading:t}=(0,m.useLinks)(),{data:n,isLoading:r}=(0,u.useBankAccounts)();if(t||r||0===e.length)return null;let i=e.sort((e,t)=>{let n=e.getName().toUpperCase(),s=t.getName().toUpperCase();return n<s?-1:n>s?1:0}),l=i[0],o=(0,Q.default)(Array.from(n.values()).filter(e=>e.linkId===l.linkId));if(0===o.length)return null;let d=o[0];return(0,s.jsx)(a.Navigate,{replace:!0,to:`/bank/${d.bankAccountId}/transactions`})}},"../interface/src/pages/account/subscribe/after.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/material/index.js"),l=n("../interface/src/hooks/useAuthentication.ts"),o=n("../interface/src/assets/index.js");function d(){let{search:e}=(0,a.useLocation)(),t=(0,a.useNavigate)(),n=(0,l.useAfterCheckout)();return(0,r.useEffect)(()=>{let s=new URLSearchParams(e),r=s.get("session");n(r).then(e=>{if(e.isActive)return t("/");alert(e?.message||"Subscription is not active")}).catch(()=>alert("Unable to determine your subscription state, please contact support@monetr.app"))},[e,n,t]),(0,s.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,s.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,s.jsx)("div",{className:"flex justify-center w-full mb-5",children:(0,s.jsx)("img",{src:o.Logo,className:"w-1/3"})}),(0,s.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,s.jsx)(i.Typography,{variant:"h5",className:"w-full text-center",children:"Getting your account setup..."})}),(0,s.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,s.jsx)(i.CircularProgress,{})})]})})}},"../interface/src/pages/account/subscribe/index.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return f}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/notistack/notistack.esm.js"),i=n("../interface/src/components/MButton.tsx"),l=n.ir(n("../interface/src/components/MLink.tsx")),o=n.ir(n("../interface/src/components/MLogo.tsx")),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n("../interface/src/hooks/useAppConfiguration.ts"),u=n("../interface/src/hooks/useAuthentication.ts"),m=n.ir(n("../interface/src/util/request.ts"));function f(){let{enqueueSnackbar:e}=(0,a.useSnackbar)(),{initialPlan:t}=(0,c.useAppConfiguration)(),{result:{hasSubscription:n,activeUntil:f}}=(0,u.useAuthenticationSink)(),[x,p]=(0,r.useState)(!1),g=(0,r.useCallback)(()=>{let s;p(!0),t&&!n?s=(0,m.default)().post("/billing/create_checkout",{cancelPath:"/logout"}):n&&(s=(0,m.default)().get("/billing/portal")),s.then(e=>window.location.assign(e.data.url)).catch(t=>{p(!1),e(t?.response?.data?.error||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e,n,t]);return f?(0,s.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,s.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,s.jsx)(o.default,{className:"max-h-24"}),(0,s.jsx)(d.default,{size:"2xl",weight:"semibold",className:"text-center",children:"Your subscription is no longer active"}),(0,s.jsx)(d.default,{size:"lg",className:"text-center",children:"Thank you for having subscribed to monetr before! If you'd like to continue using monetr you will have to resubscribe below. Click continue to proceed to our billing portal."}),(0,s.jsx)(i.MBaseButton,{color:"primary",disabled:x,onClick:g,children:"Continue"})]}),!x&&(0,s.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,s.jsx)(d.default,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,s.jsx)(l.default,{to:"/logout",size:"sm",children:"Logout for now"})]})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,s.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,s.jsx)(o.default,{className:"max-h-24"}),(0,s.jsx)(d.default,{size:"2xl",weight:"semibold",className:"text-center",children:"Your free trial has ended"}),(0,s.jsx)(d.default,{size:"lg",className:"text-center",children:"Thank you for trying out monetr! We hope that you found our budgeting tools useful during your trial. If you'd like to continue using monetr you can easily subscribe below."}),(0,s.jsx)(i.MBaseButton,{color:"primary",disabled:x,onClick:g,children:"Continue"})]}),!x&&(0,s.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,s.jsx)(d.default,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,s.jsx)(l.default,{to:"/logout",size:"sm",children:"Logout for now"})]})]})})}},"../interface/src/pages/app.stories.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return d},Transactions:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../node_modules/axios-mock-adapter/src/index.js")),a=n.ir(n("../interface/src/pages/app.tsx")),i=n.ir(n("../interface/src/api/api.ts")),l=n.ir(n("../interface/src/monetr.tsx"));let o={title:"New UI",component:a.default};var d=o;let c={name:"Transactions",decorators:[(e,t)=>{let n=new r.default(i.default);return n.onGet("/api/config").reply(200,{requireLegalName:!0,requirePhoneNumber:!0,verifyLogin:!1,verifyRegister:!1,verifyEmailAddress:!0,verifyForgotPassword:!1,allowSignUp:!0,allowForgotPassword:!0,longPollPlaidSetup:!0,requireBetaCode:!0,initialPlan:{price:199},billingEnabled:!0,iconsEnabled:!0,plaidEnabled:!0,manualEnabled:!1,release:"0.17.16",revision:"8df5505b7e5273f061d90ddf19e4c1cfca2b4f4f",buildType:"binary",buildTime:"2024-08-28T02:42:56Z"}),n.onGet("/api/users/me").reply(200,{activeUntil:"2024-09-26T00:31:38Z",hasSubscription:!0,isActive:!0,isSetup:!0,isTrialing:!1,trialingUntil:null,user:{userId:"user_01hym36e8ewaq0hxssb1m3k4ha",loginId:"lgn_01hym36d96ze86vz5g7883vcwg",login:{loginId:"lgn_01hym36d96ze86vz5g7883vcwg",email:"me@elliotcourant.dev",firstName:"Elliot",lastName:"Courant",passwordResetAt:null,isEmailVerified:!0,emailVerifiedAt:"2022-09-25T00:24:25.976514Z",totpEnabledAt:null},accountId:"acct_01hk84dchvxvjgp7cgap818c82",account:{accountId:"acct_01hk84dchvxvjgp7cgap818c82",timezone:"America/Chicago",locale:"en_US",subscriptionActiveUntil:"2024-09-26T00:31:38Z",subscriptionStatus:"active",trialEndsAt:null,createdAt:"2024-01-03T17:02:23.290914Z"}}}),n.onGet("/api/links").reply(200,[{linkId:"link_01gds6eqsqacg48p0azb3wcpsq",linkType:1,plaidLink:{products:["transactions"],status:2,expirationDate:null,newAccountsAvailable:!1,institutionId:"ins_116794",institutionName:"Mercury",lastManualSync:"2024-07-06T12:59:09.51222Z",lastSuccessfulUpdate:"2024-08-29T12:00:01.176597Z",lastAttemptedUpdate:"2024-08-29T12:00:01.17665Z",updatedAt:"2024-03-19T06:17:32.335106Z",createdAt:"2022-09-25T02:08:40.758642Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha"},institutionName:"Mercury",description:null,createdAt:"2022-09-25T02:08:40.758642Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha",updatedAt:"2024-03-19T06:17:32.335106Z",deletedAt:null}]),n.onGet("/api/institutions/ins_116794").reply(200,{institutionId:"ins_116794",name:"Mercury",products:["assets","auth","balance","transactions","identity"],countryCodes:["US"],url:"https://mercury.com/",primaryColor:"#5e6cd4",logo:"iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAAAdVBMVEVHcEz///////////////////////////////////////////////8AAAD///9ra2v19fX9/f0jIyMVFRUyMjLs7OysrKwMDAy3t7c9PT3R0dGLi4uhoaF/f39OTk7Dw8OVlZVHR0fj4+Pb29tVVVXLy8tcXFzoRFGvAAAADXRSTlMAQoGXwesjpdoUaS9X3qEOLQAACyRJREFUeNrNXOmCsjoM/cZl1JmBUvZVQMD3f8TbBdqA0KKgF345I0JITk6Wpvz7t/C4/P7tTqfD4Xw+Ynw8nw+H02n393v59z8e3z/7w9mcOM6H/c/3/yLU6Whqj+Pps8J97c/m7OO8//qQrnZPSNXKtnu73i4/B/Ol4/DzTnf43mPz5QPv36W279MCsZhop3eI9nsyVzhOv2tjaxWxmGirYu3naK52HH/Wo62zuepx/lrLithc+VjDnl9H8w3HcbHSduabjt0yMx7Mtx2Hy9bMuNycO/PNx4vm3JtvP/avyHUyP3CcNgX7JS5wOX9GLhOfL5uUiwaoyzblekqywyflMvFhU/74gm/uzY8f+03w/Ysx4Ovpi1pNmtWRazuG4dhudM/S2Hr6Itq4eXkubnshco2Rw0Xhc8IdLys6pFVEQpKA6Kq+ujYQLkqfke2wFsBwWPP7O3USVkKEm3+VogX3cCWYzQYYTrlu3KRif8Kq4IboN3duYtfHK8BsLsBaseysGv8+JkI5TZXxs1K8GGYzmTVnyrg2CvTdiR1j02yYXd1mIc/OM6R3Z2LF6rOIOW0KvJiJhrxFxpwVun1nhljE2sQ1ELcrFc2Z5QXniT7AHHRRYDv+jBMtArAGPEs2B2k/ryL/RtF1H9rFygtUUuZ3IiRVGRpGCa0f3V7E/wzkN86jupos6nF+LcSOhMq40pz4Jfz/6n8VBsTDes99SwDVB+WV/mXfpMpQT9dBrr/H7wsKS8ldSxhl4roLjFSekIIot1tvpIdj2MDeJTnJf15l37PkQgDBnAgC5FuUGzqJ6f2z9gyCrHzgN3rJvp9VWGjIO1IBMsbqhUUdMDCcDlnYC4yg/aOgPwEqpj/Jn1TZt86Zm6AnV86wReIg5rpM5FeJ0EvMZM97kgU6D8DfT6XTlQORbCEOLk+wPLh7JZ7A42chC8YDR8cavTT7olEYJj5VinM8ShCIQAwLLAGDWYTp2l+REEEfIRIMggkCI929Lk+QPrm8K1Mum4UYBDUGONeDGkNm6AAGMS23hwgt/WvyVh9agLIs1QEBTCVA7vdOLqBRqX4dwbQ38utwdi6r4QrPAXemXnClvliIOxCQuxhavRKOTEW0iNGDBj6kN5cxNAn1XaCGPzFns1waJQL2IYqs5ce8YzCp8Tt0I02Src53cvCMni0uiwMjMiUvcN+j/ioYITICLLMzD+i/mZf9fGk9skOFRXRz7axWCpuxqOCgtEA0wQklb3TpBSbWjCxpTBfPShj36vyeyAK8U1yf3kDYxA9ELLd9S5wskEmfSJxMpExnUZnSkpgYLx4xKvsmuMnSyJFpRk2VVgWGjXsOlEvL23iGLb91sbtTGE1KoasX0lZUzjhMi6zmeVDUUEsXsAwFacdVF82/9ewKFZYN/ImirxicTnRXsCLKHSIJSdel/DKDY0+apOIqDWmUKCtycb94IpGJS6Y2Ea9xXmQ0hIn/XDUsy1MMZa5ft77dIBukqm157RtTKRbLPvg32C+FZ3TP2ABmHM39dRDDJCLTLLQpB90cu8CtXP3ssZ+A+DRAwD6LUBnxG0sHMiXECgoMnuXY97TysFeFvPpwYypXktCPo2ah3/gxw1uUhfSnfi8opDqQKVmMyFDF9JmvOQB4hVrjkPwwpzQR+d64ZCz5rtqfUUe6CfKNdEymyiws2ngI+mkop62ylYt85H2nCCUpaEcJycpbT/9dquv2crjRDOOs6oERkBKN3Eeu4Uru6Kol3pfyeoIVPcQGom5K1H5JKPaiSRAn0J0DvjS9nm90HZT80WWRiN+VJse4qAtdBl00AT5hXgazoM7SNKsp+Jy8S5D8x4wzE0Wnqy58/9QQm8jRQWOCsYbd9VuttGOw68gjWRLztRpkf8oksaGCVaBFnd2zomovCyI7LIQ4ueT9tNasEnRHqQcwn6izsp0yIKWwyLWyliPq2CQodkHakDzwhOPVAN1tiDKCRFZ6oZrJTkrBMlk7stqoC0mhLDgontFIE60ERJWCxsugUlEIdlAHyjvIqYOksjyfOoRkSg96pwnyI4l8nzWvPatKAuBLWB0uD0rBInl1ImPJlYd510KaLR3HQKtr2szo2omMVkrhlpFSsLOaLTyZdFqQ3Wpxylg0JhgUt4W2pqp0xS9dJcOqBLOFYmB7AluOwIclRRyCoDOZYziWTMykriPYPRsRTJWNSW33r4K0EM6Eq8Z957ANRxRZjjIjU1UFUh2OrJR4ME7VTp9OnUFo9+HTaJieKZjREywVHJVOCzZ+xhVoTC2Y2pTlWDuVmpLzPk6mTSk7Ln1TRgL8alOqwe+KT6A3R8DvyNp/CvyWEFGCn8YvNPqsz3mlK37rDugCSaaboAtXiijOZsslbYy9GRq6UBNsIAEBCbZr/7Jm5jjBJlLXPYKt5SnRy8wvDYJ4DO5CEow2EyHJE4qxYUgSTZ/rBAiEYJogXj3EYaijiEVrNJL4Isksfgg6Ll0FcDN0QVyT9viCsVHSXr+MQbpYT6U9MGR1RUGQ9cKaOu3RJIpIlkuml5JsL6l6vYt4KlEUvM8MVhUkxwQ1HlsCUCeKf+o6XMakx0wYcdqdSK07pxkrhixWTKhTa00x0jUrs9HKgndWx4uRlraiCa8ydMWIrnyLh1aFNUgrgYega5Qe9M4Re+G2KlSXb0qGDSEf9Zm06FWz7SiDKArkusWIHQlTOHdtwasiMmzJKye9qhq0CLqGnRfnYZpdmeteb6MtAv6wDm37z2gRaJsqkim7TAQ2VQb9RNMKyxZmg6ZKKxZtFdnxnKaKvg0lAOs/tqFGu3b0hOKxDRUXd6ddjssemqSPbShlb9iSqXA82rhDYwbh9cpY447atuERVNu4m9fq5NGt3+rEvjHSoWImBU1Q2Oo0bNS0Pq4KlPj4VHOYquz60ByGIWpAJo/N4fyp5vCidjpvnRe3sX4ibKfjQTtdvQLxs8ICRM7nQew6K9IwlrfDUR/fgwWIdMYCxNIlm7CWGHKQ0F0F1YJfWbLRrNTPWOSyfNBx8cHJCxe5lMuCmCLJB9cfWxYMmbKKlK10pVIxC5cFly+kBnAhVVjenVxIVY+FnFdber7SjzI/iiTNji8939X32y1arDflYn01XKyPhYEXLtZ/eLxBM3l0WG0gJBsOhCDw6XEgRDND0BsIeXGExhKosXo5nHKExn1mhEY7dHQbHTqqhuVnvz2xwtDRi2NaoUBVf0wrNUXy8TCmpRvWHYxpvTbY1g0XyVk25sKsOLB4IjYcbNPOw54WjwKC0iwTo4DYYi0Dy+fJNxzkxbri+4ErXh2elFkoTTuYyXBI1dTtPahhosaGJ/VynVYYN5UtYr5sYl9BqmrYSX8wlY6bzphr/l1hQLcB2YtX9/L6KBtgnA3ozhhSP60y0ixnUYh8MYocupmlREU+rDPYSLP76kjzE0PgoVBZMONujPzHhyBUpL9kbL4XqaYOPjbvz7n2ea2NBtQbS6wX63GgXZMgLt6aQTPESHHTdmtGPu+6pxU3s1A/tSdYYMXNLC9s/5naQFIlnGVni6XZZfbChikuYCFKSlyFSd2O39Xh/NcY7N6zxYxvMosiV04ERsWKW8ye3ZRnfWxT3pPbGFmrrr+Nsc7SxhrsOlsIsBc3fuJZ/1oEsG1vld3u5uJPb8c2Z2/H3u4G9s1u+f+kZOdnX9+w0ddKbPdFHBt+dcl2X/ay3dfjbPeFQtt9BdOGX1q15svaAEus89q2jb4YbcOvkmOvKtyYFTf/usINv+Bxw6/E3PBLRDnYNvna1S2/qHbLr/YVwm3wZcjSHd70+uj/AGgmIsLJi31VAAAAAElFTkSuQmCC",status:{auth:{breakdown:{error_institution:0,error_plaid:0,success:1},last_status_change:"2023-06-25T13:10:18Z",status:"HEALTHY"},item_logins:{breakdown:{error_institution:0,error_plaid:.014,success:.986},last_status_change:"2023-06-28T20:15:18Z",status:"DEGRADED"},transactions_updates:{breakdown:{error_institution:0,error_plaid:0,refresh_interval:"NORMAL",success:1},last_status_change:"2023-06-14T17:05:18Z",status:"HEALTHY"}}}),n.onGet("/api/bank_accounts").reply(200,[{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",linkId:"link_01gds6eqsqacg48p0azb3wcpsq",availableBalance:47986,currentBalance:47986,mask:"2982",name:"Mercury Checking",originalName:"Mercury Checking",accountType:"depository",accountSubType:"checking",status:"active",lastUpdated:"2024-08-27T08:53:48.555368Z",createdAt:"2022-09-25T02:08:40.758642Z",updatedAt:"2024-03-19T06:17:32.335106Z"}]),n.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb").reply(200,{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",linkId:"link_01gds6eqsqacg48p0azb3wcpsq",plaidBankAccount:{name:"Mercury Checking",officialName:"Mercury Checking",mask:"2982",availableBalance:47986,currentBalance:47986,limitBalance:null,createdAt:"2024-03-19T15:15:10.31132Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha"},availableBalance:47986,currentBalance:47986,mask:"2982",name:"Mercury Checking",originalName:"Mercury Checking",accountType:"depository",accountSubType:"checking",status:"active",lastUpdated:"2024-08-27T08:53:48.555368Z",createdAt:"2022-09-25T02:08:40.758642Z",updatedAt:"2024-03-19T06:17:32.335106Z"}),n.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/funding_schedules").reply(200,[{fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",name:"Elliot's Contribution",description:"15th and last day of every month",ruleset:"DTSTART:20230228T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1",excludeWeekends:!0,waitForDeposit:!1,estimatedDeposit:22e3,lastRecurrence:"2024-08-15T05:00:00Z",nextRecurrence:"2024-08-30T05:00:00Z",nextRecurrenceOriginal:"2024-08-31T05:00:00Z"}]),n.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/balances").reply(200,{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",current:47986,available:47986,free:7724,expenses:30262,goals:1e4}),n.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/spending").reply(200,[{spendingId:"spnd_01h264znvxkghmxp5s0wmdbr9j",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"GitLab",description:"Every year on the 16th of June",targetAmount:34800,currentAmount:5800,usedAmount:0,ruleset:"DTSTART:20230606T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=16",lastSpentFrom:null,lastRecurrence:"2024-06-16T05:00:00Z",nextRecurrence:"2025-06-16T05:00:00Z",nextContributionAmount:1450,isBehind:!1,isPaused:!1,createdAt:"2023-06-05T16:07:02.780623Z"},{spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Freshbooks",targetAmount:1900,currentAmount:950,usedAmount:0,ruleset:"DTSTART:20230310T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10",lastSpentFrom:null,lastRecurrence:"2024-08-10T06:00:00Z",nextRecurrence:"2024-09-10T06:00:00Z",nextContributionAmount:950,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:40:46Z"},{spendingId:"spnd_01gk23r0mgcekdf8bzkvf55f26",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:1,name:"Rainy Day",targetAmount:100,currentAmount:17724,usedAmount:58900,ruleset:null,lastSpentFrom:null,lastRecurrence:"2023-12-31T06:00:00Z",nextRecurrence:"2023-12-31T06:00:00Z",nextContributionAmount:0,isBehind:!1,isPaused:!1,createdAt:"2022-11-29T16:32:58Z"},{spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google Voice",targetAmount:1292,currentAmount:646,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:646,isBehind:!1,isPaused:!1,createdAt:"2022-11-02T14:11:24Z"},{spendingId:"spnd_01g6ngke5g9mgrn9kt7pjdcqr8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"ngrok",description:"Every year on the 26th of June",targetAmount:6e3,currentAmount:780,usedAmount:0,ruleset:"DTSTART:20230625T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=26",lastSpentFrom:null,lastRecurrence:"2024-06-26T05:00:00Z",nextRecurrence:"2025-06-26T05:00:00Z",nextContributionAmount:261,isBehind:!1,isPaused:!1,createdAt:"2022-06-28T15:59:10Z"},{spendingId:"spnd_01h0jgggcdng3ztx90zwh6nb6f",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Domains",description:"Every year on the 1st of April",targetAmount:14e3,currentAmount:2331,usedAmount:0,ruleset:"DTSTART:20240401T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=4;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-04-01T05:00:00Z",nextRecurrence:"2025-04-01T05:00:00Z",nextContributionAmount:777,isBehind:!1,isPaused:!1,createdAt:"2023-05-16T14:47:58.09301Z"},{spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Plaid",description:"Every month on the 10th",targetAmount:500,currentAmount:365,usedAmount:0,ruleset:"DTSTART:20230610T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10",lastSpentFrom:null,lastRecurrence:"2024-08-10T05:00:00Z",nextRecurrence:"2024-09-10T05:00:00Z",nextContributionAmount:135,isBehind:!1,isPaused:!1,createdAt:"2023-05-14T20:01:47.09268Z"},{spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google G-Suite",targetAmount:1440,currentAmount:720,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:720,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:41:18Z"},{spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google Cloud Production",targetAmount:25e3,currentAmount:12588,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:12412,isBehind:!1,isPaused:!1,createdAt:"2022-11-07T15:09:16Z"},{spendingId:"spnd_01hcjv04tytz5xatf3dhers5kg",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"P.O. Box",description:"Every year on the 13th of October",targetAmount:7e3,currentAmount:6082,usedAmount:0,ruleset:"DTSTART:20231013T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=10;BYMONTHDAY=13",lastSpentFrom:null,lastRecurrence:"2023-10-13T05:00:00Z",nextRecurrence:"2024-10-13T05:00:00Z",nextContributionAmount:306,isBehind:!1,isPaused:!1,createdAt:"2023-10-12T20:59:38.206294Z"},{spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"GitHub",targetAmount:800,currentAmount:0,usedAmount:0,ruleset:"DTSTART:20230319T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=19",lastSpentFrom:null,lastRecurrence:"2024-08-19T05:00:00Z",nextRecurrence:"2024-09-19T05:00:00Z",nextContributionAmount:400,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:43:04Z"},{spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Sentry",targetAmount:3446,currentAmount:0,usedAmount:0,ruleset:"DTSTART:20230325T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=25",lastSpentFrom:null,lastRecurrence:"2024-08-25T05:00:00Z",nextRecurrence:"2024-09-25T05:00:00Z",nextContributionAmount:1723,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:42:41Z"}]),n.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions").reply(200,[{transactionId:"txn_01j68vszqeq30t7jz7atk9yd9r",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:3446,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-08-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-27T02:49:28.059Z",deletedAt:null},{transactionId:"txn_01j5m4enxf50k3d2h2c9dtst4z",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:803,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-19T01:36:31.663Z",deletedAt:null},{transactionId:"txn_01j59tnczpyqwq7sxw4gzbmkvx",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:270,spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",spendingAmount:270,categories:["Service","Business Services"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-16T05:00:00Z",name:"Plaid",originalName:"Plaid",merchantName:"Plaid Technologies Inc.",originalMerchantName:"Plaid Technologies Inc.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-15T01:33:01.814Z",deletedAt:null},{transactionId:"txn_01j5b3p0waxq4894dgteb58s6e",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-08-15T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-15T13:29:53.802Z",deletedAt:null},{transactionId:"txn_01j4vn659athnneb4jd6yf2twa",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1900,spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",spendingAmount:1900,categories:["Service","Financial","Accounting and Bookkeeping"],category:"GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING",date:"2024-08-10T05:00:00Z",name:"FreshBooks",originalName:"FRESHBOOKS. Merchant name: Freshbooks",merchantName:"FreshBooks",originalMerchantName:"FreshBooks",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-09T13:27:57.482Z",deletedAt:null},{transactionId:"txn_01j47xct43472gtrv6dkp8s9s8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1440,spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",spendingAmount:1440,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-02T05:00:00Z",name:"Gsuite Monetr.a.",originalName:"GSUITE MONETR.A. Merchant name: Gsuite",merchantName:"Gsuite Monetr.a.",originalMerchantName:"Gsuite Monetr.a.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j47xct4230fpdj4gt8trf021",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:24824,spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",spendingAmount:24824,categories:["Shops","Digital Purchase"],category:"GENERAL_MERCHANDISE_OTHER_GENERAL_MERCHANDISE",date:"2024-08-02T05:00:00Z",name:"Cloud",originalName:"Google CLOUD 2xHT9W. Merchant name: Google Cloud",merchantName:"Cloud",originalMerchantName:"Cloud",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j47xct40x2vwfhst88k4j9zs",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1294,spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",spendingAmount:1292,categories:["Shops","Digital Purchase"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-08-02T05:00:00Z",name:"Svcsmonetr.app.",originalName:"SVCSMONETR.APP. Merchant name: Google",merchantName:"Svcsmonetr.app.",originalMerchantName:"Svcsmonetr.app.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j45asp0shxbda8abgmqsa6mz",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-07-31T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-31T21:23:05.369Z",deletedAt:null},{transactionId:"txn_01j3s2r562navpr3y1y27rn95j",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:3914,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-07-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-27T03:11:33.57Z",deletedAt:null},{transactionId:"txn_01j33sp41a5b2s3nnkddjw1grc",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:800,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-18T20:49:06.602Z",deletedAt:null},{transactionId:"txn_01j2r4mbwb1d56d5be9h5y6jxq",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:210,spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",spendingAmount:210,categories:["Service","Business Services"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-16T05:00:00Z",name:"Plaid",originalName:"Plaid",merchantName:"Plaid Technologies Inc.",originalMerchantName:"Plaid Technologies Inc.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-14T08:09:30.251Z",deletedAt:null},{transactionId:"txn_01j2vc5pkhbmjp7kmj7ede9vbe",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-07-15T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-15T14:19:01.617Z",deletedAt:null},{transactionId:"txn_01j2bt5rjem60dgvf6ymm8zrvw",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1900,spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",spendingAmount:1900,categories:["Service","Financial","Accounting and Bookkeeping"],category:"GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING",date:"2024-07-10T05:00:00Z",name:"FreshBooks",originalName:"FRESHBOOKS. Merchant name: Freshbooks",merchantName:"FreshBooks",originalMerchantName:"FreshBooks",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-09T13:15:52.782Z",deletedAt:null},{transactionId:"txn_01j27xtf159hx1j8ajzev4whtb",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:4e3,spendingId:"spnd_01h0jgggcdng3ztx90zwh6nb6f",spendingAmount:3040,categories:["Transfer","Debit"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-07-08T05:00:00Z",name:"Square Space Domains",originalName:"SQSP* INV140023242. Merchant name: Sqsp",merchantName:"INV",originalMerchantName:"INV",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-08T01:02:39.141Z",deletedAt:null},{transactionId:"txn_01j1tzj5snpm0c2zx47f1bma2d",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:6e3,spendingId:"spnd_01g6ngke5g9mgrn9kt7pjdcqr8",spendingAmount:6e3,categories:["Transfer","Debit"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-07-03T05:00:00Z",name:"Ngrok",originalName:"NGROK 6RWWW7NJFQD-0004. Merchant name: Ngrok 6rwww7njfqd 0004",merchantName:"Ngrok",originalMerchantName:"Ngrok",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-03T00:22:57.078Z",deletedAt:null},{transactionId:"txn_01j1qqt56ngf8paqzp4k8vwnvq",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:20775,spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",spendingAmount:20775,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-02T05:00:00Z",name:"Cloud Vb",originalName:"Google CLOUD vB57xH. Merchant name: Google Cloud",merchantName:"Cloud Vb",originalMerchantName:"Cloud Vb",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T18:09:46.709Z",deletedAt:null},{transactionId:"txn_01j1qqt56k7ytp6ynqz7q82yzn",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1287,spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",spendingAmount:1287,categories:["Shops","Digital Purchase"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-07-02T05:00:00Z",name:"Svcsmonetr.app.",originalName:"SVCSMONETR.APP. Merchant name: Google",merchantName:"Svcsmonetr.app.",originalMerchantName:"Svcsmonetr.app.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T18:09:46.709Z",deletedAt:null},{transactionId:"txn_01j1q2sqwwbmvecxd50t453x40",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1440,spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",spendingAmount:1440,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-02T05:00:00Z",name:"Gsuite Monetr.a.",originalName:"GSUITE MONETR.A. Merchant name: Gsuite",merchantName:"Gsuite Monetr.a.",originalMerchantName:"Gsuite Monetr.a.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T12:02:32.988Z",deletedAt:null},{transactionId:"txn_01j1fzxja9mcy0tj6wb62b5n0p",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-06-28T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-28T17:57:31.593Z",deletedAt:null},{transactionId:"txn_01j1e1d9p7qb41prh6jne7dtw7",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:34800,spendingId:"spnd_01h264znvxkghmxp5s0wmdbr9j",spendingAmount:34800,categories:["Service"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-06-28T05:00:00Z",name:"Gitlab Inc..",originalName:"GITLAB INC.. Merchant name: Gitlab",merchantName:"Gitlab Inc..",originalMerchantName:"Gitlab Inc..",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-27T23:45:06.759Z",deletedAt:null},{transactionId:"txn_01j1c2cq8dwdpjyvs8fxpkeh5q",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:2900,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-06-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-27T05:23:47.597Z",deletedAt:null},{transactionId:"txn_01j0psb1fgb1zcc696h7psm9c8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:800,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-06-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-18T23:01:32.273Z",deletedAt:null},{transactionId:"txn_01j0cfj0ajsrqx2c0b41ewyhnj",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-2e4,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-06-14T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-14T22:58:10.386Z",deletedAt:null}]),(0,s.jsx)(e,{})}],render:()=>(0,s.jsx)(l.default,{}),parameters:{reactRouter:{routePath:"/*",browserPath:"/bank/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions"}}}},"../interface/src/pages/app.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n.ir(n("../interface/src/components/Layout/BankSidebar.tsx"));function a(e){return(0,s.jsxs)("div",{className:"w-full h-full bg-background flex",children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("div",{className:"w-full h-full flex min-w-0",children:e.children})]})}n("../interface/src/components/Layout/BudgetingSidebar.tsx"),n("../interface/src/pages/expenses.tsx"),n("../interface/src/pages/transactions.tsx")},"../interface/src/pages/error/config.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n.ir(n("../interface/src/components/MSpan.tsx"));function i(){return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col p-4",children:(0,s.jsxs)(a.default,{className:"w-full h-full justify-center flex-col text-center gap-4",children:[(0,s.jsx)(r.HeartBrokenOutlined,{className:"text-9xl"}),(0,s.jsx)(a.default,{size:"xl",weight:"medium",children:"There was a problem loading the monetr application config, the API may be unavailable at this time."}),(0,s.jsxs)(a.default,{size:"lg",className:"gap-1",children:["You can try reloading this page, but if the problem persists please contact",(0,s.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"mailto:support@monetr.app",children:"support@monetr.app"})]})]})})}},"../interface/src/pages/expense/ExpenseTimeline.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n("../node_modules/date-fns/esm/index.js"),i=n.ir(n("../interface/src/components/MSpan.tsx")),l=n("../interface/src/hooks/forecast.ts"),o=n("../interface/src/hooks/fundingSchedules.ts"),d=n("../interface/src/hooks/spending.ts"),c=n("../interface/src/util/amounts.ts"),u=n.ir(n("../interface/src/util/mergeTailwind.ts"));function m(e){let{data:t}=(0,d.useSpending)(e.spendingId),{data:n}=(0,o.useFundingSchedule)(t?.fundingScheduleId),{result:m,isLoading:f,isError:x}=(0,l.useForecast)();if(f)return(0,s.jsx)(i.default,{children:"Loading..."});if(x||!t)return(0,s.jsx)(i.default,{children:"Failed to load expense forecast!"});let p=m.events.filter(t=>t.spending.some(t=>t.spendingId===e.spendingId)).map(t=>({...t,spending:t.spending.filter(t=>t.spendingId===e.spendingId)})),g=p.map(t=>{let n={date:t.date,totalContributedAmount:t.contribution,totalSpentAmount:t.transaction,spentAmount:0,contributedAmount:0,endingAllocation:0};return t.spending.forEach(t=>{t.spendingId===e.spendingId&&(n.spentAmount+=t.transactionAmount,n.contributedAmount+=t.contributionAmount,n.endingAllocation+=t.rollingAllocation)}),n});function h(e){let i="",l="",o=null,d=null;if(e.contributedAmount>0&&e.spentAmount>0)i="Contribution & Spending",d=(0,s.jsx)(r.AirlineStopsOutlined,{}),l=e.endingAllocation>0?`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or be ready to spend, ${(0,c.formatAmount)(e.contributedAmount)} was contributed to this budget at the same time. ${(0,c.formatAmount)(e.endingAllocation)} is left over to use from this budget until the next contribution.`:`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or be ready to spend, included the ${(0,c.formatAmount)(e.contributedAmount)} that was contributed to this budget at the same time to account for the spending.`;else if(0===e.contributedAmount&&e.spentAmount>0)i="Spending",d=(0,s.jsx)(r.SouthEast,{}),l=`An estimated ${(0,c.formatAmount)(e.spentAmount)} will be spent or will be ready to spend, from your ${t.name} budget.`;else{if(!(e.contributedAmount>0)||0!==e.spentAmount)return null;i="Contribution",d=(0,s.jsx)(r.NorthEast,{}),l=`${(0,c.formatAmount)(e.contributedAmount)} will be allocated towards ${t.name} from ${n.name}, resulting in a total allocation of ${(0,c.formatAmount)(e.endingAllocation)}.`,e.totalContributedAmount>e.contributedAmount&&(o=`A total of ${(0,c.formatAmount)(e.totalContributedAmount)} will be contributed to all budgets on this day.`)}let m=(0,u.default)({"mb-5":!e.last},"ml-4");return(0,s.jsxs)("li",{className:m,children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,s.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,a.format)(e.date,"MMMM do")}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[i," ",d]}),(0,s.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:l}),o&&(0,s.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:o})]})}return(0,s.jsxs)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:[(0,s.jsxs)("li",{className:"mb-5 ml-4",children:[(0,s.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,s.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,a.format)(m.startingTime,"MMMM do")}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[t.name,(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300 ml-3",children:"Today"})]}),(0,s.jsxs)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:[t.name," currently has ",t.getCurrentAmountString()," allocated towards it."]}),(0,s.jsx)("p",{className:"mb-4 text-base font-normal text-zinc-500 dark:text-zinc-400",children:"Below is the timeline for this expense over the next month."})]}),g.map((e,t)=>(0,s.jsx)(h,{...e,last:g.length-1===t},(0,a.getUnixTime)(e.date)))]})}},"../interface/src/pages/expense/details.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return N}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/pages/expense/ExpenseTimeline.tsx")),d=n.ir(n("../interface/src/components/MAmountField.tsx")),c=n.ir(n("../interface/src/components/MButton.tsx")),u=n.ir(n("../interface/src/components/MDatePicker.tsx")),m=n.ir(n("../interface/src/components/MDivider.tsx")),f=n.ir(n("../interface/src/components/MerchantIcon.tsx")),x=n.ir(n("../interface/src/components/MForm.tsx")),p=n.ir(n("../interface/src/components/MSelectFrequency.tsx")),g=n.ir(n("../interface/src/components/MSelectFunding.tsx")),h=n.ir(n("../interface/src/components/MSpan.tsx")),b=n.ir(n("../interface/src/components/MTextField.tsx")),j=n.ir(n("../interface/src/components/MTopNavigation.tsx")),k=n("../interface/src/hooks/spending.ts"),y=n("../interface/src/modals/TransferModal.tsx"),w=n.ir(n("../interface/src/models/Spending.ts")),v=n("../interface/src/util/amounts.ts");function N(){let e=(0,k.useRemoveSpending)(),t=(0,k.useUpdateSpending)(),n=(0,r.useNavigate)(),{spendingId:N}=(0,r.useParams)(),{enqueueSnackbar:S}=(0,l.useSnackbar)(),{data:A,isLoading:_,isError:M}=(0,k.useSpending)(N);if(!N)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"There wasn't an expense specified..."})]});if(_)return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(h.default,{className:"text-5xl",children:"One moment..."})});if(M)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"Couldn't find the expense you specified..."})]});if(!A)return null;if(A.spendingType!==w.SpendingType.Expense)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"This spending object is not an expense..."})]});async function I(){return A?window.confirm(`Are you sure you want to delete expense: ${A.name}`)?e(A.spendingId).then(()=>void n(`/bank/${A.bankAccountId}/expenses`)):Promise.resolve():Promise.resolve()}async function T(e,n){n.setSubmitting(!0);let s=new w.default({...A,name:e.name,description:null,nextRecurrence:(0,i.startOfDay)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:e.recurrenceRule,targetAmount:(0,v.friendlyToAmount)(e.amount)});return t(s).catch(e=>{let t=e.response.data.error||"Failed to update expense.";S(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>n.setSubmitting(!1))}let C={name:A.name,amount:(0,v.amountToFriendly)(A.targetAmount),nextRecurrence:A.nextRecurrence,fundingScheduleId:A.fundingScheduleId,recurrenceRule:A.ruleset};return(0,s.jsxs)(x.default,{initialValues:C,onSubmit:T,className:"flex w-full h-full flex-col",children:[(0,s.jsxs)(j.default,{icon:a.PriceCheckOutlined,title:"Expenses",base:`/bank/${A.bankAccountId}/expenses`,breadcrumb:A?.name,children:[(0,s.jsxs)(c.MBaseButton,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>(0,y.showTransferModal)({initialToSpendingId:A?.spendingId}),children:[(0,s.jsx)(a.SwapVertOutlined,{}),"Transfer"]}),(0,s.jsxs)(c.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:I,children:[(0,s.jsx)(a.DeleteOutlined,{}),"Remove"]}),(0,s.jsxs)(c.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,s.jsx)(a.SaveOutlined,{}),"Save"]})]}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,s.jsx)(f.default,{name:A?.name})}),(0,s.jsx)(b.default,{className:"w-full",label:"Expense",name:"name",required:!0}),(0,s.jsx)(d.default,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,s.jsx)(u.default,{label:"Next Occurrence",name:"nextRecurrence",className:"w-full",required:!0,min:(0,i.startOfToday)()}),(0,s.jsx)(g.default,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,s.jsx)(p.default,{className:"w-full",dateFrom:"nextRecurrence",label:"How often do you need this expense?",name:"recurrenceRule",placeholder:"Select a spending frequency...",required:!0})]}),(0,s.jsx)(m.default,{className:"block md:hidden w-1/2"}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,s.jsx)(h.default,{className:"text-xl my-2",children:"Expense Timeline"}),(0,s.jsx)(o.default,{spendingId:A.spendingId})]})]})})]})}},"../interface/src/pages/expenses.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n.ir(n("../interface/src/components/expenses/ExpenseItem.tsx")),o=n("../interface/src/components/MButton.tsx"),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n.ir(n("../interface/src/components/MTopNavigation.tsx")),u=n("../interface/src/hooks/spending.ts"),m=n("../interface/src/modals/NewExpenseModal.tsx"),f=n("../interface/src/models/Spending.ts");let x=0;function p(){let{result:e,isError:t,isLoading:n}=(0,u.useSpendingFiltered)(f.SpendingType.Expense),p=(0,r.useRef)(null),h=(0,a.useNavigationType)(),b=(0,r.useCallback)(()=>{x=p.current.scrollTop},[p]);return((0,r.useEffect)(()=>{if(!p.current)return;"POP"===h&&(p.current.scrollTop=x);let e=p.current;return p.current.addEventListener("scroll",b),()=>{e.removeEventListener("scroll",b)}},[p.current,h,b]),n)?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(d.default,{className:"text-5xl",children:"One moment..."})}):t?(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(i.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(d.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(d.default,{className:"text-2xl",children:"We weren't able to retrieve expenses at this time..."})]}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(c.default,{icon:i.PriceCheckOutlined,title:"Expenses",children:(0,s.jsxs)(o.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:m.showNewExpenseModal,children:[(0,s.jsx)(i.AddOutlined,{}),"New Expense"]})}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",ref:p,children:(0,s.jsx)(function(){return 0===e.length?(0,s.jsx)(g,{}):(0,s.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:e?.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1).map(e=>(0,s.jsx)(l.default,{spending:e},e.spendingId))})},{})})]})}function g(){return(0,s.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,s.jsxs)("div",{className:"w-full flex justify-center space-x-4",children:[(0,s.jsx)(i.AccountBalance,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,s.jsx)(i.AutoModeOutlined,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,s.jsx)(i.PriceCheckOutlined,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})]}),(0,s.jsx)(d.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any expenses yet..."}),(0,s.jsx)(d.default,{size:"lg",color:"subtle",className:"text-center",children:"Expenses are budgets for recurring spending. Things like your streaming subscription, rent, or car payments."})]})})}},"../interface/src/pages/funding.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/funding/FundingItem.tsx")),l=n("../interface/src/components/MButton.tsx"),o=n.ir(n("../interface/src/components/MSpan.tsx")),d=n.ir(n("../interface/src/components/MTopNavigation.tsx")),c=n("../interface/src/hooks/fundingSchedules.ts"),u=n("../interface/src/modals/NewFundingModal.tsx");function m(){let{isError:e,isLoading:t,data:n}=(0,c.useFundingSchedulesSink)();return t?(0,s.jsx)(o.default,{children:"Loading..."}):e?(0,s.jsx)(o.default,{children:"Error..."}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(d.default,{icon:a.TodayOutlined,title:"Funding Schedules",children:(0,s.jsxs)(l.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:u.showNewFundingModal,children:[(0,s.jsx)(a.AddOutlined,{}),"New Funding Schedule"]})}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",children:(0,s.jsx)(function(){return 0===n.length?(0,s.jsx)(f,{}):(0,s.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:n?.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1).map(e=>(0,s.jsx)(i.default,{funding:e},e.fundingScheduleId))})},{})})]})}function f(){return(0,s.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,s.jsxs)("div",{className:"w-full flex justify-center space-x-4",children:[(0,s.jsx)(a.Today,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,s.jsx)(a.ArrowForward,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,s.jsx)(a.AccountBalance,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})]}),(0,s.jsx)(o.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any funding schedules yet..."}),(0,s.jsx)(o.default,{size:"lg",color:"subtle",className:"text-center",children:"Funding schedules tell monetr when to allocate funds towards your expenses and goals."})]})})}},"../interface/src/pages/funding/details.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/funding/FundingTimeline.tsx")),d=n.ir(n("../interface/src/components/MAmountField.tsx")),c=n.ir(n("../interface/src/components/MButton.tsx")),u=n.ir(n("../interface/src/components/MCheckbox.tsx")),m=n.ir(n("../interface/src/components/MDatePicker.tsx")),f=n.ir(n("../interface/src/components/MDivider.tsx")),x=n.ir(n("../interface/src/components/MForm.tsx")),p=n.ir(n("../interface/src/components/MSelectFrequency.tsx")),g=n.ir(n("../interface/src/components/MSpan.tsx")),h=n.ir(n("../interface/src/components/MTextField.tsx")),b=n.ir(n("../interface/src/components/MTopNavigation.tsx")),j=n("../interface/src/hooks/fundingSchedules.ts"),k=n.ir(n("../interface/src/models/FundingSchedule.ts")),y=n("../interface/src/util/amounts.ts");function w(){let e=(0,r.useMatch)("/bank/:bankId/funding/:fundingId/details"),t=e?.params?.fundingId||null,{data:n}=(0,j.useFundingSchedule)(t),w=(0,r.useNavigate)(),v=(0,j.useUpdateFundingSchedule)(),N=(0,j.useRemoveFundingSchedule)(),{enqueueSnackbar:S}=(0,l.useSnackbar)();if(!t)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(g.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(g.default,{className:"text-2xl",children:"There wasn't a funding schedule specified..."})]});if(!n)return null;async function A(e,t){t.setSubmitting(!0);let s=new k.default({...n,name:e.name,nextRecurrence:(0,i.startOfDay)(e.nextRecurrence),ruleset:e.rule,excludeWeekends:e.excludeWeekends,estimatedDeposit:(0,y.friendlyToAmount)(e.estimatedDeposit)});return v(s).catch(e=>{let t=e.response.data.error||"Failed to update funding schedule.";S(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>t.setSubmitting(!1))}async function _(){return n?window.confirm(`Are you sure you want to delete funding schedule: ${n.name}`)?N(n).then(()=>void w(`/bank/${n.bankAccountId}/funding`)).catch(e=>void S(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})):Promise.resolve():Promise.resolve()}let M={name:n.name,nextRecurrence:n.nextRecurrenceOriginal,rule:n.ruleset,excludeWeekends:n.excludeWeekends,estimatedDeposit:(0,y.amountToFriendly)(n.estimatedDeposit)},I=()=>(0,i.isEqual)(n.nextRecurrence,n.nextRecurrenceOriginal)?null:(0,s.jsxs)(g.default,{"data-testid":"funding-schedule-weekend-notice",size:"sm",weight:"medium",children:["Actual occurrence avoids weekend (",(0,i.format)(n.nextRecurrence,"M/dd"),")"]});return(0,s.jsxs)(x.default,{className:"flex w-full h-full flex-col",initialValues:M,onSubmit:A,validate:function(e){let t={};return(""===e.rule||!e.rule)&&(t.rule="Frequency is required for funding schedules."),t},children:[(0,s.jsxs)(b.default,{title:"Funding Schedules",icon:a.TodayOutlined,breadcrumb:n.name,base:`/bank/${n.bankAccountId}/funding`,children:[(0,s.jsxs)(c.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:_,children:[(0,s.jsx)(a.DeleteOutlined,{}),"Remove"]}),(0,s.jsxs)(c.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,s.jsx)(a.SaveOutlined,{}),"Save"]})]}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,s.jsx)(h.default,{className:"w-full",label:"Name",name:"name",id:"funding-name-search",required:!0}),(0,s.jsx)(m.default,{className:"w-full",label:"Next Recurrence",name:"nextRecurrence",labelDecorator:I,required:!0,"data-testid":"funding-details-date-picker"}),(0,s.jsx)(p.default,{className:"w-full",dateFrom:"nextRecurrence",label:"How often does this funding happen?",name:"rule",placeholder:"Select a funding frequency...",required:!0}),(0,s.jsx)(u.default,{id:"funding-details-exclude-weekends","data-testid":"funding-details-exclude-weekends",name:"excludeWeekends",label:"Exclude weekends",description:"If it were to land on a weekend, it is adjusted to the previous weekday instead."}),(0,s.jsx)(d.default,{allowNegative:!1,label:"Estimated Deposit",name:"estimatedDeposit",placeholder:"Example: $ 1,000.00"})]}),(0,s.jsx)(f.default,{className:"block md:hidden w-1/2"}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,s.jsx)(g.default,{className:"text-xl my-2",children:"Funding Timeline"}),(0,s.jsx)(o.default,{fundingScheduleId:n.fundingScheduleId})]})]})})]})}},"../interface/src/pages/goals.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n.ir(n("../interface/src/components/goals/GoalItem.tsx")),o=n("../interface/src/components/MButton.tsx"),d=n.ir(n("../interface/src/components/MSpan.tsx")),c=n.ir(n("../interface/src/components/MTopNavigation.tsx")),u=n("../interface/src/hooks/spending.ts"),m=n("../interface/src/modals/NewGoalModal.tsx"),f=n("../interface/src/models/Spending.ts");let x=0;function p(){let{result:e,isError:t,isLoading:n}=(0,u.useSpendingFiltered)(f.SpendingType.Goal),p=(0,r.useRef)(null),h=(0,a.useNavigationType)(),b=(0,r.useCallback)(()=>{x=p.current.scrollTop},[p]);return((0,r.useEffect)(()=>{if(!p.current)return;"POP"===h&&(p.current.scrollTop=x);let e=p.current;return p.current.addEventListener("scroll",b),()=>{e.removeEventListener("scroll",b)}},[p.current,h,b]),n)?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(d.default,{className:"text-5xl",children:"One moment..."})}):t?(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(i.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(d.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(d.default,{className:"text-2xl",children:"We weren't able to retrieve goals at this time..."})]}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(c.default,{icon:i.SavingsOutlined,title:"Goals",children:(0,s.jsxs)(o.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:m.showNewGoalModal,children:[(0,s.jsx)(i.AddOutlined,{}),"New Goal"]})}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",ref:p,children:(0,s.jsx)(function(){return 0===e.length?(0,s.jsx)(g,{}):(0,s.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:e?.sort((e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1).map(e=>(0,s.jsx)(l.default,{spending:e},e.spendingId))})},{})})]})}function g(){return(0,s.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,s.jsx)("div",{className:"w-full flex justify-center space-x-4",children:(0,s.jsx)(i.SavingsOutlined,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})}),(0,s.jsx)(d.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any goals yet..."}),(0,s.jsx)(d.default,{size:"lg",color:"subtle",className:"text-center",children:"Goals are longer budgets that don't recur. They are meant to be used to put money aside for something like saving up for a vaction, or paying off a loan."})]})})}},"../interface/src/pages/goals/details.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return N}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/goals/GoalTimeline.tsx")),d=n.ir(n("../interface/src/components/MAmountField.tsx")),c=n.ir(n("../interface/src/components/MButton.tsx")),u=n.ir(n("../interface/src/components/MCheckbox.tsx")),m=n.ir(n("../interface/src/components/MDatePicker.tsx")),f=n.ir(n("../interface/src/components/MDivider.tsx")),x=n.ir(n("../interface/src/components/MerchantIcon.tsx")),p=n.ir(n("../interface/src/components/MForm.tsx")),g=n.ir(n("../interface/src/components/MSelectFunding.tsx")),h=n.ir(n("../interface/src/components/MSpan.tsx")),b=n.ir(n("../interface/src/components/MTextField.tsx")),j=n.ir(n("../interface/src/components/MTopNavigation.tsx")),k=n("../interface/src/hooks/spending.ts"),y=n("../interface/src/modals/TransferModal.tsx"),w=n.ir(n("../interface/src/models/Spending.ts")),v=n("../interface/src/util/amounts.ts");function N(){let e=(0,k.useRemoveSpending)(),t=(0,k.useUpdateSpending)(),n=(0,r.useNavigate)(),{spendingId:N}=(0,r.useParams)(),{enqueueSnackbar:S}=(0,l.useSnackbar)(),{data:A,isLoading:_,isError:M}=(0,k.useSpending)(N);if(!N)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"There wasn't a goal specified..."})]});if(_)return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(h.default,{className:"text-5xl",children:"One moment..."})});if(M)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"Couldn't find the goal you specified..."})]});if(!A)return null;if(A.spendingType!==w.SpendingType.Goal)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(h.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(h.default,{className:"text-2xl",children:"This spending object is not a goal..."})]});async function I(){return A?window.confirm(`Are you sure you want to delete goal: ${A.name}`)?e(A.spendingId).then(()=>void n(`/bank/${A.bankAccountId}/goals`)):Promise.resolve():Promise.resolve()}async function T(e,n){n.setSubmitting(!0);let s=new w.default({...A,name:e.name,description:null,nextRecurrence:(0,i.startOfDay)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:null,targetAmount:(0,v.friendlyToAmount)(e.amount),isPaused:e.isPaused});return t(s).catch(e=>{let t=e.response.data.error||"Failed to update expense.";S(t,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>n.setSubmitting(!1))}let C={name:A.name,amount:(0,v.amountToFriendly)(A.targetAmount),nextRecurrence:A.nextRecurrence,fundingScheduleId:A.fundingScheduleId,isPaused:A.isPaused};return(0,s.jsxs)(p.default,{initialValues:C,onSubmit:T,className:"flex w-full h-full flex-col",children:[(0,s.jsxs)(j.default,{icon:a.SavingsOutlined,title:"Goals",base:`/bank/${A.bankAccountId}/goals`,breadcrumb:A?.name,children:[(0,s.jsxs)(c.MBaseButton,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>(0,y.showTransferModal)({initialToSpendingId:A?.spendingId}),children:[(0,s.jsx)(a.SwapVertOutlined,{}),"Transfer"]}),(0,s.jsxs)(c.MBaseButton,{color:"cancel",className:"gap-1 py-1 px-2",onClick:I,children:[(0,s.jsx)(a.DeleteOutlined,{}),"Remove"]}),(0,s.jsxs)(c.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,s.jsx)(a.SaveOutlined,{}),"Save"]})]}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,s.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,s.jsx)(x.default,{name:A?.name})}),(0,s.jsx)(b.default,{className:"w-full",label:"Expense",name:"name",required:!0}),(0,s.jsx)(d.default,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,s.jsx)(m.default,{label:"Target Date",name:"nextRecurrence",className:"w-full",required:!0,min:(0,i.startOfToday)()}),(0,s.jsx)(g.default,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,s.jsx)(u.default,{id:"goal-details-paused","data-testid":"goal-details-paused",name:"isPaused",label:"Paused?",description:"Pause this goal to temporarily stop contributions to it."})]}),(0,s.jsx)(f.default,{className:"block md:hidden w-1/2"}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,s.jsx)(h.default,{className:"text-xl my-2",children:"Goal Timeline"}),(0,s.jsx)(o.default,{spendingId:A.spendingId})]})]})})]})}},"../interface/src/pages/link/create.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/icons-material/esm/index.js"),a=n.ir(n("../interface/src/components/MTopNavigation.tsx")),i=n("../interface/src/hooks/useAppConfiguration.ts"),l=n.ir(n("../interface/src/pages/setup.tsx"));function o(){let{result:e}=(0,i.useAppConfigurationSink)();return(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)(a.default,{icon:r.PowerOutlined,title:"Add another connection"}),(0,s.jsx)(l.default,{alreadyOnboarded:!0,manualEnabled:e?.manualEnabled})]})}},"../interface/src/pages/login.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/notistack/notistack.esm.js"),a=n.ir(n("../interface/src/components/FormButton.tsx")),i=n.ir(n("../interface/src/components/MCaptcha.tsx")),l=n.ir(n("../interface/src/components/MForm.tsx")),o=n.ir(n("../interface/src/components/MLink.tsx")),d=n.ir(n("../interface/src/components/MLogo.tsx")),c=n.ir(n("../interface/src/components/MSpan.tsx")),u=n.ir(n("../interface/src/components/MTextField.tsx")),m=n("../interface/src/hooks/useAppConfiguration.ts"),f=n.ir(n("../interface/src/hooks/useLogin.ts")),x=n.ir(n("../interface/src/util/verifyEmailAddress.ts"));let p={email:"",password:"",captcha:null};function g(e){let t={};return 0===e?.email.length&&(t.email="Email must be provided."),e?.email&&!(0,x.default)(e?.email)&&(t.email="Email must be valid."),e?.password.length<8&&(t.password="Password must be at least 8 characters long."),t}function h(){let{enqueueSnackbar:e}=(0,r.useSnackbar)(),t=(0,m.useAppConfiguration)(),n=(0,f.default)();async function x(t,s){return s.setSubmitting(!0),n({captcha:t.captcha,email:t.email,password:t.password}).catch(t=>e(t?.response?.data?.error||"Failed to authenticate.",{variant:"error",disableWindowBlurListener:!0})).finally(()=>s.setSubmitting(!1))}return(0,s.jsxs)(l.default,{initialValues:p,validate:g,onSubmit:x,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,s.jsx)("div",{className:"max-w-[128px] w-full",children:(0,s.jsx)(d.default,{})}),(0,s.jsx)(c.default,{children:"Sign into your monetr account"}),(0,s.jsx)(u.default,{"data-testid":"login-email",autoFocus:!0,label:"Email Address",name:"email",type:"email",required:!0,className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2",tabIndex:1}),(0,s.jsx)(u.default,{autoComplete:"current-password",className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2","data-testid":"login-password",label:"Password",labelDecorator:function(){return t?.allowForgotPassword?(0,s.jsx)(o.default,{to:"/password/forgot",size:"sm","data-testid":"login-forgot",tabIndex:5,children:"Forgot password?"}):null},name:"password",required:!0,type:"password",tabIndex:2}),(0,s.jsx)(i.default,{name:"captcha",show:!!t?.verifyLogin}),(0,s.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,s.jsx)(a.default,{"data-testid":"login-submit",variant:"primary",role:"form",type:"submit",className:"w-full",tabIndex:3,children:"Sign In"})}),(0,s.jsx)(function(){return t?.allowSignUp?(0,s.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,s.jsx)(c.default,{color:"subtle",className:"text-sm",children:"Not a user?"}),(0,s.jsx)(o.default,{to:"/register",size:"sm","data-testid":"login-signup",tabIndex:4,children:"Sign up now"})]}):null},{})]})}},"../interface/src/pages/login/multifactor.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),i=n("../node_modules/notistack/notistack.esm.js"),l=n("../interface/src/components/InputOTP.tsx"),o=n.ir(n("../interface/src/components/MButton.tsx")),d=n.ir(n("../interface/src/components/MForm.tsx")),c=n.ir(n("../interface/src/components/MLogo.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n.ir(n("../interface/src/components/setup/LogoutFooter.tsx")),f=n.ir(n("../interface/src/util/request.ts"));let x={totp:""};function p(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,a.useQueryClient)();async function n(n,s){return s.setSubmitting(!0),(0,f.default)().post("/authentication/multifactor",{totp:n.totp}).then(()=>t.invalidateQueries(["/users/me"])).catch(t=>e(t?.response?.data?.error||"Failed to validate TOTP code.",{variant:"error",disableWindowBlurListener:!0}))}return(0,s.jsx)(d.default,{initialValues:x,onSubmit:n,validate:function(e){let t={};return 6!=e.totp.length&&(t.totp="TOTP code must be 6 digits"),t},validateOnMount:!0,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-2 px-5",children:e=>(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)("div",{className:"max-w-[128px] w-full",children:(0,s.jsx)(c.default,{})}),(0,s.jsx)(u.default,{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1 text-center",children:"Please provide the 6-digit code from your authenticator app"}),(0,s.jsxs)(l.InputOTP,{name:"totp",maxLength:6,required:!0,onChange:t=>e.setFieldValue("totp",t),disabled:e.isSubmitting,autoFocus:!0,children:[(0,s.jsxs)(l.InputOTPGroup,{children:[(0,s.jsx)(l.InputOTPSlot,{index:0}),(0,s.jsx)(l.InputOTPSlot,{index:1}),(0,s.jsx)(l.InputOTPSlot,{index:2})]}),(0,s.jsx)(l.InputOTPSeparator,{}),(0,s.jsxs)(l.InputOTPGroup,{children:[(0,s.jsx)(l.InputOTPSlot,{index:3}),(0,s.jsx)(l.InputOTPSlot,{index:4}),(0,s.jsx)(l.InputOTPSlot,{index:5})]})]}),(0,s.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,s.jsx)(o.default,{disabled:!e.isValid,"data-testid":"multifactor-submit",color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",tabIndex:3,children:function(e){let t=e.totp.length;return t<6?`${6-t} digits left`:"Continue"}(e.values)})}),(0,s.jsx)(m.default,{})]})})}},"../interface/src/pages/logout.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/@mui/material/index.js"),a=n.ir(n("../interface/src/hooks/useLogout.ts")),i=n.ir(n("../interface/src/hooks/useMountEffect.ts"));function l(){let e=(0,a.default)();return(0,i.default)(()=>{e().finally(()=>window.location.replace("/login"))}),(0,s.jsx)(r.Backdrop,{open:!0,children:(0,s.jsx)(r.CircularProgress,{color:"inherit"})})}},"../interface/src/pages/password/forgot.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ForgotPasswordComplete:function(){return g},default:function(){return h}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../interface/src/components/MButton.tsx")),i=n.ir(n("../interface/src/components/MCaptcha.tsx")),l=n.ir(n("../interface/src/components/MForm.tsx")),o=n.ir(n("../interface/src/components/MLink.tsx")),d=n.ir(n("../interface/src/components/MLogo.tsx")),c=n.ir(n("../interface/src/components/MSpan.tsx")),u=n.ir(n("../interface/src/components/MTextField.tsx")),m=n("../interface/src/hooks/useAppConfiguration.ts"),f=n.ir(n("../interface/src/hooks/useSendForgotPassword.ts")),x=n.ir(n("../interface/src/util/verifyEmailAddress.ts"));let p={email:"",captcha:null};function g(){return(0,s.jsxs)("div",{className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,s.jsx)("div",{className:"max-w-[128px] w-full",children:(0,s.jsx)(d.default,{})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(c.default,{children:"Check your email"}),(0,s.jsx)(c.default,{color:"subtle",className:"max-w-[248px] text-center text-sm",children:"If a user was found with the email provided, then you should receive an email with instructions on how to reset your password."})]}),(0,s.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,s.jsx)(c.default,{color:"subtle",className:"text-sm",children:"Return to"}),(0,s.jsx)(o.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}function h(){let e=(0,m.useAppConfiguration)(),t=(0,f.default)(),[n,h]=(0,r.useState)(!1);async function b(e,n){return n.setSubmitting(!0),t(e.email,e.captcha).then(()=>h(!0)).finally(()=>n.setSubmitting(!1))}return n?(0,s.jsx)(g,{}):(0,s.jsxs)(l.default,{initialValues:p,validate:function(e){let t={};return e.email&&!(0,x.default)(e.email)&&(t.email="Please provide a valid email address."),t},onSubmit:b,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,s.jsx)("div",{className:"max-w-[128px] w-full",children:(0,s.jsx)(d.default,{})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(c.default,{children:"Forgot your password?"}),(0,s.jsx)(c.default,{color:"subtle",className:"text-sm",children:"We can email you a link to reset it."})]}),(0,s.jsx)(u.default,{autoFocus:!0,autoComplete:"username",label:"Email Address",name:"email",type:"email",required:!0,className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2"}),(0,s.jsx)(i.default,{className:"mb-1",name:"captcha",show:!!e?.verifyForgotPassword}),(0,s.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,s.jsx)(a.default,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})}),(0,s.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,s.jsx)(c.default,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,s.jsx)(o.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}},"../interface/src/pages/password/reset.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/notistack/notistack.esm.js"),l=n.ir(n("../interface/src/components/MButton.tsx")),o=n.ir(n("../interface/src/components/MForm.tsx")),d=n.ir(n("../interface/src/components/MLink.tsx")),c=n.ir(n("../interface/src/components/MLogo.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n.ir(n("../interface/src/components/MTextField.tsx")),f=n.ir(n("../interface/src/hooks/useResetPassword.ts"));let x={password:"",verifyPassword:""};function p(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,a.useLocation)(),n=(0,a.useNavigate)(),p=(0,f.default)(),{state:g}=(0,a.useLocation)(),h=g&&g.message||"Enter the new password you would like to use.",b=t.search,j=new URLSearchParams(b),k=j.get("token")||g&&g.token;async function y(e,t){return t.setSubmitting(!0),p(e.password,k).catch(()=>t.setSubmitting(!1))}return(0,r.useEffect)(()=>{!k&&(n("/login"),e("You must get a password reset link to change your password.",{variant:"warning",disableWindowBlurListener:!0})),window.history.replaceState({},document.title,k?t.pathname:"/login")},[k,e,n,t.pathname]),(0,s.jsxs)(o.default,{onSubmit:y,initialValues:x,validate:function(e){let t={};return e.password&&e.password.trim().length<8&&(t.password="Password must be at least 8 characters long."),e.verifyPassword&&e.password!==e.verifyPassword&&(t.verifyPassword="Passwords must match."),t},className:"w-full h-full flex flex-col pt-10 md:pt-0 mb:pb-10 md:justify-center items-center px-5 gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center flex-col gap-1 w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2",children:[(0,s.jsx)("div",{className:"max-w-[128px] w-full",children:(0,s.jsx)(c.default,{})}),(0,s.jsx)(u.default,{className:"flex items-center text-center",children:h}),(0,s.jsx)(m.default,{autoFocus:!0,autoComplete:"current-password",label:"Password",name:"password",type:"password",required:!0,className:"w-full"}),(0,s.jsx)(m.default,{autoComplete:"current-password",label:"Verify Password",name:"verifyPassword",type:"password",required:!0,className:"w-full"}),(0,s.jsx)(l.default,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})]}),(0,s.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,s.jsx)(u.default,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,s.jsx)(d.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}},"../interface/src/pages/plaid/oauth-return.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/material/index.js"),l=n.ir(n("../node_modules/@sentry/react/build/esm/index.js")),o=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),d=n("../interface/src/components/Plaid/OAuthRedirectPlaidLink.tsx"),c=n.ir(n("../interface/src/util/request.ts"));function u(){let e=(0,o.useQueryClient)(),[t,n]=(0,r.useState)({loading:!0});(0,r.useEffect)(()=>{(0,c.default)().get("/plaid/link/token/new?use_cache=true").then(e=>n({loading:!1,linkToken:e.data.linkToken})).catch(e=>n({loading:!1,error:e}))},[]);let u=(0,a.useNavigate)();async function m(){n(e=>({longPollAttempts:e.longPollAttempts+1}));let{longPollAttempts:e,linkId:s}=t;return e>6?Promise.resolve():(0,c.default)().get(`/plaid/link/setup/wait/${s}`).then(()=>Promise.resolve()).catch(e=>{if(408===e.response.status)return m();throw e})}function f(e,t){return e&&l.captureEvent({message:"Plaid link exited with error",level:"error",tags:{"plaid.request_id":t.request_id,"plaid.link_session_id":t.link_session_id},breadcrumbs:[{type:"info",level:"info",message:"Error from Plaid link",data:e}]}),u("/")}async function x(t,s){n({loading:!0}),(0,c.default)().post("/plaid/link/token/callback",{publicToken:t,institutionId:s.institution.institution_id,institutionName:s.institution.name,accountIds:s.accounts.map(e=>e.id)}).then(t=>(n({linkId:t.data.linkId}),m().then(()=>Promise.all([e.invalidateQueries(["/links"]),e.invalidateQueries(["/bank_accounts"])]))))}return(0,s.jsx)("div",{className:"w-full h-full flex justify-center items-center p-10",children:(0,s.jsx)("div",{children:(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{children:t.loading||!t.linkToken?(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Typography,{variant:"h5",children:"One moment..."}),(0,s.jsx)("div",{className:"flex justify-center items-center p-5 m-5",children:(0,s.jsx)(i.CircularProgress,{})})]}):(0,s.jsx)("div",{children:(0,s.jsx)(d.OAuthRedirectPlaidLink,{linkToken:t.linkToken,plaidOnSuccess:x,plaidOnExit:f})})})})})})}},"../interface/src/pages/register.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RegisterSuccessful:function(){return y},default:function(){return w}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/FormButton.tsx")),d=n.ir(n("../interface/src/components/MCaptcha.tsx")),c=n.ir(n("../interface/src/components/MForm.tsx")),u=n.ir(n("../interface/src/components/MLink.tsx")),m=n.ir(n("../interface/src/components/MLogo.tsx")),f=n.ir(n("../interface/src/components/MSpan.tsx")),x=n.ir(n("../interface/src/components/MTextField.tsx")),p=n("../interface/src/hooks/useAppConfiguration.ts"),g=n.ir(n("../interface/src/hooks/useSignUp.ts")),h=n("../interface/src/util/locale.ts"),b=n.ir(n("../interface/src/util/verifyEmailAddress.ts"));let j={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function k(e){let t={};return e?.firstName.length<2&&(t.firstName="First name must have at least 2 characters."),e?.lastName.length<2&&(t.lastName="Last name must have at least 2 characters."),0===e?.email.length&&(t.email="Email must be provided."),e?.email&&!(0,b.default)(e?.email)&&(t.email="Email must be valid."),e?.password.length<8&&(t.password="Password must be at least 8 characters long."),e?.confirmPassword!==e?.password&&(t.confirmPassword="Password confirmation must match."),t}function y(){return(0,s.jsxs)("div",{className:"w-full h-full flex justify-center items-center flex-col",children:[(0,s.jsx)(m.default,{className:"h-24 w-24"}),(0,s.jsx)(f.default,{size:"xl",weight:"medium",className:"max-w-md text-center",children:"A verification message has been sent to your email address, please verify your email."})]})}function w(){let{enqueueSnackbar:e}=(0,l.useSnackbar)(),t=(0,p.useAppConfiguration)(),n=(0,g.default)(),b=(0,a.useNavigate)(),w=(0,i.useQueryClient)(),[v,N]=(0,r.useState)(!1);async function S(t,s){return s.setSubmitting(!0),n({betaCode:t.betaCode,captcha:t.captcha,email:t.email,firstName:t.firstName,lastName:t.lastName,password:t.password,timezone:(0,h.getTimezone)(),locale:(0,h.getLocale)()}).then(e=>e.requireVerification?N(!0):w.invalidateQueries(["/users/me"]).then(()=>e.nextUrl?b(e.nextUrl):b("/"))).catch(t=>{let n=t.response.data.error||"Failed to sign up.";e(n,{variant:"error",disableWindowBlurListener:!0})}).finally(()=>s.setSubmitting(!1))}return v?(0,s.jsx)(y,{}):(0,s.jsx)("div",{className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5 overflow-y-auto py-4",children:(0,s.jsxs)(c.default,{initialValues:j,validate:k,onSubmit:S,className:"flex flex-col md:w-1/2 lg:w-1/3 xl:w-1/4 items-center",children:[(0,s.jsx)("div",{className:"max-w-[96px] w-full",children:(0,s.jsx)(m.default,{})}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)(f.default,{className:"text-5xl",children:"Get Started"}),(0,s.jsx)(f.default,{color:"subtle",className:"text-lg",children:"Create your monetr account now"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2.5 w-full",children:[(0,s.jsx)(x.default,{"data-testid":"register-first-name",autoFocus:!0,label:"First Name",name:"firstName",type:"text",required:!0,className:"w-full"}),(0,s.jsx)(x.default,{"data-testid":"register-last-name",label:"Last Name",name:"lastName",type:"text",required:!0,className:"w-full"})]}),(0,s.jsx)(x.default,{"data-testid":"register-email",label:"Email Address",name:"email",type:"email",required:!0,className:"w-full"}),(0,s.jsx)(x.default,{autoComplete:"new-password",className:"w-full","data-testid":"register-password",label:"Password",name:"password",required:!0,type:"password"}),(0,s.jsx)(x.default,{autoComplete:"new-password",className:"w-full","data-testid":"register-confirm-password",label:"Confirm Password",name:"confirmPassword",required:!0,type:"password"}),(0,s.jsx)(function(){return t?.requireBetaCode?(0,s.jsx)(x.default,{label:"Beta Code",name:"betaCode",type:"text",required:!0,uppercasetext:!0,className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4"}):null},{}),(0,s.jsx)(d.default,{className:"mb-1",name:"captcha",show:!!t?.verifyRegister}),(0,s.jsx)(o.default,{"data-testid":"register-submit",className:"w-full mt-1",role:"form",type:"submit",variant:"primary",children:"Sign Up"}),(0,s.jsx)("div",{className:"mt-1 flex justify-center gap-1 flex-col md:flex-row items-center",children:(0,s.jsxs)(f.default,{className:"gap-1 inline-block text-center",size:"sm",color:"subtle",component:"p",children:["By signing up you agree to monetr's\xa0",(0,s.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"https://monetr.app/policy/terms",children:"Terms & Conditions"})," and\xa0",(0,s.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"https://monetr.app/policy/privacy",children:"Privacy Policy"})]})}),(0,s.jsxs)("div",{className:"mt-1 flex justify-center gap-1 flex-col md:flex-row items-center",children:[(0,s.jsx)(f.default,{color:"subtle",className:"text-sm",children:"Already have an account?"}),(0,s.jsx)(u.default,{to:"/login",size:"sm",children:"Sign in instead"})]})]})})}},"../interface/src/pages/settings/about.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/date-fns/esm/index.js"),a=n.ir(n("../interface/src/components/MDivider.tsx")),i=n.ir(n("../interface/src/components/MSpan.tsx")),l=n("../interface/src/hooks/useAppConfiguration.ts");function o(){let{release:e,revision:t,buildType:n,buildTime:o}=(0,l.useAppConfiguration)();return(0,s.jsxs)("div",{className:"w-full flex flex-col p-4 gap-8",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,s.jsx)(i.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"About monetr"}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Version"}),(0,s.jsx)(i.default,{component:"code",size:"lg",children:e||"Unknown"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Revision"}),(0,s.jsx)(i.default,{component:"code",size:"lg",children:t?t.slice(0,7):"Unknown"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Type"}),(0,s.jsx)(i.default,{component:"code",size:"lg",children:n||"Unknown"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Time"}),(0,s.jsx)(i.default,{component:"code",size:"lg",children:(0,r.format)(o,"LLLL do yyyy, h:mmaaa OOOO")})]}),(0,s.jsx)(a.default,{})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,s.jsx)(i.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Need Help?"}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Source Code"}),(0,s.jsx)(d,{href:"https://github.com/monetr/monetr",children:"https://github.com/monetr/monetr"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Email"}),(0,s.jsx)(d,{href:"mailto:support@monetr.app",children:"support@monetr.app"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Github Discussions"}),(0,s.jsx)(d,{href:"https://github.com/monetr/monetr/discussions",children:"https://github.com/monetr/monetr/discussions"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Discord"}),(0,s.jsx)(d,{href:"https://discord.gg/68wTCXrhuq",children:"Join Discord Server"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Terms & Conditions"}),(0,s.jsx)(d,{href:"https://monetr.app/policy/terms",children:"https://monetr.app/policy/terms"})]}),(0,s.jsx)(a.default,{}),(0,s.jsxs)("div",{className:"flex p-4",children:[(0,s.jsx)(i.default,{className:"w-1/3",size:"lg",weight:"semibold",children:"Privacy Policy"}),(0,s.jsx)(d,{href:"https://monetr.app/policy/privacy",children:"https://monetr.app/policy/privacy"})]}),(0,s.jsx)(a.default,{})]})]})}function d(e){let t=(0,i.MSpanDeriveClasses)({size:"lg",className:"dark:text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline"});return(0,s.jsx)("a",{className:t,target:"_blank",href:e.href,children:e.children})}},"../interface/src/pages/settings/billing.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return x}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n("../node_modules/notistack/notistack.esm.js"),o=n.ir(n("../interface/src/components/MBadge.tsx")),d=n("../interface/src/components/MButton.tsx"),c=n.ir(n("../interface/src/components/MDivider.tsx")),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n("../interface/src/hooks/useAuthentication.ts"),f=n.ir(n("../interface/src/util/request.ts"));function x(){let{result:{trialingUntil:e}}=(0,m.useAuthenticationSink)();return(0,s.jsxs)("div",{className:"w-full flex flex-col p-4 max-w-xl",children:[(0,s.jsx)(u.default,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Billing"}),(0,s.jsx)(c.default,{}),(0,s.jsx)(g,{trialingUntil:e}),(0,s.jsx)(p,{})]})}function p(){let{enqueueSnackbar:e}=(0,l.useSnackbar)(),[t,n]=(0,r.useState)(!1),{result:{hasSubscription:a}}=(0,m.useAuthenticationSink)(),i=(0,r.useCallback)(()=>{n(!0),(0,f.default)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(t=>{n(!1),e(t?.response?.data?.error||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e]);return a?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between py-4",children:[(0,s.jsx)(u.default,{children:"Subscription Status"}),(0,s.jsx)(o.default,{className:"bg-green-600",children:"Active"})]}),(0,s.jsx)(c.default,{}),(0,s.jsx)(d.MBaseButton,{className:"ml-auto mt-4 max-w-xs",color:"primary",disabled:t,onClick:i,children:"Manage Your Subscription"})]}):null}function g(e){if(!e.trialingUntil||(0,i.isPast)(e.trialingUntil))return null;let t=(0,i.isThisYear)(e.trialingUntil)?(0,i.format)(e.trialingUntil,"MMMM do"):(0,i.format)(e.trialingUntil,"MMMM do, yyyy");return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between py-4",children:[(0,s.jsx)(u.default,{children:"Subscription Status"}),(0,s.jsxs)(o.default,{className:"bg-yellow-600",children:[(0,s.jsx)(a.AccessTimeOutlined,{}),"Trialing Until ",t]})]}),(0,s.jsx)(c.default,{}),(0,s.jsx)("div",{className:"flex justify-between py-4",children:(0,s.jsx)(u.default,{children:"You can upgrade to a paid subscription at the end of your trial."})}),(0,s.jsx)(c.default,{})]})}},"../interface/src/pages/settings/overview.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../interface/src/components/MButton.tsx"),a=n.ir(n("../interface/src/components/MSelect.tsx")),i=n.ir(n("../interface/src/components/MTextField.tsx")),l=n("../interface/src/hooks/useAuthentication.ts");function o(){let{result:e}=(0,l.useAuthenticationSink)(),t={label:e?.user?.account?.timezone,value:0};return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-between pb-4",children:[(0,s.jsxs)("div",{className:"w-full flex p-4 flex-col",children:[(0,s.jsx)(i.default,{label:"First Name",name:"firstName",className:"max-w-[24rem] w-full",value:e?.user?.login?.firstName,disabled:!0}),(0,s.jsx)(i.default,{label:"Last Name",name:"lastName",className:"max-w-[24rem] w-full",value:e?.user?.login?.lastName,disabled:!0}),(0,s.jsx)(i.default,{label:"Email Address",name:"email",className:"max-w-[24rem] w-full",value:e?.user?.login.email,disabled:!0}),(0,s.jsx)(a.default,{label:"Timezone",name:"timezone",className:"max-w-[24rem] w-full",options:[t],value:t,disabled:!0})]}),(0,s.jsx)("div",{className:"w-full flex justify-end px-4",children:(0,s.jsx)(r.MBaseButton,{color:"primary",disabled:!0,children:"Save Settings"})})]})}},"../interface/src/pages/settings/security.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/notistack/notistack.esm.js"),a=n.ir(n("../interface/src/components/Card.tsx")),i=n("../interface/src/components/MButton.tsx");n("../interface/src/components/MForm.tsx");var l=n.ir(n("../interface/src/components/MSpan.tsx"));n("../interface/src/components/MTextField.tsx");var o=n("../interface/src/components/settings/security/ChangePasswordModal.tsx"),d=n.ir(n("../interface/src/components/settings/security/TOTPCard.tsx"));n.ir(n("../interface/src/util/request.ts"));var c=n("../node_modules/lucide-react/dist/esm/lucide-react.js");function u(){let{enqueueSnackbar:e}=(0,r.useSnackbar)();return(0,s.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.default,{size:"3xl",weight:"semibold",color:"emphasis",component:"h1",children:"Security Settings"}),(0,s.jsx)(l.default,{size:"md",weight:"normal",children:"Manage your password and multi-factor authentication."})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-4 flex-col md:flex-row",children:[(0,s.jsxs)(a.default,{className:"md:w-1/3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,s.jsx)(c.RectangleEllipsis,{})}),(0,s.jsx)(i.MBaseButton,{variant:"solid",color:"primary",onClick:o.showChangePasswordModal,children:"Change Password"})]}),(0,s.jsx)(l.default,{size:"md",weight:"medium",color:"emphasis",children:"Account Password"}),(0,s.jsx)(l.default,{component:"p",children:"Set a secure and unique password to make sure your account stays protected."})]}),(0,s.jsxs)(a.default,{className:"md:w-1/3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,s.jsx)(c.Mail,{})}),(0,s.jsx)(i.MBaseButton,{variant:"solid",color:"primary",disabled:!0,children:"Update Email"})]}),(0,s.jsx)(l.default,{size:"md",weight:"medium",color:"emphasis",children:"Email Address"}),(0,s.jsx)(l.default,{component:"p",children:"Change your primary email address, this is what you'll use to login to monetr and can be used to recover your acount."})]}),(0,s.jsx)(d.default,{})]})]})}},"../interface/src/pages/setup.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return p}});var s=n("../node_modules/react/jsx-runtime.js"),r=n.ir(n("../node_modules/react/index.js")),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/@mui/icons-material/esm/index.js"),l=n.ir(n("../interface/src/components/Logo/PlaidLogo.tsx")),o=n("../interface/src/components/MButton.tsx"),d=n.ir(n("../interface/src/components/MLogo.tsx")),c=n.ir(n("../interface/src/components/MSpan.tsx")),u=n.ir(n("../interface/src/components/setup/LogoutFooter.tsx")),m=n.ir(n("../interface/src/components/setup/SetupBillingButton.tsx")),f=n("../interface/src/hooks/useAppConfiguration.ts"),x=n.ir(n("../interface/src/util/mergeTailwind.ts"));function p(e){let[t,n]=(0,r.useState)("greeting"),i=e.alreadyOnboarded?"/link/create/plaid":"/setup/plaid",l=e.alreadyOnboarded?"/link/create/manual":"/setup/manual";switch(t){case"greeting":return(0,s.jsx)(g,{onContinue:n,manualEnabled:e.manualEnabled,alreadyOnboarded:e.alreadyOnboarded});case"plaid":return(0,s.jsx)(a.Navigate,{to:i});case"manual":return(0,s.jsx)(a.Navigate,{to:l});default:return(0,s.jsx)("h1",{children:"Something went wrong..."})}}function g(e){let t=(0,f.useAppConfiguration)(),[n,a]=(0,r.useState)(null);return(0,s.jsxs)("div",{className:"w-full h-full flex lg:justify-center items-center gap-4 md:gap-8 flex-col overflow-y-auto py-4",children:[(0,s.jsx)(d.default,{className:"w-16 h-16 md:w-24 md:h-24"}),(0,s.jsx)(function(){return e.alreadyOnboarded?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,s.jsx)(c.default,{className:"text-2xl font-medium",children:"Adding another bank?"}),(0,s.jsx)(c.default,{className:"text-lg",color:"subtle",children:"Please select what type of bank you want to setup below."})]}):(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,s.jsx)(c.default,{size:"2xl",weight:"medium",children:"Welcome to monetr!"}),(0,s.jsx)(c.default,{size:"lg",color:"subtle",children:"Before we get started, please select how you would like to continue."})]})},{}),(0,s.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row p-2",children:[(0,s.jsx)(h,{icon:(0,s.jsx)(l.default,{}),name:"Plaid",description:"Plaid makes connecting your monetr account to your bank easy.",active:"plaid"===n,onClick:()=>a("plaid"),disabled:!t?.plaidEnabled}),(0,s.jsx)(h,{icon:(0,s.jsx)(i.EditOutlined,{}),name:"Manual",description:"Manage your transactions and budget manually with monetr.",active:"manual"===n,onClick:()=>a("manual"),disabled:!e.manualEnabled})]}),(0,s.jsx)(o.MBaseButton,{color:n?"primary":"secondary",disabled:!n,onClick:()=>e.onContinue(n),children:"Continue"}),!e.alreadyOnboarded&&(0,s.jsx)(m.default,{}),(0,s.jsx)(function(){return e.alreadyOnboarded?null:(0,s.jsx)(u.default,{})},{})]})}function h(e){let t=(0,x.default)({"dark:border-dark-monetr-brand":e.active,"dark:hover:border-dark-monetr-brand-subtle":e.active,"border-monetr-brand":e.active,"hover:border-monetr-brand-subtle":e.active},{"dark:border-dark-monetr-border":!e.active,"dark:hover:border-dark-monetr-border-string":!e.active,"border-monetr-border":!e.active,"hover:border-monetr-border-string":!e.active},"cursor-pointer","border"),n=(0,x.default)("cursor-not-allowed","dark:ring-dark-monetr-border-subtle","ring-monetr-border-subtle","ring-1","ring-inset","dark:text-dark-monetr-content-muted","text-monetr-content-muted","opacity-50"),a=e.comingSoon||e.disabled,l=(0,x.default)({[t]:!a},{[n]:a},"text-center","flex","flex-row","md:flex-col","gap-4","group","md:h-72","md:w-56","items-center","p-2","py-4","md:p-4","relative","rounded-lg","h-36");return e.disabled?null:(0,s.jsxs)("a",{className:l,onClick:function(){if(!e.comingSoon)!e.disabled&&e.onClick()},children:[e.active&&(0,s.jsx)(i.CheckCircle,{className:"absolute dark:text-dark-monetr-brand-subtle top-2 right-2"}),r.default.cloneElement(e.icon,{className:"w-16 h-12 md:w-20 md:h-12 ml-4 md:ml-0 md:mt-6"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center h-full md:mt-4 text-center w-full md:w-auto",children:[(0,s.jsx)(c.default,{className:"text-lg font-medium",children:e.name}),(0,s.jsx)(c.default,{color:"subtle",children:e.description}),!e.comingSoon&&(0,s.jsx)(c.default,{className:"md:block hidden",children:"\xa0"}),e.comingSoon&&(0,s.jsx)(c.default,{className:"md:mt-5 font-medium",children:"Coming Soon"}),e.disabled&&(0,s.jsx)(c.default,{className:"md:mt-5 font-medium",children:"Unavailable"})]})]})}},"../interface/src/pages/setup/manual.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/date-fns/esm/index.js"),l=n.ir(n("../interface/src/components/MAmountField.tsx")),o=n.ir(n("../interface/src/components/MButton.tsx")),d=n.ir(n("../interface/src/components/MDatePicker.tsx")),c=n.ir(n("../interface/src/components/MForm.tsx")),u=n.ir(n("../interface/src/components/MLink.tsx")),m=n.ir(n("../interface/src/components/MLogo.tsx")),f=n.ir(n("../interface/src/components/MSelectFrequency.tsx")),x=n.ir(n("../interface/src/components/MSpan.tsx")),p=n.ir(n("../interface/src/components/MStepper.tsx")),g=n.ir(n("../interface/src/components/MTextField.tsx")),h=n("../interface/src/hooks/bankAccounts.ts"),b=n("../interface/src/hooks/fundingSchedules.ts"),j=n("../interface/src/hooks/links.ts"),k=n.ir(n("../interface/src/models/FundingSchedule.ts")),y=n("../interface/src/util/amounts.ts");let w={budgetName:"",accountName:"",startingBalance:0,nextPayday:(0,i.startOfTomorrow)(),ruleset:"",paydayAmount:0};function v(e){let t=(0,j.useCreateLink)(),n=(0,h.useCreateBankAccount)(),l=(0,b.useCreateFundingSchedule)(),d=(0,a.useNavigate)(),[u,f]=(0,r.useState)(0),x=(0,r.useCallback)(()=>{f(e=>Math.min(e+1,3))},[f]),g=(0,r.useCallback)(()=>{f(e=>Math.max(e-1,0))},[f]),v=(0,r.useCallback)(e=>{let t={};return""===e.budgetName.trim()&&(t.budgetName="You must provide a name for your budget."),""===e.accountName.trim()&&(t.accountName="You must provide a name for your account."),!e.nextPayday&&(t.nextPayday="You must provide a date."),t},[]),I=(0,r.useCallback)(async(e,s)=>{if(u<3){x();return}return s.setSubmitting(!0),t({institutionName:e.budgetName,customInstitutionName:e.budgetName}).then(t=>n({linkId:t.linkId,name:e.accountName,availableBalance:(0,y.friendlyToAmount)(e.startingBalance),currentBalance:(0,y.friendlyToAmount)(e.startingBalance),accountType:"depository",accountSubType:"checking"})).then(t=>l(new k.default({bankAccountId:t.bankAccountId,name:"Payday",nextRecurrence:(0,i.startOfDay)(e.nextPayday),ruleset:e.ruleset,estimatedDeposit:(0,y.friendlyToAmount)(e.paydayAmount),excludeWeekends:!1}))).then(e=>d(`/bank/${e.bankAccountId}/transactions`)).catch(e=>{throw e})},[t,n,l,d,u,x]);return(0,s.jsxs)("div",{className:"w-full h-full flex justify-between items-center gap-8 flex-col p-4 md:p-2 overflow-auto",children:[(0,s.jsx)("div",{className:"p-0 md:p-8 w-full",children:(0,s.jsx)(p.default,{steps:["Intro","Account","Balances","Income"],activeIndex:u})}),(0,s.jsxs)(c.default,{initialValues:w,validate:v,onSubmit:I,className:"flex flex-col md:justify-center items-center max-w-sm h-full",children:[(0,s.jsx)(m.default,{className:"w-24 h-24"}),(0,s.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-2",children:[(0,s.jsx)(function(){switch(u){case 0:return(0,s.jsx)(N,{});case 1:return(0,s.jsx)(S,{});case 2:return(0,s.jsx)(A,{});case 3:return(0,s.jsx)(_,{});default:return null}},{}),(0,s.jsx)(function(){switch(u){case 0:return(0,s.jsx)(o.default,{color:"primary",onClick:x,children:"Next"});case 3:return(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(o.default,{color:"primary",onClick:g,children:"Back"}),(0,s.jsx)(o.default,{color:"primary",type:"submit",children:"Finish"})]});default:return(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(o.default,{color:"primary",onClick:g,children:"Back"}),(0,s.jsx)(o.default,{color:"primary",onClick:x,children:"Next"})]})}},{})]}),(0,s.jsx)(function(){return e.alreadyOnboarded?null:(0,s.jsx)(M,{})},{})]}),(0,s.jsx)("div",{className:"md:h-28"})]})}function N(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(x.default,{size:"2xl",weight:"medium",children:"Welcome to monetr!"}),(0,s.jsx)(x.default,{size:"lg",color:"subtle",className:"text-center",children:"Let's create a new budget to get started. What do you want to call this budget?"}),(0,s.jsx)(g.default,{name:"budgetName",label:"Budget Name",className:"w-full",placeholder:"My Primary Bank",required:!0})]})}function S(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(x.default,{size:"lg",color:"subtle",className:"text-center",children:"What do you want to call the primary account you want to use for budgeting? For example; your checking account?"}),(0,s.jsx)(g.default,{name:"accountName",label:"Account Name",className:"w-full",placeholder:"My Checking Account",required:!0})]})}function A(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(x.default,{size:"lg",color:"subtle",className:"text-center",children:"What is your current available balance? monetr will use this as a starting point, you can modify this at any time later on."}),(0,s.jsx)(l.default,{name:"startingBalance",label:"Starting Balance",className:"w-full",required:!0,allowNegative:!1})]})}function _(){return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(x.default,{size:"lg",color:"subtle",className:"text-center",children:"How often do you get paid and how much do you get paid typically? monetr uses this to forecast balances based on the budgets you create."}),(0,s.jsx)(d.default,{name:"nextPayday",label:"When do you get paid next?",className:"w-full",required:!0,min:(0,i.startOfTomorrow)()}),(0,s.jsx)(f.default,{dateFrom:"nextPayday",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How often do you get paid?",placeholder:"Select a funding frequency...",required:!0,className:"w-full text-start",name:"ruleset"}),(0,s.jsx)(l.default,{name:"paydayAmount",label:"How much do you usually get paid?",className:"w-full",required:!0,allowNegative:!1})]})}function M(){return(0,s.jsxs)("div",{className:"flex justify-center gap-1 mt-4",children:[(0,s.jsx)(x.default,{color:"subtle",size:"sm",children:"Not ready to continue?"}),(0,s.jsx)(u.default,{to:"/logout",size:"sm",children:"Logout for now"})]})}},"../interface/src/pages/subscription.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/material/index.js"),i=n("../node_modules/notistack/notistack.esm.js"),l=n.ir(n("../interface/src/components/Logo/CenteredLogo.tsx")),o=n.ir(n("../interface/src/hooks/useMountEffect.ts")),d=n.ir(n("../interface/src/util/request.ts"));function c(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,r.useNavigate)();return(0,o.default)(()=>{(0,d.default)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(n=>{e(n?.response?.data?.error||"Failed to navigate to billing portal.",{variant:"error",disableWindowBlurListener:!0}),t("/")})}),(0,s.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,s.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,s.jsx)(a.Typography,{variant:"h5",className:"w-full text-center",children:"Loading the billing portal..."})}),(0,s.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,s.jsx)(a.CircularProgress,{})})]})})}},"../interface/src/pages/transaction/details.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return y}});var s=n("../node_modules/react/jsx-runtime.js");n("../node_modules/react/index.js");var r=n("../node_modules/react-router-dom/dist/index.js"),a=n("../node_modules/@mui/icons-material/esm/index.js"),i=n.ir(n("../interface/src/components/MAmountField.tsx")),l=n.ir(n("../interface/src/components/MButton.tsx")),o=n.ir(n("../interface/src/components/MCheckbox.tsx")),d=n.ir(n("../interface/src/components/MDatePicker.tsx")),c=n.ir(n("../interface/src/components/MerchantIcon.tsx")),u=n.ir(n("../interface/src/components/MForm.tsx")),m=n.ir(n("../interface/src/components/MSelectSpending.tsx")),f=n.ir(n("../interface/src/components/MSpan.tsx")),x=n.ir(n("../interface/src/components/MTextField.tsx")),p=n.ir(n("../interface/src/components/MTopNavigation.tsx")),g=n.ir(n("../interface/src/components/transactions/SimilarTransactions.tsx")),h=n("../interface/src/hooks/transactions.ts"),b=n("../interface/src/hooks/useAuthentication.ts"),j=n.ir(n("../interface/src/models/Transaction.ts")),k=n("../interface/src/util/amounts.ts");function y(){let e=(0,b.useAuthentication)(),{transactionId:t}=(0,r.useParams)(),n=(0,h.useUpdateTransaction)(),y=t||null,{data:w,isLoading:v,isError:N}=(0,h.useTransaction)(y);if(v)return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(f.default,{className:"text-5xl",children:"One moment..."})});if(!y&&!v)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(f.default,{className:"text-2xl",children:"There wasn't an expense specified..."})]});if((N||!w)&&!v)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(a.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(f.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(f.default,{className:"text-2xl",children:"We weren't able to load details for the transaction specified..."})]});async function S(e,t){let s=new j.default({...w,name:e.name,spendingId:e.spendingId});return t.setSubmitting(!0),n(s).finally(()=>t.setSubmitting(!1))}let A={name:w.name,originalName:w.originalName,date:w.date,spendingId:w.spendingId,isPending:w.isPending,amount:(0,k.amountToFriendly)(w.amount,e.account.locale,w.currency)};return(0,s.jsxs)(u.default,{initialValues:A,enableReinitialize:!0,onSubmit:S,className:"flex w-full h-full flex-col",children:[(0,s.jsx)(p.default,{icon:a.ShoppingCartOutlined,title:"Transactions",base:`/bank/${w.bankAccountId}/transactions`,breadcrumb:w?.name,children:(0,s.jsxs)(l.default,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",children:[(0,s.jsx)(a.SaveOutlined,{}),"Save Changes"]})}),(0,s.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,s.jsx)(c.default,{name:w?.name})}),(0,s.jsx)(x.default,{id:"transaction-name-search",label:"Name",placeholder:"Transaction name...",name:"name",className:"w-full"}),(0,s.jsx)(x.default,{label:"Original Name",placeholder:"No original name...?",name:"originalName",className:"w-full",disabled:!0}),(0,s.jsx)(i.default,{className:"w-full",disabled:!0,label:"Amount",name:"amount"}),(0,s.jsx)(d.default,{label:"Date",name:"date",className:"w-full",disabled:!0}),(0,s.jsx)(o.default,{id:"transaction-details-pending","data-testid":"transaction-details-pending",name:"isPending",label:"Is Pending",description:"Transaction has not yet cleared, the name or amount may change.",className:"w-full",disabled:!0}),!w.getIsAddition()&&(0,s.jsx)(m.default,{className:"w-full",name:"spendingId"})]}),(0,s.jsx)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:(0,s.jsx)(g.default,{transaction:w})})]})})]})}},"../interface/src/pages/transactions.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return k}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n.ir(n("../node_modules/react-infinite-scroll-hook/dist/react-infinite-scroll-hook.esm.js")),i=n("../node_modules/react-router-dom/dist/index.js"),l=n("../node_modules/@mui/icons-material/esm/index.js"),o=n("../node_modules/date-fns/esm/index.js"),d=n.ir(n("../interface/node_modules/ramda/es/index.js")),c=n("../interface/src/components/MButton.tsx"),u=n.ir(n("../interface/src/components/MSpan.tsx")),m=n.ir(n("../interface/src/components/MTopNavigation.tsx")),f=n.ir(n("../interface/src/components/transactions/TransactionDateItem.tsx")),x=n.ir(n("../interface/src/components/transactions/TransactionItem.tsx")),p=n("../interface/src/hooks/links.ts"),g=n("../interface/src/hooks/transactions.ts"),h=n("../interface/src/hooks/useAppConfiguration.ts"),b=n("../interface/src/modals/UploadTransactions/UploadTransactionsModal.tsx");let j=0;function k(){let{result:e}=(0,h.useAppConfigurationSink)(),{isLoading:t,isError:n,isFetching:k,fetchNextPage:y,result:w,hasNextPage:v}=(0,g.useTransactions)(),{data:N}=(0,p.useCurrentLink)(),S=(0,r.useRef)(null),A=(0,i.useNavigationType)(),_=(0,r.useCallback)(()=>{j=S.current.scrollTop},[S]);(0,r.useEffect)(()=>{if(!S.current)return;"POP"===A&&(S.current.scrollTop=j);let e=S.current;return S.current.addEventListener("scroll",_),()=>{e.removeEventListener("scroll",_)}},[S.current,A,_]);let M=t||k,[I]=(0,a.default)({loading:M,hasNextPage:v,onLoadMore:y,disabled:n,rootMargin:"0px 0px 0px 0px"});if(t)return(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,s.jsx)(u.default,{className:"text-5xl",children:"One moment..."})});if(n)return(0,s.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,s.jsx)(l.HeartBroken,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,s.jsx)(u.default,{className:"text-5xl",children:"Something isn't right..."}),(0,s.jsx)(u.default,{className:"text-2xl",children:"We weren't able to retrieve transactions at this time..."})]});function T(){return N?.getIsManual()&&e?.manualEnabled?(0,s.jsxs)(c.MBaseButton,{color:"primary",className:"gap-1 py-1 px-2",onClick:b.showUploadTransactionsModal,children:[(0,s.jsx)(l.UploadOutlined,{}),"Upload"]}):null}let C="No more transactions...";return(M?C="Loading...":v&&(C="Load more?"),t||0!==w.length)?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(m.default,{icon:l.ShoppingCartOutlined,title:"Transactions",children:(0,s.jsx)(T,{})}),(0,s.jsx)("div",{className:"flex flex-grow min-w-0 min-h-0",children:(0,s.jsxs)("ul",{className:"w-full overflow-y-auto",ref:S,children:[(0,s.jsx)(function(){return d.pipe(d.groupBy(e=>(0,o.format)(e.date,"yyyy-MM-dd")),d.mapObjIndexed((e,t)=>({transactions:e,group:(0,o.parse)(t,"yyyy-MM-dd",new Date)})),d.values,d.map(({transactions:e,group:t})=>(0,s.jsx)("li",{children:(0,s.jsxs)("ul",{className:"flex gap-2 flex-col",children:[(0,s.jsx)(f.default,{date:t}),e.map(e=>(0,s.jsx)(x.default,{transaction:e},e.transactionId))]})},(0,o.getUnixTime)(t))))(w)},{}),M&&(0,s.jsx)("li",{ref:I,children:(0,s.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,s.jsx)("h1",{children:C})})}),!M&&v&&(0,s.jsx)("li",{ref:I,children:(0,s.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,s.jsx)("h1",{children:C})})}),!M&&!v&&(0,s.jsx)("li",{children:(0,s.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,s.jsx)("h1",{children:C})})})]})})]}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(m.default,{icon:l.ShoppingCartOutlined,title:"Transactions",children:(0,s.jsx)(T,{})}),(0,s.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,s.jsx)("div",{className:"w-full flex justify-center space-x-4",children:(0,s.jsx)(l.ShoppingCartOutlined,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})}),(0,s.jsx)(u.default,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any transactions yet..."}),(0,s.jsx)(u.default,{size:"lg",color:"subtle",className:"text-center",children:"Transactions will show up here once we receive them from Plaid. Or the current account might not support transaction data from Plaid."})]})})]})}},"../interface/src/pages/verify/email.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return d},VerifyEmailView:function(){return c}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n.ir(n("../interface/src/components/MLogo.tsx")),l=n.ir(n("../interface/src/components/MSpan.tsx")),o=n.ir(n("../interface/src/util/request.ts"));function d(){let e=(0,a.useLocation)(),t=(0,a.useNavigate)();function n(e,n="/login"){window.alert(e),t(n)}let i=e.search,l=new URLSearchParams(i),d=l.get("token");return(0,r.useEffect)(()=>{if(!d){n("Email verification link is not valid.");return}(0,o.default)().post("/authentication/verify",{token:d}).then(e=>n(e?.data?.message||"Your email has been verified, please login.",e?.data?.nextUrl||"/login")).catch(e=>n(e?.response?.data?.error||"Failed to verify email address.",e?.response?.data?.nextUrl))},[d]),(0,s.jsx)(c,{})}function c(){return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center gap-2 p-4",children:[(0,s.jsx)(i.default,{className:"h-24 w-24"}),(0,s.jsx)(l.default,{size:"2xl",weight:"bold",children:"Email Verification"}),(0,s.jsx)(l.default,{size:"xl",className:"text-center",children:"Your email is being verified, one moment..."})]})}},"../interface/src/pages/verify/email/resend.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return h},AfterEmailVerificationSent:function(){return b}});var s=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),a=n("../node_modules/react-router-dom/dist/index.js"),i=n("../node_modules/notistack/notistack.esm.js"),l=n.ir(n("../interface/src/components/MButton.tsx")),o=n.ir(n("../interface/src/components/MCaptcha.tsx")),d=n.ir(n("../interface/src/components/MForm.tsx")),c=n.ir(n("../interface/src/components/MLink.tsx")),u=n.ir(n("../interface/src/components/MLogo.tsx")),m=n.ir(n("../interface/src/components/MSpan.tsx")),f=n.ir(n("../interface/src/components/MTextField.tsx")),x=n("../interface/src/hooks/useAppConfiguration.ts"),p=n.ir(n("../interface/src/util/request.ts")),g=n.ir(n("../interface/src/util/verifyEmailAddress.ts"));function h(){let{enqueueSnackbar:e}=(0,i.useSnackbar)(),t=(0,x.useAppConfiguration)(),{state:n}=(0,a.useLocation)(),h={email:n&&n.emailAddress||void 0,captcha:null},[j,k]=(0,r.useState)(!1);async function y(t){return(0,p.default)().post("/authentication/verify/resend",{email:t.email,captcha:t.captcha}).then(()=>k(!0)).catch(t=>void e(t?.response?.data?.error||"Failed to resend verification link",{variant:"error",disableWindowBlurListener:!0}))}async function w(e,t){return t.setSubmitting(!0),y(e).finally(()=>t.setSubmitting(!1))}return j?(0,s.jsx)(b,{}):(0,s.jsx)(d.default,{initialValues:h,onSubmit:w,validate:function(e){let t={};return e.email&&!(0,g.default)(e.email)&&(t.email="Please provide a valid email address."),t},className:"w-full h-full flex flex-col justify-center items-center gap-2 p-4",children:(0,s.jsxs)("div",{className:"max-w-xs flex flex-col items-center gap-2",children:[(0,s.jsx)(u.default,{className:"h-24 w-24"}),(0,s.jsx)(function(){return n?(0,s.jsx)(m.default,{className:"text-center",size:"sm","data-testid":"resend-email-included",children:"It looks like your email address has not been verified. Do you want to resend the email verification link?"}):(0,s.jsx)(m.default,{className:"text-center",size:"sm","data-testid":"resend-email-excluded",children:"If your email verification link has expired, or you never got one. You can enter your email address below and another verification link will be sent to you."})},{}),(0,s.jsx)(f.default,{name:"email",autoComplete:"username",autoFocus:!0,label:"Email",className:"w-full","data-testid":"resend-email"}),(0,s.jsx)(o.default,{name:"captcha",show:!!t?.ReCAPTCHAKey,"data-testid":"resend-captcha"}),(0,s.jsx)(l.default,{type:"submit",color:"primary",className:"w-full",children:"Resend Verification"}),(0,s.jsxs)("div",{className:"mt-1 flex justify-center gap-1",children:[(0,s.jsx)(m.default,{color:"subtle",className:"text-sm",children:"Don't need to resend?"}),(0,s.jsx)(c.default,{to:"/login",size:"sm","data-testid":"login-signup",children:"Return to login"})]})]})})}function b(){return(0,s.jsx)("div",{className:"h-full w-full flex flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 max-w-xs items-center",children:[(0,s.jsx)(u.default,{className:"h-24 w-24"}),(0,s.jsx)(m.default,{className:"text-center",size:"lg",children:"A new verification link was sent to your email address..."}),(0,s.jsx)("div",{className:"mt-1 flex justify-center gap-1",children:(0,s.jsx)(c.default,{to:"/login",size:"sm","data-testid":"login-signup",children:"Return to login"})})]})})}},"../interface/src/components/Recurrence/Recurrence.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../node_modules/rrule/dist/esm/index.js");class r{name;rule;constructor(e){e&&Object.assign(this,e)}ruleString(){return this.rule.toString()}equalRule(e){try{let t=(0,s.rrulestr)(e);t.options.dtstart=null,t.options.byhour=null,t.options.byminute=null,t.options.bysecond=null,t.options.tzid=null;let n=this.rule.clone();n.options.dtstart=null,n.options.byhour=null,n.options.byminute=null,n.options.bysecond=null,t.options.tzid=null;let r=JSON.stringify(t.options),a=JSON.stringify(n.options);return r===a}catch{return console.warn("cannot compare invalid rrules",e,this),!1}}}},"../interface/src/components/Recurrence/getRecurrencesForDate.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/date-fns/esm/index.js"),r=n.ir(n("../interface/src/components/Recurrence/Recurrence.ts")),a=n("../node_modules/rrule/dist/esm/index.js");function i(e){let t;if("string"==typeof e)t=(0,s.parseJSON)(e);else{if(!e)return[];t=e}let n=(0,s.startOfDay)(t),i=(0,s.startOfDay)((0,s.endOfMonth)(n)),o=(0,s.startOfDay)((0,s.startOfMonth)(n)),d=(0,s.isEqual)(n,o),c=(0,s.isEqual)(n,i),u=(0,s.format)(n,"EEEE"),m=function(e){switch((0,s.format)(e,"EEEE")){case"Monday":return a.RRule.MO;case"Tuesday":return a.RRule.TU;case"Wednesday":return a.RRule.WE;case"Thursday":return a.RRule.TH;case"Friday":return a.RRule.FR;case"Saturday":return a.RRule.SA;default:return a.RRule.SU}}(n),f=c?" last day of the month":l((0,s.getDate)(n)),x=[new r.default({name:`Every ${u}`,rule:new a.RRule({dtstart:n,freq:a.RRule.WEEKLY,interval:1,byweekday:[m]})}),new r.default({name:`Every other ${u}`,rule:new a.RRule({dtstart:n,freq:a.RRule.WEEKLY,interval:2,byweekday:[m]})}),new r.default({name:`Every month on the ${f}`,rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:1,bymonthday:(0,s.getDate)(n)})}),new r.default({name:`Every other month on the ${f}`,rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:2,bymonthday:(0,s.getDate)(n)})}),new r.default({name:`Every 3 months (quarter) on the ${f}`,rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:3,bymonthday:(0,s.getDate)(n)})}),new r.default({name:`Every 6 months on the ${f}`,rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:6,bymonthday:(0,s.getDate)(n)})}),new r.default({name:`Every year on the ${l((0,s.getDate)(n))} of ${(0,s.format)(n,"MMMM")}`,rule:new a.RRule({dtstart:n,freq:a.RRule.YEARLY,interval:1,bymonth:(0,s.getMonth)(n)+1,bymonthday:(0,s.getDate)(n)})})];return(d||15===(0,s.getDate)(n))&&x.push(new r.default({name:"1st and 15th of every month",rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:1,bymonthday:[1,15]})})),(c||15===(0,s.getDate)(n))&&x.push(new r.default({name:"15th and last day of every month",rule:new a.RRule({dtstart:n,freq:a.RRule.MONTHLY,interval:1,bymonthday:[15,-1]})})),x}function l(e){let t=e%10,n=e%100;return 1===t&&11!==n?`${e}st`:2===t&&12!==n?`${e}nd`:3===t&&13!==n?`${e}rd`:`${e}th`}},"../interface/src/hooks/balances.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useCurrentBalance",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../interface/src/hooks/bankAccounts.ts"),a=n.ir(n("../interface/src/models/Balance.ts"));function i(){let e=(0,r.useSelectedBankAccountId)(),t=(0,s.useQuery)([`/bank_accounts/${e}/balances`],{enabled:!!e});return t?.data&&new a.default(t?.data)}},"../interface/src/hooks/bankAccounts.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useBankAccounts:function(){return o},useCreateBankAccount:function(){return d},useSelectedBankAccount:function(){return c},useSelectedBankAccountId:function(){return u}});var s=n("../node_modules/react-router-dom/dist/index.js"),r=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),a=n("../interface/src/hooks/links.ts"),i=n.ir(n("../interface/src/models/BankAccount.ts")),l=n.ir(n("../interface/src/util/request.ts"));function o(){let{data:e}=(0,a.useLinks)();return(0,r.useQuery)(["/bank_accounts"],{enabled:!!e&&e.length>0,select:e=>e.map(e=>new i.default(e))})}function d(){let e=(0,r.useQueryClient)();async function t(e){return(0,l.default)().post("/bank_accounts",e).then(e=>new i.default(e?.data))}let n=(0,r.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData(["/bank_accounts"],e=>(e??[]).concat(t)),e.setQueriesData([`/bank_accounts/${t.bankAccountId}`],t)])});return n.mutateAsync}function c(){let e=(0,r.useQueryClient)(),t=(0,s.useMatch)("/bank/:bankId/*"),n=t?.params?.bankId||null;if(!n&&t?.params?.bankId)throw Error(`invalid bank account ID specified: "${t?.params?.bankId}" is not a valid bank account ID`);return(0,r.useQuery)([`/bank_accounts/${n}`],{enabled:!!n,select:e=>!!e&&new i.default(e),initialData:()=>e.getQueryData(["/bank_accounts"])?.find(e=>e.bankAccountId===n),initialDataUpdatedAt:()=>e.getQueryState(["/bank_accounts"])?.dataUpdatedAt})}function u(){let{data:e}=c();return e?.bankAccountId}},"../interface/src/hooks/forecast.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useNextFundingForecast:function(){return i},Forecast:function(){return l},Event:function(){return o},SpendingEvent:function(){return d},FundingEvent:function(){return c},useForecast:function(){return u}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../node_modules/date-fns/esm/index.js"),a=n("../interface/src/hooks/bankAccounts.ts");function i(e){let t=(0,a.useSelectedBankAccountId)();return(0,s.useQuery)([`/bank_accounts/${t}/forecast/next_funding`,{fundingScheduleId:e}],{enabled:!!t,select:e=>e.nextContribution})}n("../interface/src/util/request.ts");class l{startingTime;endingTime;startingBalance;endingBalance;events;constructor(e){e&&Object.assign(this,{...e,startingTime:(0,r.parseJSON)(e.startingTime),endingTime:(0,r.parseJSON)(e.endingTime),events:(e?.events||[]).map(e=>new o(e))})}}class o{balance;contribution;date;delta;funding;spending;transaction;constructor(e){e&&Object.assign(this,{...e,date:(0,r.parseJSON)(e.date),funding:(e?.funding||[]).map(e=>new c(e)),spending:(e?.spending||[]).map(e=>new d(e))})}}class d{contributionAmount;date;funding;rollingAllocation;spendingId;transactionAmount;constructor(e){e&&Object.assign(this,{...e,date:(0,r.parseJSON)(e.date),funding:(e?.funding||[]).map(e=>new c(e))})}}class c{date;fundingScheduleId;originalDate;weekendAvoided;constructor(e){e&&Object.assign(this,{...e,date:(0,r.parseJSON)(e.date),originalDate:(0,r.parseJSON)(e.originalDate)})}}function u(){let e=(0,a.useSelectedBankAccountId)(),t=(0,s.useQuery)([`/bank_accounts/${e}/forecast`],{enabled:!!e});return{...t,result:t?.data?new l(t.data):null}}},"../interface/src/hooks/fundingSchedules.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useFundingSchedulesSink:function(){return o},useNextFundingDate:function(){return d},useFundingSchedule:function(){return c},useCreateFundingSchedule:function(){return u},useUpdateFundingSchedule:function(){return m},useRemoveFundingSchedule:function(){return f}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../node_modules/date-fns/esm/index.js"),a=n("../interface/src/hooks/bankAccounts.ts"),i=n.ir(n("../interface/src/models/FundingSchedule.ts")),l=n.ir(n("../interface/src/util/request.ts"));function o(){let e=(0,a.useSelectedBankAccountId)();return(0,s.useQuery)([`/bank_accounts/${e}/funding_schedules`],{enabled:!!e,select:e=>e.map(e=>new i.default(e))})}function d(){let{data:e}=o(),t=e?.sort((e,t)=>(0,r.isBefore)(e.nextRecurrence,t.nextRecurrence)?1:-1).pop();return t?(0,r.format)(t.nextRecurrence,"M/dd"):null}function c(e){let t=(0,a.useSelectedBankAccountId)();return(0,s.useQuery)([`/bank_accounts/${t}/funding_schedules/${e}`],{enabled:!!t&&!!e,select:e=>e?.fundingScheduleId?new i.default(e):null})}function u(){let e=(0,s.useQueryClient)();async function t(e){return(0,l.default)().post(`/bank_accounts/${e.bankAccountId}/funding_schedules`,e).then(e=>new i.default(e?.data))}let n=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${t.bankAccountId}/funding_schedules`],e=>e.concat(t)),e.setQueriesData([`/bank_accounts/${t.bankAccountId}/funding_schedules/${t.fundingScheduleId}`],t)])});return n.mutateAsync}function m(){let e=(0,s.useQueryClient)();async function t(e){return(0,l.default)().put(`/bank_accounts/${e.bankAccountId}/funding_schedules/${e.fundingScheduleId}`,e).then(e=>e.data)}let n=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${t.fundingSchedule.bankAccountId}/funding_schedules`],e=>e.map(e=>e.fundingScheduleId===t.fundingSchedule.fundingScheduleId?t.fundingSchedule:e)),e.setQueriesData([`/bank_accounts/${t.fundingSchedule.bankAccountId}/funding_schedules/${t.fundingSchedule.fundingScheduleId}`],t.fundingSchedule),e.setQueriesData([`/bank_accounts/${t.fundingSchedule.bankAccountId}/spending`],e=>e.map(e=>(t.spending||[]).find(t=>t.spendingId===e.spendingId)||e)),(t.spending||[]).map(n=>e.setQueriesData([`/bank_accounts/${t.fundingSchedule.bankAccountId}/spending/${n.spendingId}`],n)),e.invalidateQueries([`/bank_accounts/${t.fundingSchedule.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${t.fundingSchedule.bankAccountId}/forecast/next_funding`])])});return n.mutateAsync}function f(){let e=(0,s.useQueryClient)();async function t(e){return(0,l.default)().delete(`/bank_accounts/${e.bankAccountId}/funding_schedules/${e.fundingScheduleId}`).then(()=>e)}let n=(0,s.useMutation)(t,{onSuccess:({bankAccountId:t,fundingScheduleId:n})=>Promise.all([e.setQueriesData([`/bank_accounts/${t}/funding_schedules`],e=>e.filter(e=>e.fundingScheduleId!==n)),e.removeQueries([`/bank_accounts/${t}/funding_schedules/${n}`])])});return n.mutateAsync}},"../interface/src/hooks/institutions.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useInstitution",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n.ir(n("../interface/src/models/Institution.ts"));function a(e){let t=(0,s.useQuery)([`/institutions/${e}`],{staleTime:18e5,enabled:!!e});return{...t,result:new r.default(t.data)}}},"../interface/src/hooks/links.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useLinks:function(){return d},useLink:function(){return c},useCurrentLink:function(){return u},useCreateLink:function(){return m},useRemoveLink:function(){return f},useTriggerManualPlaidSync:function(){return x}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../node_modules/notistack/notistack.esm.js"),a=n("../interface/src/hooks/bankAccounts.ts"),i=n("../interface/src/hooks/useAuthentication.ts"),l=n.ir(n("../interface/src/models/Link.ts")),o=n.ir(n("../interface/src/util/request.ts"));function d(){let{result:{user:e,isActive:t,mfaPending:n}}=(0,i.useAuthenticationSink)();return(0,s.useQuery)(["/links"],{enabled:!!e&&t&&!n,select:e=>Array.isArray(e)?e.map(e=>new l.default(e)):[]})}function c(e){let t=(0,s.useQueryClient)();return(0,s.useQuery)([`/links/${e}`],{enabled:!!e,select:e=>new l.default(e),initialData:()=>t.getQueryData(["/links"])?.find(t=>t.linkId===e),initialDataUpdatedAt:()=>t.getQueryState(["/links"])?.dataUpdatedAt})}function u(){let{data:e}=(0,a.useSelectedBankAccount)();return c(e?.linkId)}function m(){let e=(0,s.useQueryClient)();async function t(e){return(0,o.default)().post("/links",e).then(e=>new l.default(e?.data))}let n=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData(["/links"],e=>(e??[]).concat(t)),e.setQueriesData([`/links/${t.linkId}`],t)])});return n.mutateAsync}function f(){let e=(0,s.useQueryClient)();return async function(t){return(0,o.default)().delete(`/links/${t}`).then(()=>void Promise.all([e.setQueriesData(["/links"],e=>e.filter(e=>e.linkId!==t)),e.removeQueries([`/links/${t}`])]))}}function x(){let{enqueueSnackbar:e}=(0,r.useSnackbar)(),t=(0,s.useQueryClient)();return async n=>(0,o.default)().post("/plaid/link/sync",{linkId:n}).then(()=>void e("Triggered a manual sync in the background!",{variant:"success",disableWindowBlurListener:!0})).then(()=>setTimeout(()=>t.invalidateQueries(["/links"]),2e3)).catch(t=>void e(`Failed to trigger a manual sync: ${t?.response?.data?.error||"unknown error"}.`,{variant:"error",disableWindowBlurListener:!0}))}},"../interface/src/hooks/spending.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useSpendingSink:function(){return o},useSpending:function(){return d},useSpendingOld:function(){return c},useSpendingFiltered:function(){return u},useRemoveSpending:function(){return m},useUpdateSpending:function(){return f},useCreateSpending:function(){return x},useTransfer:function(){return p}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../interface/src/hooks/bankAccounts.ts"),a=n.ir(n("../interface/src/models/Balance.ts")),i=n.ir(n("../interface/src/models/Spending.ts")),l=n.ir(n("../interface/src/util/request.ts"));function o(){let e=(0,r.useSelectedBankAccountId)(),t=(0,s.useQuery)([`/bank_accounts/${e}/spending`],{enabled:!!e});return{...t,result:(t?.data||[]).map(e=>new i.default(e))}}function d(e){let t=(0,r.useSelectedBankAccountId)();return(0,s.useQuery)([`/bank_accounts/${t}/spending/${e}`],{enabled:!!t,select:e=>new i.default(e)})}function c(e){let{result:t}=o();return e&&t.find(t=>t.spendingId===e)||null}function u(e){let t=o();return{...t,result:t.result.filter(t=>t.spendingType===e)}}function m(){let e=(0,s.useQueryClient)(),t=(0,r.useSelectedBankAccountId)();async function n(e){return(0,l.default)().delete(`/bank_accounts/${t}/spending/${e}`).then(()=>e)}let{mutate:a}=(0,s.useMutation)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${t}/spending`],e=>e.filter(e=>e.spendingId!==n)),e.removeQueries([`/bank_accounts/${t}/spending/${n}`]),e.invalidateQueries([`/bank_accounts/${t}/balances`]),e.invalidateQueries([`/bank_accounts/${t}/forecast`]),e.invalidateQueries([`/bank_accounts/${t}/forecast/next_funding`])])});return async e=>a(e)}function f(){let e=(0,s.useQueryClient)();async function t(e){return(0,l.default)().put(`/bank_accounts/${e.bankAccountId}/spending/${e.spendingId}`,e).then(e=>new i.default(e?.data))}let{mutate:n}=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${t.bankAccountId}/spending`],e=>e.map(e=>e.spendingId===t.spendingId?t:e)),e.setQueriesData([`/bank_accounts/${t.bankAccountId}/spending/${t.spendingId}`],t),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/balances`]),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/forecast/next_funding`])])});return async e=>n(e)}function x(){let e=(0,s.useQueryClient)();async function t(e){return(0,l.default)().post(`/bank_accounts/${e.bankAccountId}/spending`,e).then(e=>new i.default(e?.data))}let n=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${t.bankAccountId}/spending`],e=>(e||[]).concat(t)),e.setQueriesData([`/bank_accounts/${t.bankAccountId}/spending/${t.spendingId}`],t),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/balances`]),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${t.bankAccountId}/forecast/next_funding`])])});return async e=>n.mutateAsync(e)}function p(){let e=(0,s.useQueryClient)(),t=(0,r.useSelectedBankAccountId)();async function n(e){return(0,l.default)().post(`/bank_accounts/${t}/spending/transfer`,e).then(e=>e.data)}let{mutateAsync:i}=(0,s.useMutation)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${t}/spending`],e=>e.map(e=>n.spending.find(t=>t.spendingId===e.spendingId)||e)),e.setQueriesData([`/bank_accounts/${t}/balances`],e=>new a.default({...e,...n.balance})),e.invalidateQueries([`/bank_accounts/${t}/forecast`]),e.invalidateQueries([`/bank_accounts/${t}/forecast/next_funding`])])});return i}},"../interface/src/hooks/store.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n.ir(n("../node_modules/zustand/esm/index.mjs"));let r=(0,s.default)(e=>({mobileSidebarOpen:!1,setMobileSidebarOpen:t=>e(()=>({mobileSidebarOpen:t}))}));var a=r},"../interface/src/hooks/transactions.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useTransactions:function(){return d},useTransaction:function(){return c},useSimilarTransactions:function(){return u},useUpdateTransaction:function(){return m}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../interface/src/hooks/bankAccounts.ts"),a=n.ir(n("../interface/src/models/Balance.ts")),i=n.ir(n("../interface/src/models/Transaction.ts")),l=n.ir(n("../interface/src/models/TransactionCluster.ts")),o=n.ir(n("../interface/src/util/request.ts"));function d(){let e=(0,r.useSelectedBankAccountId)(),t=(0,s.useInfiniteQuery)([`/bank_accounts/${e}/transactions`],{getNextPageParam:(e,t)=>25*t.length,enabled:!!e});return{...t,hasNextPage:!t?.data?.pages.some(e=>e.length<25),result:t?.data?.pages.flatMap(e=>e).map(e=>new i.default(e))||[]}}function c(e){let t=(0,r.useSelectedBankAccountId)();return(0,s.useQuery)([`/bank_accounts/${t}/transactions/${e}`],{enabled:!!t&&!!e,select:e=>new i.default(e)})}function u(e){return(0,s.useQuery)([`/bank_accounts/${e?.bankAccountId}/transactions/${e?.transactionId}/similar`],{enabled:!!e,select:e=>new l.default(e),retry:!1})}function m(){let e=(0,s.useQueryClient)();async function t(e){return(0,o.default)().put(`/bank_accounts/${e.bankAccountId}/transactions/${e.transactionId}`,e).then(e=>e.data)}let{mutateAsync:n}=(0,s.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${t.transaction.bankAccountId}/transactions`],e=>({...e,pages:e.pages.map(e=>e.map(e=>e.transactionId===t.transaction.transactionId?t.transaction:e))})),e.setQueriesData([`/bank_accounts/${t.transaction.bankAccountId}/transactions/${t.transaction.transactionId}`],t.transaction),e.setQueriesData([`/bank_accounts/${t.transaction.bankAccountId}/spending`],e=>e.map(e=>(t.spending||[]).find(t=>t.spendingId===e.spendingId)||e)),(t.spending||[]).map(n=>e.setQueriesData([`/bank_accounts/${t.transaction.bankAccountId}/spending/${n.spendingId}`],n)),e.setQueriesData([`/bank_accounts/${t.transaction.bankAccountId}/balances`],e=>new a.default({...e,...t.balance})),e.invalidateQueries([`/bank_accounts/${t.transaction.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${t.transaction.bankAccountId}/forecast/next_funding`])])});return n}},"../interface/src/hooks/useAppConfiguration.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{AppConfiguration:function(){return a},useAppConfigurationSink:function(){return i},useAppConfiguration:function(){return l}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../node_modules/date-fns/esm/index.js");class a{requireLegalName;requirePhoneNumber;verifyLogin;verifyRegister;verifyEmailAddress;verifyForgotPassword;ReCAPTCHAKey;allowSignUp;allowForgotPassword;longPollPlaidSetup;requireBetaCode;initialPlan;billingEnabled;iconsEnabled;plaidEnabled;manualEnabled;release;revision;buildType;buildTime;constructor(e){e&&Object.assign(this,{...e,buildTime:e.buildTime&&(0,r.parseJSON)(e.buildTime)})}}function i(){let e=(0,s.useQuery)(["/config"],{staleTime:6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return{result:e?.data&&new a(e.data)||null,...e}}function l(){let{result:e}=i();return e}},"../interface/src/hooks/useAuthentication.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{useAuthenticationSink:function(){return o},useAuthentication:function(){return d},useAfterCheckout:function(){return c}});var s=n.ir(n("../node_modules/@sentry/react/build/esm/index.js")),r=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),a=n("../node_modules/date-fns/esm/index.js"),i=n.ir(n("../interface/src/models/User.ts")),l=n.ir(n("../interface/src/util/request.ts"));function o(){let e=(0,r.useQuery)(["/users/me"],{onSuccess:e=>{e?.user?.accountId&&s.setUser({id:e.user.accountId,username:`account:${e.user.accountId}`})},refetchOnWindowFocus:!0});return{...e,result:{user:e?.data?.user&&new i.default(e?.data?.user),mfaPending:!!e?.data?.mfaPending,isSetup:!!e?.data?.isSetup,isActive:!!e?.data?.isActive,isTrialing:!!e?.data?.isTrialing,activeUntil:e?.data?.activeUntil&&(0,a.parseJSON)(e.data.activeUntil),trialingUntil:e?.data?.trialingUntil&&(0,a.parseJSON)(e.data.trialingUntil),hasSubscription:!!e?.data?.hasSubscription}}}function d(){let{result:{user:e}}=o();return e}function c(){let e=(0,r.useQueryClient)();async function t(e){return(0,l.default)().get(`/billing/checkout/${e}`).then(e=>e.data)}let n=(0,r.useMutation)(t,{onSuccess:t=>Promise.all([e.setQueriesData(["/users/me"],e=>({...e,isActive:t.isActive}))])});return n.mutateAsync}},"../interface/src/hooks/useIconSearch.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIconSearch",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n("../interface/src/hooks/useAppConfiguration.ts");function a(e){let t=(0,r.useAppConfiguration)(),{data:n}=(0,s.useQuery)(["/icons/search",{name:e}],{enabled:!!t?.iconsEnabled&&!!e&&e?.length>0,staleTime:36e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return n}},"../interface/src/hooks/useLogin.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react-router-dom/dist/index.js"),r=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),a=n.ir(n("../interface/src/util/request.ts"));function i(){let e=(0,s.useNavigate)(),t=(0,r.useQueryClient)();return async n=>(0,a.default)().post("/authentication/login",n).then(async n=>t.invalidateQueries(["/users/me"]).then(()=>e(n?.data?.nextUrl||"/"))).catch(async s=>{if(s?.response?.status===428)switch(s?.response?.data?.code){case"PASSWORD_CHANGE_REQUIRED":return e("/password/reset",{state:{message:"You are required to change your password before authenticating.",token:s?.response?.data?.resetToken}});case"MFA_REQUIRED":return t.invalidateQueries(["/users/me"]).then(()=>e("/login/multifactor"));case"EMAIL_NOT_VERIFIED":return e("/verify/email/resend",{state:{emailAddress:n.email}});default:break}throw s})}},"../interface/src/hooks/useLogout.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/@tanstack/react-query/build/lib/index.mjs"),r=n.ir(n("../interface/src/util/request.ts"));function a(){let e=(0,s.useQueryClient)();return async()=>(0,r.default)().get("/authentication/logout").then(()=>e.invalidateQueries(["/users/me"]))}},"../interface/src/hooks/useMountEffect.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../node_modules/react/index.js");function r(e){(0,s.useEffect)(e,[])}},"../interface/src/hooks/useResetPassword.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/react-router-dom/dist/index.js"),r=n("../node_modules/notistack/notistack.esm.js"),a=n.ir(n("../interface/src/util/request.ts"));function i(){let{enqueueSnackbar:e}=(0,r.useSnackbar)(),t=(0,s.useNavigate)();return async(n,s)=>(0,a.default)().post("/authentication/reset",{token:s,password:n}).then(()=>{e("Password has been reset, please login with your new credentials.",{variant:"success",disableWindowBlurListener:!0}),t("/login")}).catch(t=>{let n=t.response.data.error||"Failed to reset password.";throw e(n,{variant:"error",disableWindowBlurListener:!0}),t})}},"../interface/src/hooks/useSendForgotPassword.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/notistack/notistack.esm.js"),r=n.ir(n("../interface/src/util/request.ts"));function a(){let{enqueueSnackbar:e}=(0,s.useSnackbar)();return async(t,n)=>(0,r.default)().post("/authentication/forgot",{email:t,captcha:n}).then(()=>void e("Successfully sent password reset link.",{variant:"success",disableWindowBlurListener:!0})).catch(t=>{let n=t.response.data.error||"Failed to send password reset email.",s="error";t?.response?.status===428&&(s="warning"),e(n,{variant:s,disableWindowBlurListener:!0})})}},"../interface/src/hooks/useSignUp.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n.ir(n("../interface/src/util/request.ts"));function r(){return async e=>(0,s.default)().post("/authentication/register",e).then(e=>e.data)}},"../interface/src/hooks/useTheme.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});var s=n("../node_modules/react/index.js"),r=n.ir(n("../node_modules/tailwindcss/resolveConfig.js")),a=n.ir(n("../interface/src/theme.ts")),i=n.ir(n("../interface/tailwind.config.cjs"));let l=(0,r.default)(i.default);function o(){let[e,t]=(0,s.useState)("dark");return{tailwind:l.theme,material:a.default,mediaColorSchema:e}}},"../interface/src/models/Balance.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../interface/src/util/amounts.ts");class r{bankAccountId;available;current;free;expenses;goals;constructor(e){e&&Object.assign(this,e)}getFreeToUseString(){return(0,s.formatAmount)(this.free)}getAvailableString(){return(0,s.formatAmount)(this.available)}getCurrentString(){return(0,s.formatAmount)(this.current)}getExpensesString(){return(0,s.formatAmount)(this.expenses)}getGoalsString(){return(0,s.formatAmount)(this.goals)}}},"../interface/src/models/BankAccount.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s=n("../node_modules/date-fns/esm/index.js"),r=n.ir(n("../interface/src/models/PlaidBankAccount.ts")),a=n("../interface/src/util/amounts.ts");class i{bankAccountId;linkId;availableBalance;currentBalance;mask;name;originalName;status;accountType;accountSubType;lastUpdated;createdAt;createdBy;plaidBankAccount;constructor(e){e&&Object.assign(this,{...e,plaidBankAccount:e?.plaidBankAccount&&new r.default(e.plaidBankAccount),lastUpdated:e?.lastUpdated&&(0,s.parseJSON)(e.lastUpdated),createdAt:e?.createdAt&&(0,s.parseJSON)(e.createdAt)})}getAvailableBalanceString(){return(0,a.formatAmount)(this.availableBalance)}getCurrentBalanceString(){return(0,a.formatAmount)(this.currentBalance)}}},"../interface/src/models/FundingSchedule.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../node_modules/date-fns/esm/index.js");class r{fundingScheduleId;bankAccountId;name;description;ruleset;lastRecurrence;nextRecurrence;nextRecurrenceOriginal;excludeWeekends;estimatedDeposit;constructor(e){e&&Object.assign(this,{...e,lastRecurrence:e.lastRecurrence&&(0,s.parseJSON)(e.lastRecurrence),nextRecurrence:(0,s.parseJSON)(e.nextRecurrence),nextRecurrenceOriginal:(0,s.parseJSON)(e.nextRecurrenceOriginal)})}}},"../interface/src/models/Institution.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return r},InstitutionStatus:function(){return a},InstitutionPlaidIncident:function(){return i}});var s=n("../node_modules/date-fns/esm/index.js");class r{name;url;primaryColor;logo;status;timestamp;constructor(e){e&&Object.assign(this,{...e,status:new a(e.status),timestamp:new Date})}}class a{transactions_updates;plaidIncidents;constructor(e){e&&Object.assign(this,{...e,plaidIncidents:(e?.plaidIncidents||[]).map(e=>new i(e))})}}class i{start;end;title;constructor(e){e&&Object.assign(this,{...e,start:(0,s.parseJSON)(e.start),end:e.end&&(0,s.parseJSON)(e.end)})}}},"../interface/src/models/Link.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{errorMessages:function(){return l},default:function(){return o}});var s,r,a=n("../node_modules/date-fns/esm/index.js"),i=n.ir(n("../interface/src/models/PlaidLink.ts"));(s=r||(r={}))[s.Unknown=0]="Unknown",s[s.Plaid=1]="Plaid",s[s.Manual=2]="Manual";let l={ITEM_LOGIN_REQUIRED:"This link's authentication has expired and needs to be re-authenticated."};class o{linkId;linkType;institutionName;updatedAt;createdAt;createdBy;plaidLink;constructor(e){e&&Object.assign(this,{...e,plaidLink:e?.plaidLink&&new i.default(e.plaidLink),updatedAt:e.updatedAt&&(0,a.parseJSON)(e.updatedAt),createdAt:e.createdAt&&(0,a.parseJSON)(e.createdAt)})}getName(){return this.institutionName}getIsManual(){return this.linkType===r.Manual}getIsPlaid(){return this.linkType===r.Plaid&&!!this.plaidLink}getCanUpdateAccountSelection(){return this.getIsPlaid()&&this.plaidLink?.newAccountsAvailable===!0}getIsError(){return this.plaidLink?.status===i.PlaidLinkStatus.Error}getErrorMessage(){let e=this.plaidLink?.status;return l[e]||null}}},"../interface/src/models/Login.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});class s{loginId;email;firstName;lastName;totpEnabledAt;constructor(e){e&&Object.assign(this,e)}}},"../interface/src/models/PlaidBankAccount.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../node_modules/date-fns/esm/index.js");class r{name;officialName;mask;availableBalance;currentBalance;limitBalance;createdAt;createdByUserId;constructor(e){e&&Object.assign(this,{...e,createdAt:e?.createdAt&&(0,s.parseJSON)(e.createdAt)})}}},"../interface/src/models/PlaidLink.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{PlaidLinkStatus:function(){return r},default:function(){return i}});var s,r,a=n("../node_modules/date-fns/esm/index.js");(s=r||(r={}))[s.Unknown=0]="Unknown",s[s.Pending=1]="Pending",s[s.Setup=2]="Setup",s[s.Error=3]="Error",s[s.PendingExpiration=4]="PendingExpiration",s[s.Revoked=5]="Revoked";class i{products;status;errorCode;expirationDate;newAccountsAvailable;institutionId;institutionName;lastManualSync;lastSuccessfulUpdate;lastAttemptedUpdate;updatedAt;createdAt;createdByUserId;constructor(e){e&&Object.assign(this,{...e,expirationDate:e?.expirationDate&&(0,a.parseJSON)(e.expirationDate),lastManualSync:e?.lastManualSync&&(0,a.parseJSON)(e.lastManualSync),lastSuccessfulUpdate:e?.lastSuccessfulUpdate&&(0,a.parseJSON)(e.lastSuccessfulUpdate),lastAttemptedUpdate:e?.lastAttemptedUpdate&&(0,a.parseJSON)(e.lastAttemptedUpdate),updatedAt:e?.updatedAt&&(0,a.parseJSON)(e.updatedAt),createdAt:e?.createdAt&&(0,a.parseJSON)(e.createdAt)})}}},"../interface/src/models/Spending.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{SpendingType:function(){return r},default:function(){return l}});var s,r,a=n("../node_modules/date-fns/esm/index.js"),i=n("../interface/src/util/amounts.ts");(s=r||(r={}))[s.Expense=0]="Expense",s[s.Goal=1]="Goal";class l{spendingId;bankAccountId;fundingScheduleId;name;description;spendingType;targetAmount;currentAmount;usedAmount;ruleset;lastRecurrence;nextRecurrence;nextContributionAmount;isBehind;isPaused;dateCreated;constructor(e){e&&Object.assign(this,{...e,lastRecurrence:e.lastRecurrence&&(0,a.parseJSON)(e.lastRecurrence),nextRecurrence:e.nextRecurrence&&(0,a.parseJSON)(e.nextRecurrence),dateCreated:e.dateCreated&&(0,a.parseJSON)(e.dateCreated)})}getNextOccurrenceString(){return(0,a.isThisYear)(this.nextRecurrence)?(0,a.format)(this.nextRecurrence,"MMM do"):(0,a.format)(this.nextRecurrence,"MMM do, yyyy")}getTargetAmountString(){return(0,i.formatAmount)(this.targetAmount)}getTargetAmountDollars(){return(0,i.amountToFriendly)(this.targetAmount)}getCurrentAmountString(e="en_US"){return(0,i.formatAmount)(this.currentAmount,i.AmountType.Stored,e)}getUsedAmountString(){return(0,i.formatAmount)(this.usedAmount)}getNextContributionAmountString(){return(0,i.formatAmount)(this.nextContributionAmount)}getIsExpense(){return this.spendingType===r.Expense}getIsGoal(){return this.spendingType===r.Goal}getGoalIsInProgress(){return this.currentAmount+this.usedAmount<this.targetAmount}getGoalSavedAmountString(){return(0,i.formatAmount)(this.currentAmount+this.usedAmount)}}},"../interface/src/models/Transaction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var s=n("../node_modules/date-fns/esm/index.js"),r=n("../interface/src/util/amounts.ts");class a{transactionId;bankAccountId;amount;spendingId;spendingAmount;categories;date;authorizedDate;name;originalName;merchantName;originalMerchantName;isPending;currency;createdAt;constructor(e){e&&Object.assign(this,{...e,date:(0,s.parseJSON)(e.date),authorizedDate:e.authorizedDate??(0,s.parseJSON)(e.authorizedDate),createdAt:(0,s.parseJSON)(e.createdAt)})}getAmountString(e="en_US"){let t=Math.abs(this.amount);return this.amount<0?`+ ${(0,r.formatAmount)(t,r.AmountType.Stored,e,this.currency)}`:(0,r.formatAmount)(t,r.AmountType.Stored,e,this.currency)}getIsAddition(){return this.amount<0}getName(){return this.name?this.name:this.originalName}getTitle(){if(this.name)return this.name;if(this.merchantName)return this.merchantName;if(this.originalMerchantName)return this.originalMerchantName;return this.originalName}getOriginalName(){return this.originalName}getMerchantName(){return this.merchantName?this.merchantName:this.originalMerchantName}getMainCategory(){return this.categories&&this.categories.length>0?this.categories[0]:"Other"}}},"../interface/src/models/TransactionCluster.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../node_modules/date-fns/esm/index.js");class r{transactionClusterId;bankAccountId;name;members;createdAt;constructor(e){e?Object.assign(this,{...e,createdAt:e.createdAt??(0,s.parseJSON)(e.createdAt)}):Object.assign(this,{members:[]})}}},"../interface/src/models/TransactionUpload.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});var s,r,a=n("../node_modules/date-fns/esm/index.js");(s=r||(r={})).Pending="pending",s.Processing="processing",s.Failed="failed",s.Complete="complete";class i{transactionUploadId;bankAccountId;fileId;file;status;error;createdAt;createdBy;processedAt;completedAt;constructor(e){e&&Object.assign(this,{...e,createdAt:e?.createdAt&&(0,a.parseJSON)(e?.createdAt),processedAt:e?.processedAt&&(0,a.parseJSON)(e?.processedAt),completedAt:e?.completedAt&&(0,a.parseJSON)(e?.completedAt)})}}},"../interface/src/models/User.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n.ir(n("../interface/src/models/Login.ts"));class r{userId;loginId;accountId;account;login;constructor(e){e&&Object.assign(this,{...e,login:new s.default(e?.login)})}}},"../interface/src/util/amounts.ts":function(e,t,n){"use strict";var s,r;Object.defineProperty(t,"__esModule",{value:!0});function a(e,t="en_US",n="USD"){let s=t.replace("_","-"),r=new Intl.NumberFormat(s,{style:"currency",currency:n}).resolvedOptions(),a=Math.pow(10,r.maximumFractionDigits);return+Math.fround(e/a).toFixed(r.maximumFractionDigits)}function i(e,t="en_US",n="USD"){let s=t.replace("_","-"),r=new Intl.NumberFormat(s,{style:"currency",currency:n}).resolvedOptions(),a=Math.pow(10,r.maximumFractionDigits);return+Math.round(e*a).toFixed(0)}function l(e,t=s.Stored,n="en_US",r="USD"){let a=n.replace("_","-"),i=new Intl.NumberFormat(a,{style:"currency",currency:r}),l=e;if(t===s.Stored){let t=i.resolvedOptions(),n=Math.pow(10,t.maximumFractionDigits);l=+Math.fround(e/n).toFixed(t.maximumFractionDigits)}return i.format(l)}!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{AmountType:function(){return s},amountToFriendly:function(){return a},friendlyToAmount:function(){return i},formatAmount:function(){return l}}),(r=s||(s={}))[r.Stored=0]="Stored",r[r.Friendly=1]="Friendly"},"../interface/src/util/capitalize.ts":function(e,t,n){"use strict";function s(e){let t=e.charAt(0).toUpperCase(),n=e.slice(1);return t+n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}})},"../interface/src/util/fileSize.ts":function(e,t,n){"use strict";function s(e,t=!1,n=1){let s=t?1e3:1024;if(Math.abs(e)<s)return`${e} B`;let r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1,i=10**n;do e/=s,++a;while(Math.round(Math.abs(e)*i)/i>=s&&a<r.length-1);return`${e.toFixed(n)} ${r[a]}`}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}})},"../interface/src/util/locale.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function s(){let e=Intl.DateTimeFormat().resolvedOptions().locale;return!e&&void 0!=navigator.languages&&(e=navigator.languages[0]),!e&&(e=navigator.language),e.replace("-","_")}function r(){return Intl.DateTimeFormat().resolvedOptions().timeZone}!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getLocale:function(){return s},getTimezone:function(){return r}})},"../interface/src/util/mergeTailwind.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});var s=n("../interface/node_modules/tailwind-merge/dist/tailwind-merge.mjs");function r(...e){let t=e.map(e=>"object"!=typeof e||Array.isArray(e)?e:Object.keys(e).filter(t=>!!e[t]));return(0,s.twMerge)(t)}},"../interface/src/util/sortAccounts.ts":function(e,t,n){"use strict";function s(e){if(!e)return[];let t=["loan","credit","depository"],n=["money market","mortgage","credit card","savings","checking"],s=e.sort((e,s)=>{let r=[e,s],a=[0,0];for(let e=0;e<2;e++){let s="inactive"===r[e].status?-2:1;a[e]+=t.indexOf(r[e].accountType),a[e]+=n.indexOf(r[e].accountSubType),a[e]*=s}return a[0]<a[1]?1:a[0]>a[1]?-1:0});return s}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}})},"../interface/src/util/verifyEmailAddress.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function r(e){return s.test(e.toLowerCase())}}}]);