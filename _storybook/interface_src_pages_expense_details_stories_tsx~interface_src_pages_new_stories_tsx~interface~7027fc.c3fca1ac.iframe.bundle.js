(self.webpackChunk_monetr_stories=self.webpackChunk_monetr_stories||[]).push([["interface_src_pages_expense_details_stories_tsx~interface_src_pages_new_stories_tsx~interface~7027fc"],{"../interface/src/pages/password/forgot.tsx":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{ForgotPasswordComplete:function(){return w},default:function(){return h}});var r=t("../node_modules/react/jsx-runtime.js"),a=t("../node_modules/react/index.js"),l=t.ir(t("../interface/src/components/MButton.tsx")),n=t.ir(t("../interface/src/components/MCaptcha.tsx")),i=t.ir(t("../interface/src/components/MForm.tsx")),o=t.ir(t("../interface/src/components/MLink.tsx")),c=t.ir(t("../interface/src/components/MLogo.tsx")),u=t.ir(t("../interface/src/components/MSpan.tsx")),d=t.ir(t("../interface/src/components/MTextField.tsx")),f=t("../interface/src/hooks/useAppConfiguration.ts"),m=t.ir(t("../interface/src/hooks/useSendForgotPassword.ts")),x=t.ir(t("../interface/src/util/verifyEmailAddress.ts"));let p={email:"",captcha:null};function w(){return(0,r.jsxs)("div",{className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,r.jsx)("div",{className:"max-w-[128px] w-full",children:(0,r.jsx)(c.default,{})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(u.default,{children:"Check your email"}),(0,r.jsx)(u.default,{color:"subtle",className:"max-w-[248px] text-center text-sm",children:"If a user was found with the email provided, then you should receive an email with instructions on how to reset your password."})]}),(0,r.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,r.jsx)(u.default,{color:"subtle",className:"text-sm",children:"Return to"}),(0,r.jsx)(o.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}function h(){let e=(0,f.useAppConfiguration)(),s=(0,m.default)(),[t,h]=(0,a.useState)(!1);async function j(e,t){return t.setSubmitting(!0),s(e.email,e.captcha).then(()=>h(!0)).finally(()=>t.setSubmitting(!1))}return t?(0,r.jsx)(w,{}):(0,r.jsxs)(i.default,{initialValues:p,validate:function(e){let s={};return e.email&&!(0,x.default)(e.email)&&(s.email="Please provide a valid email address."),s},onSubmit:j,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,r.jsx)("div",{className:"max-w-[128px] w-full",children:(0,r.jsx)(c.default,{})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(u.default,{children:"Forgot your password?"}),(0,r.jsx)(u.default,{color:"subtle",className:"text-sm",children:"We can email you a link to reset it."})]}),(0,r.jsx)(d.default,{autoFocus:!0,autoComplete:"username",label:"Email Address",name:"email",type:"email",required:!0,className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2"}),(0,r.jsx)(n.default,{className:"mb-1",name:"captcha",show:!!e?.verifyForgotPassword}),(0,r.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,r.jsx)(l.default,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})}),(0,r.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,r.jsx)(u.default,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,r.jsx)(o.default,{to:"/login",size:"sm",children:"Sign in"})]})]})}},"../interface/src/hooks/useSendForgotPassword.ts":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});var r=t("../node_modules/notistack/notistack.esm.js"),a=t.ir(t("../interface/src/util/request.ts"));function l(){let{enqueueSnackbar:e}=(0,r.useSnackbar)();return async(s,t)=>(0,a.default)().post("/authentication/forgot",{email:s,captcha:t}).then(()=>void e("Successfully sent password reset link.",{variant:"success",disableWindowBlurListener:!0})).catch(s=>{let t=s.response.data.error||"Failed to send password reset email.",r="error";s?.response?.status===428&&(r="warning"),e(t,{variant:r,disableWindowBlurListener:!0})})}}}]);