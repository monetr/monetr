"use strict";(self.webpackChunk_monetr_stories=self.webpackChunk_monetr_stories||[]).push([["291"],{"../interface/src/pages/app.stories.tsx":function(e,n,t){t.r(n),t.d(n,{default:()=>i8,Transactions:()=>i9,__namedExportsOrder:()=>le});var a,s,i,l=t("../node_modules/react/jsx-runtime.js"),r=t("../node_modules/react/index.js"),d=t("../node_modules/axios-mock-adapter/src/index.js"),o=t.n(d),c=t("../node_modules/react-router-dom/dist/index.js"),u=t("../node_modules/@mui/icons-material/esm/ErrorOutline.js"),m=t("../node_modules/@mui/icons-material/esm/PlusOne.js"),p=t("../node_modules/@mui/icons-material/esm/Settings.js"),g=t("../node_modules/@mui/icons-material/esm/Logout.js"),x=t("../node_modules/date-fns/esm/formatDistance/index.js"),h=t("../node_modules/lucide-react/dist/esm/icons/credit-card.js"),f=t("../interface/node_modules/@radix-ui/react-tooltip/dist/index.mjs"),b=t("../interface/node_modules/tailwind-merge/dist/lib/tw-merge.mjs");function v(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let a=n.map(e=>"object"!=typeof e||Array.isArray(e)?e:Object.keys(e).filter(n=>!!e[n]));return(0,b.m)(a)}f.zt;let j=f.fC,w=f.xz,y=r.forwardRef((e,n)=>{let{className:t,sideOffset:a=4,...s}=e;return(0,l.jsx)(f.VY,{ref:n,sideOffset:a,className:v("z-50 overflow-hidden","rounded-md border border-dark-monetr-border","bg-dark-monetr-background","px-3 py-1.5","text-sm text-popover-foreground","shadow-md animate-in fade-in-0 zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2",t),...s})});y.displayName=f.VY.displayName,y.__docgenInfo={description:"",methods:[],props:{sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};var N=t("../node_modules/@swc/helpers/esm/_define_property.js"),k=t("../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),A=t("../node_modules/date-fns/esm/parseJSON/index.js");class I{constructor(e){(0,N._)(this,"requireLegalName",void 0),(0,N._)(this,"requirePhoneNumber",void 0),(0,N._)(this,"verifyLogin",void 0),(0,N._)(this,"verifyRegister",void 0),(0,N._)(this,"verifyEmailAddress",void 0),(0,N._)(this,"verifyForgotPassword",void 0),(0,N._)(this,"ReCAPTCHAKey",void 0),(0,N._)(this,"allowSignUp",void 0),(0,N._)(this,"allowForgotPassword",void 0),(0,N._)(this,"longPollPlaidSetup",void 0),(0,N._)(this,"requireBetaCode",void 0),(0,N._)(this,"initialPlan",void 0),(0,N._)(this,"billingEnabled",void 0),(0,N._)(this,"iconsEnabled",void 0),(0,N._)(this,"plaidEnabled",void 0),(0,N._)(this,"manualEnabled",void 0),(0,N._)(this,"release",void 0),(0,N._)(this,"revision",void 0),(0,N._)(this,"buildType",void 0),(0,N._)(this,"buildTime",void 0),e&&Object.assign(this,{...e,buildTime:e.buildTime&&(0,A.Z)(e.buildTime)})}}function T(){let e=(0,k.a)(["/config"],{staleTime:6e4,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return{result:(null==e?void 0:e.data)&&new I(e.data)||null,...e}}function _(){let{result:e}=T();return e}var S=t("../node_modules/@sentry/core/build/esm/exports.js"),C=t("../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),E=t("../node_modules/@tanstack/react-query/build/lib/useMutation.mjs");class R{constructor(e){(0,N._)(this,"loginId",void 0),(0,N._)(this,"email",void 0),(0,N._)(this,"firstName",void 0),(0,N._)(this,"lastName",void 0),(0,N._)(this,"totpEnabledAt",void 0),e&&Object.assign(this,e)}}class M{constructor(e){(0,N._)(this,"userId",void 0),(0,N._)(this,"loginId",void 0),(0,N._)(this,"accountId",void 0),(0,N._)(this,"account",void 0),(0,N._)(this,"login",void 0),e&&Object.assign(this,{...e,login:new R(null==e?void 0:e.login)})}}var L=t("../interface/src/util/request.ts");function Z(){var e,n,t,a,s,i,l,r,d;let o=(0,k.a)(["/users/me"],{onSuccess:e=>{var n;(null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.accountId)&&S.av({id:e.user.accountId,username:`account:${e.user.accountId}`})},refetchOnWindowFocus:!0});return{...o,result:{user:(null==o?void 0:null===(e=o.data)||void 0===e?void 0:e.user)&&new M(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.user),mfaPending:!!(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.mfaPending),isSetup:!!(null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.isSetup),isActive:!!(null==o?void 0:null===(s=o.data)||void 0===s?void 0:s.isActive),isTrialing:!!(null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.isTrialing),activeUntil:(null==o?void 0:null===(l=o.data)||void 0===l?void 0:l.activeUntil)&&(0,A.Z)(o.data.activeUntil),trialingUntil:(null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.trialingUntil)&&(0,A.Z)(o.data.trialingUntil),hasSubscription:!!(null==o?void 0:null===(d=o.data)||void 0===d?void 0:d.hasSubscription)}}}function D(){let{result:{user:e}}=Z();return e}function P(){let e=_(),{result:n}=Z(),t="/settings/billing";return(null==e?void 0:e.billingEnabled)?(null==n?void 0:n.isTrialing)?(0,l.jsxs)(j,{delayDuration:100,children:[(0,l.jsx)(w,{children:(0,l.jsxs)(c.rU,{to:t,"data-testid":"bank-sidebar-subscription",className:"relative group",children:[(0,l.jsx)(h.Z,{className:"dark:group-hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer mt-1.5"}),(0,l.jsxs)("span",{className:"absolute flex h-2 w-2 right-0 bottom-0",children:[(0,l.jsx)("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-yellow-400"}),(0,l.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-yellow-500"})]})]})}),(0,l.jsxs)(y,{side:"right",children:["Your trial ends in ",(0,x.Z)(n.trialingUntil,new Date),"."]})]}):(0,l.jsx)(c.rU,{to:t,"data-testid":"bank-sidebar-subscription",children:(0,l.jsx)(h.Z,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})}):null}P.__docgenInfo={description:"",methods:[],displayName:"BankSidebarSubscriptionItem"};let q="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTU2LjE3IDEzMy44MiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5hIHsKICAgICAgICBmaWxsOiAjMDA5M2E2OwogICAgICB9CgogICAgICAuYiB7CiAgICAgICAgZmlsbDogIzIzMWYyMDsKICAgICAgfQoKICAgICAgLmMgewogICAgICAgIGZpbGw6IHVybCgjYSk7CiAgICAgIH0KCiAgICAgIC5kIHsKICAgICAgICBmaWxsOiB1cmwoI2IpOwogICAgICB9CgogICAgICAuZSB7CiAgICAgICAgZmlsbDogI2ZmNTc5ODsKICAgICAgfQoKICAgICAgLmYgewogICAgICAgIGZpbGw6IHVybCgjYyk7CiAgICAgIH0KCiAgICAgIC5nIHsKICAgICAgICBmaWxsOiB1cmwoI2QpOwogICAgICB9CgogICAgICAuaCB7CiAgICAgICAgZmlsbDogIzRlMWFhMDsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjQ0MS42MyIgeTE9IjQ0NC4wOCIgeDI9IjQ0OC4wMyIgeTI9IjUyMS41MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM4MjlhZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMmNlZGZmIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNTYxLjU3IiB5MT0iNDQ2LjU0IiB4Mj0iNTUxLjA5IiB5Mj0iNTE5LjMxIiB4bGluazpocmVmPSIjYSIvPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJjIiB4MT0iNDMzLjc0IiB5MT0iNDA4LjE3IiB4Mj0iNTA0LjQ4IiB5Mj0iNTAzLjM2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzcyMDBlMSIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmMDU2YTMiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSI1NjkuODIiIHkxPSI0MDQuOTUiIHgyPSI0ODAuMzEiIHkyPSI1MTEuNDkiIHhsaW5rOmhyZWY9IiNjIi8+CiAgPC9kZWZzPgogIDxnPgogICAgPHBhdGggY2xhc3M9ImEiIGQ9Ik01NzgsNDA0Ljc5YTE0LjA4LDE0LjA4LDAsMCwwLTMuNTEtMTEuMTJjLTQuODUtNS4xNi0xMS42NS00LjE0LTEyLjItNC4wNUg1MzkuOWMuNDQsMi0uNjEsNC4yNS0zLjE5LDQuMDYtOC4xNy0uNjEtMTIuMiw2Ljg1LTE4LDExLjMyLTEuODMsMS40LTMuNjIuNDUtNC40NC0xLjE2TDUwMCw0MTYuN2wtMTkuMzUtMTcuNDFhMi44NCwyLjg0LDAsMCwxLTIuNjIuMTYsNDMuODUsNDMuODUsMCwwLDEtOC4xOS0zLjg4LDEyLjkzLDEyLjkzLDAsMCwwLTMuMjktMS45NSwxNi4zNCwxNi4zNCwwLDAsMC00LjUzLS4xMSwzLjI1LDMuMjUsMCwwLDEtMy4yNy0zLjg5aC0yMWExNC43LDE0LjcsMCwwLDAtNy4zNS45MWwtLjUxLjIxLS4xMSwwYTEyLjg2LDEyLjg2LDAsMCwwLTQuNTYsMy4zNUExNC4xMSwxNC4xMSwwLDAsMCw0MjIsNDA0Ljc5aDBWNTA5LjIzYTEyLjg0LDEyLjg0LDAsMCwwLDIwLjM1LDExLjY2bDI4LjQ4LTI4LjQ1aDBjOC42OSw4Ljk0LDEzLjY5LDE2LjkxLDI3LjY2LDE2LjkxLDE3LjMsMCwyMy4yMy04LDMwLjY3LTE2LjkxbDI4LjQ3LDI4LjQ1QTEyLjg1LDEyLjg1LDAsMCwwLDU3OCw1MDkuMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTQyOS44NSwzOTAuNzRsLjUxLS4yMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJjIiBkPSJNNDIyLDQwNC43OWExNC4yNSwxNC4yNSwwLDAsMSw0LTExLjQ2LDEzLjQ4LDEzLjQ4LDAsMCwxLDMuNzEtMi41NSwxMi44NiwxMi44NiwwLDAsMC00LjU2LDMuMzVBMTQuMTgsMTQuMTgsMCwwLDAsNDIyLDQwNC43OVY1MDkuMjNhMTIuODQsMTIuODQsMCwwLDAsMjAuMzUsMTEuNjZsMjguNDgtMjguNDVMNDIyLDQ0NC41M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJiIiBkPSJNNDU4LjcxLDM4OS42MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJiIiBkPSJNNTYyLjI3LDM4OS42MmgwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImQiIGQ9Ik01NzgsNDQ0LjUzbC00OC44Myw0Ny45MWgwbDI4LjQ3LDI4LjQ1QTEyLjg1LDEyLjg1LDAsMCwwLDU3OCw1MDkuMjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTU3NC44MSwzOTQuMTNBMTQuMTgsMTQuMTgsMCwwLDEsNTc4LDQwNC43OWgwYTE0LjA4LDE0LjA4LDAsMCwwLTMuNTEtMTEuMTJjLTQuODUtNS4xNi0xMS42NS00LjE0LTEyLjItNC4wNUM1NjIuNzksMzg5LjU0LDU3MCwzODguNiw1NzQuODEsMzk0LjEzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImIiIGQ9Ik00MjkuNzQsMzkwLjc4bC4xMSwwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImUiIGQ9Ik00NzAuODMsNDkyLjQ0aDBjOC42OSw4Ljk0LDEzLjY5LDE2LjkxLDI3LjY2LDE2LjkxLDE3LjMsMCwyMy4yMy04LDMwLjY3LTE2LjkxTDUwMCw0NjMuMzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDIxLjkxIC0zODkuNDgpIi8+CiAgICA8cGF0aCBjbGFzcz0iYiIgZD0iTTQzNy43MSwzODkuNjJhMTQuNywxNC43LDAsMCwwLTcuMzUuOTFBMTUuOTEsMTUuOTEsMCwwLDEsNDM3LjcxLDM4OS42MloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJmIiBkPSJNNDQ5Ljk0LDQxMy4zMWExMy43MywxMy43MywwLDAsMSw4Ljc3LTIzLjY5aC0yMWExNS45MSwxNS45MSwwLDAsMC03LjM1LjkxbC0uNTEuMjEtLjExLDBhMTMuNDgsMTMuNDgsMCwwLDAtMy43MSwyLjU1LDE0LjI1LDE0LjI1LDAsMCwwLTQsMTEuNDZ2MzkuNzRsNDguODMsNDcuOTFMNTAwLDQ2My4zMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjEuOTEgLTM4OS40OCkiLz4KICAgIDxwYXRoIGNsYXNzPSJnIiBkPSJNNTc4LDQ0NC41M1Y0MDQuNzloMGExNC4xOCwxNC4xOCwwLDAsMC0zLjE4LTEwLjY2Yy00Ljc5LTUuNTMtMTItNC41OS0xMi41My00LjUxaC0yMWExMy43MywxMy43MywwLDAsMSw4Ljc3LDIzLjY5bC01MC4wNiw1MCwyOS4xNywyOS4xM2gwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogICAgPHBhdGggY2xhc3M9ImgiIGQ9Ik00NDYuNDMsMzk4Ljc3YTEzLjc3LDEzLjc3LDAsMCwwLDMuNTEsMTQuNTRsNTAuMDUsNTAsNTAuMDYtNTBhMTMuNzMsMTMuNzMsMCwwLDAtOC43Ny0yMy42OWgwYTI5LjE5LDI5LjE5LDAsMCwwLTE5LjUyLDcuNDlMNTAwLDQxNi43bC0yMS43OC0xOS42YTI5LjE0LDI5LjE0LDAsMCwwLTE5LjUxLTcuNDhoMEExMy43OSwxMy43OSwwLDAsMCw0NDYuNDMsMzk4Ljc3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQyMS45MSAtMzg5LjQ4KSIvPgogIDwvZz4KPC9zdmc+Cg==";var z=t("../node_modules/lucide-react/dist/esm/icons/landmark.js"),O=t("../node_modules/react-router/dist/index.js"),F=t("../node_modules/notistack/notistack.esm.js");var U=((a={})[a.Unknown=0]="Unknown",a[a.Pending=1]="Pending",a[a.Setup=2]="Setup",a[a.Error=3]="Error",a[a.PendingExpiration=4]="PendingExpiration",a[a.Revoked=5]="Revoked",a);class B{constructor(e){(0,N._)(this,"products",void 0),(0,N._)(this,"status",void 0),(0,N._)(this,"errorCode",void 0),(0,N._)(this,"expirationDate",void 0),(0,N._)(this,"newAccountsAvailable",void 0),(0,N._)(this,"institutionId",void 0),(0,N._)(this,"institutionName",void 0),(0,N._)(this,"lastManualSync",void 0),(0,N._)(this,"lastSuccessfulUpdate",void 0),(0,N._)(this,"lastAttemptedUpdate",void 0),(0,N._)(this,"updatedAt",void 0),(0,N._)(this,"createdAt",void 0),(0,N._)(this,"createdByUserId",void 0),e&&Object.assign(this,{...e,expirationDate:(null==e?void 0:e.expirationDate)&&(0,A.Z)(e.expirationDate),lastManualSync:(null==e?void 0:e.lastManualSync)&&(0,A.Z)(e.lastManualSync),lastSuccessfulUpdate:(null==e?void 0:e.lastSuccessfulUpdate)&&(0,A.Z)(e.lastSuccessfulUpdate),lastAttemptedUpdate:(null==e?void 0:e.lastAttemptedUpdate)&&(0,A.Z)(e.lastAttemptedUpdate),updatedAt:(null==e?void 0:e.updatedAt)&&(0,A.Z)(e.updatedAt),createdAt:(null==e?void 0:e.createdAt)&&(0,A.Z)(e.createdAt)})}}let Y={ITEM_LOGIN_REQUIRED:"This link's authentication has expired and needs to be re-authenticated."};class G{getName(){return this.institutionName}getIsManual(){return 2===this.linkType}getIsPlaid(){return 1===this.linkType&&!!this.plaidLink}getCanUpdateAccountSelection(){var e;return this.getIsPlaid()&&(null===(e=this.plaidLink)||void 0===e?void 0:e.newAccountsAvailable)===!0}getIsError(){var e;return(null===(e=this.plaidLink)||void 0===e?void 0:e.status)===U.Error}getIsPendingExpiration(){var e;return(null===(e=this.plaidLink)||void 0===e?void 0:e.status)===U.PendingExpiration}getErrorMessage(){var e;return Y[null===(e=this.plaidLink)||void 0===e?void 0:e.status]||null}constructor(e){(0,N._)(this,"linkId",void 0),(0,N._)(this,"linkType",void 0),(0,N._)(this,"institutionName",void 0),(0,N._)(this,"updatedAt",void 0),(0,N._)(this,"createdAt",void 0),(0,N._)(this,"createdBy",void 0),(0,N._)(this,"plaidLink",void 0),e&&Object.assign(this,{...e,plaidLink:(null==e?void 0:e.plaidLink)&&new B(e.plaidLink),updatedAt:e.updatedAt&&(0,A.Z)(e.updatedAt),createdAt:e.createdAt&&(0,A.Z)(e.createdAt)})}}function V(){let{result:{user:e,isActive:n,mfaPending:t}}=Z();return(0,k.a)(["/links"],{enabled:!!e&&n&&!t,select:e=>Array.isArray(e)?e.map(e=>new G(e)):[]})}function W(e){let n=(0,C.NL)();return(0,k.a)([`/links/${e}`],{enabled:!!e,select:e=>new G(e),initialData:()=>{var t;return null===(t=n.getQueryData(["/links"]))||void 0===t?void 0:t.find(n=>n.linkId===e)},initialDataUpdatedAt:()=>{var e;return null===(e=n.getQueryState(["/links"]))||void 0===e?void 0:e.dataUpdatedAt}})}function H(){let{data:e}=et();return W(null==e?void 0:e.linkId)}class Q{constructor(e){(0,N._)(this,"name",void 0),(0,N._)(this,"officialName",void 0),(0,N._)(this,"mask",void 0),(0,N._)(this,"availableBalance",void 0),(0,N._)(this,"currentBalance",void 0),(0,N._)(this,"limitBalance",void 0),(0,N._)(this,"createdAt",void 0),(0,N._)(this,"createdByUserId",void 0),e&&Object.assign(this,{...e,createdAt:(null==e?void 0:e.createdAt)&&(0,A.Z)(e.createdAt)})}}function $(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",a=n.replace("_","-"),s=new Intl.NumberFormat(a,{style:"currency",currency:t}).resolvedOptions();return+Math.fround(e/Math.pow(10,s.maximumFractionDigits)).toFixed(s.maximumFractionDigits)}function K(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",a=n.replace("_","-");return+Math.round(e*Math.pow(10,new Intl.NumberFormat(a,{style:"currency",currency:t}).resolvedOptions().maximumFractionDigits)).toFixed(0)}var J=((s={})[s.Stored=0]="Stored",s[s.Friendly=1]="Friendly",s);function X(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en_US",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD",s=t.replace("_","-"),i=new Intl.NumberFormat(s,{style:"currency",currency:a}),l=e;if(0===n){let n=i.resolvedOptions();l=+Math.fround(e/Math.pow(10,n.maximumFractionDigits)).toFixed(n.maximumFractionDigits)}return i.format(l)}class ee{getAvailableBalanceString(){return X(this.availableBalance)}getCurrentBalanceString(){return X(this.currentBalance)}constructor(e){(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"linkId",void 0),(0,N._)(this,"availableBalance",void 0),(0,N._)(this,"currentBalance",void 0),(0,N._)(this,"mask",void 0),(0,N._)(this,"name",void 0),(0,N._)(this,"originalName",void 0),(0,N._)(this,"status",void 0),(0,N._)(this,"accountType",void 0),(0,N._)(this,"accountSubType",void 0),(0,N._)(this,"lastUpdated",void 0),(0,N._)(this,"createdAt",void 0),(0,N._)(this,"createdBy",void 0),(0,N._)(this,"plaidBankAccount",void 0),e&&Object.assign(this,{...e,plaidBankAccount:(null==e?void 0:e.plaidBankAccount)&&new Q(e.plaidBankAccount),lastUpdated:(null==e?void 0:e.lastUpdated)&&(0,A.Z)(e.lastUpdated),createdAt:(null==e?void 0:e.createdAt)&&(0,A.Z)(e.createdAt)})}}function en(){let{data:e}=V();return(0,k.a)(["/bank_accounts"],{enabled:!!e&&e.length>0,select:e=>e.map(e=>new ee(e))})}function et(){var e,n,t;let a=(0,C.NL)(),s=(0,O.bS)("/bank/:bankId/*"),i=(null==s?void 0:null===(e=s.params)||void 0===e?void 0:e.bankId)||null;if(!i&&(null==s?void 0:null===(n=s.params)||void 0===n?void 0:n.bankId))throw Error(`invalid bank account ID specified: "${null==s?void 0:null===(t=s.params)||void 0===t?void 0:t.bankId}" is not a valid bank account ID`);return(0,k.a)([`/bank_accounts/${i}`],{enabled:!!i,select:e=>!!e&&new ee(e),initialData:()=>{var e;return null===(e=a.getQueryData(["/bank_accounts"]))||void 0===e?void 0:e.find(e=>e.bankAccountId===i)},initialDataUpdatedAt:()=>{var e;return null===(e=a.getQueryState(["/bank_accounts"]))||void 0===e?void 0:e.dataUpdatedAt}})}function ea(){let{data:e}=et();return null==e?void 0:e.bankAccountId}class es{constructor(e){(0,N._)(this,"name",void 0),(0,N._)(this,"url",void 0),(0,N._)(this,"primaryColor",void 0),(0,N._)(this,"logo",void 0),(0,N._)(this,"status",void 0),(0,N._)(this,"timestamp",void 0),e&&Object.assign(this,{...e,status:new ei(e.status),timestamp:new Date})}}class ei{constructor(e){(0,N._)(this,"transactions_updates",void 0),(0,N._)(this,"plaidIncidents",void 0),e&&Object.assign(this,{...e,plaidIncidents:((null==e?void 0:e.plaidIncidents)||[]).map(e=>new el(e))})}}class el{constructor(e){(0,N._)(this,"start",void 0),(0,N._)(this,"end",void 0),(0,N._)(this,"title",void 0),e&&Object.assign(this,{...e,start:(0,A.Z)(e.start),end:e.end&&(0,A.Z)(e.end)})}}function er(e){if(!e)return[];let n=["loan","credit","depository"],t=["money market","mortgage","credit card","savings","checking"];return e.sort((e,a)=>{let s=[e,a],i=[0,0];for(let e=0;e<2;e++){let a="inactive"===s[e].status?-10:1;i[e]+=n.indexOf(s[e].accountType),i[e]+=t.indexOf(s[e].accountSubType),i[e]*=a}return i[0]<i[1]?1:i[0]>i[1]?-1:0})}function ed(e){var n,t;let{link:a}=e,{result:s}=function(e){let n=(0,k.a)([`/institutions/${e}`],{staleTime:18e5,enabled:!!e});return{...n,result:new es(n.data)}}(null===(n=a.plaidLink)||void 0===n?void 0:n.institutionId),i=et(),{data:r}=en(),d=(null===(t=i.data)||void 0===t?void 0:t.linkId)===a.linkId,o=er(null==r?void 0:r.filter(e=>e.linkId===a.linkId)),u=o.length>0?o[0]:null,m=v("absolute","dark:bg-dark-monetr-border","right-0","rounded-l-xl","transition-transform","w-1.5",{"h-8":d,"scale-y-100":d},{"h-4":!d,"group-hover:scale-y-100":!d,"group-hover:scale-x-100":!d,"scale-x-0":!d,"scale-y-50":!d}),p=a.getName();return a.getIsError()?p=`${p} (Error)`:a.getIsPendingExpiration()&&(p=`${p} (Pending Expiration)`),(0,l.jsxs)(j,{delayDuration:100,children:[(0,l.jsxs)(w,{className:"w-full h-12 flex items-center justify-center relative group","data-testid":`bank-sidebar-item-${a.linkId}`,children:[(0,l.jsx)("div",{className:m}),(0,l.jsxs)(c.rU,{className:"absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle drop-shadow-md flex justify-center items-center",to:`/bank/${null==u?void 0:u.bankAccountId}/transactions`,children:[(0,l.jsx)(()=>(null==s?void 0:s.logo)?(0,l.jsx)("img",{"data-testid":`bank-sidebar-item-${a.linkId}-logo`,src:`data:image/png;base64,${s.logo}`}):(0,l.jsx)(z.Z,{"data-testid":`bank-sidebar-item-${a.linkId}-logo-missing`,className:"text-blue-500"}),{}),(0,l.jsx)(()=>a.getIsError()||a.getIsPendingExpiration()?(0,l.jsxs)("span",{className:"absolute flex h-3 w-3 right-0 bottom-0",children:[(0,l.jsx)("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-yellow-400"}),(0,l.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"})]}):null,{})]})]}),(0,l.jsx)(y,{side:"right",children:p})]})}function eo(e){let n=v("border-0 border-b-[thin] dark:border-dark-monetr-border",e.className);return(0,l.jsx)("hr",{className:n})}ed.__docgenInfo={description:"",methods:[],displayName:"BankSidebarItem",props:{link:{required:!0,tsType:{name:"MonetrLink"},description:""}}},eo.__docgenInfo={description:"",methods:[],displayName:"MDivider",props:{className:{required:!1,tsType:{name:"string"},description:""}}};var ec=t("../node_modules/@mui/icons-material/esm/ArrowBackOutlined.js"),eu=t("../node_modules/@mui/icons-material/esm/MenuOutlined.js"),em=t("../node_modules/@mui/icons-material/esm/MenuOpenOutlined.js");let ep=(0,t("../node_modules/zustand/esm/index.mjs").Ue)(e=>({mobileSidebarOpen:!1,setMobileSidebarOpen:n=>e(()=>({mobileSidebarOpen:n}))}));function eg(e){let n=(0,O.s0)(),{setMobileSidebarOpen:t,mobileSidebarOpen:a}=ep();function s(){e.backButton?n(e.backButton):t(!a)}let i=v("visible lg:hidden","dark:text-dark-monetr-content-emphasis cursor-pointer h-12 flex items-center justify-center",e.className);return e.backButton?(0,l.jsx)("div",{className:i,onClick:s,children:(0,l.jsx)(ec.Z,{})}):(0,l.jsxs)("div",{className:i,onClick:s,children:[!a&&(0,l.jsx)(eu.Z,{}),a&&(0,l.jsx)(em.Z,{})]})}function ex(e){let{data:n,isLoading:t,isError:a}=V();if(t)return(0,l.jsx)(eh,{className:e.className});if(a)return(0,l.jsx)(eh,{className:e.className,children:(0,l.jsx)("div",{className:"w-full h-12 flex items-center justify-center relative group",children:(0,l.jsx)("div",{className:"absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle dark:hover:bg-dark-monetr-background-emphasis drop-shadow-md flex justify-center items-center",children:(0,l.jsx)(u.Z,{className:"text-3xl"})})})});let s=n.sort((e,n)=>{let t=e.getName().toUpperCase(),a=n.getName().toUpperCase();return t<a?-1:t>a?1:0});return(0,l.jsxs)(eh,{className:e.className,children:[s.map(e=>(0,l.jsx)(ed,{link:e},e.linkId)),(0,l.jsx)("div",{className:"w-full h-12 flex items-center justify-center relative group",children:(0,l.jsx)(c.rU,{to:"/link/create",className:"cursor-pointer absolute rounded-full w-10 h-10 dark:bg-dark-monetr-background-subtle dark:hover:bg-dark-monetr-background-emphasis drop-shadow-md flex justify-center items-center",children:(0,l.jsx)(m.Z,{className:"text-3xl"})})})]})}function eh(e){let n=v("border","border-transparent","dark:border-r-dark-monetr-border","flex","flex-col","flex-none","gap-4","h-full","items-center","lg:py-4","pt-2","pb-8","lg:pb-4","w-16",e.className);return(0,l.jsxs)("div",{className:n,"data-testid":"bank-sidebar",children:[(0,l.jsx)(eg,{className:"flex lg:hidden"}),(0,l.jsx)("div",{className:"h-10 w-10",children:(0,l.jsx)("img",{src:q,className:"w-full"})}),(0,l.jsx)(eo,{className:"w-1/2"}),(0,l.jsx)("div",{className:"h-full w-full flex items-center flex-col overflow-y-auto",children:null==e?void 0:e.children}),(0,l.jsx)(P,{}),(0,l.jsx)(ef,{}),(0,l.jsx)(eb,{})]})}function ef(){return(0,l.jsx)(c.rU,{to:"/settings","data-testid":"bank-sidebar-settings",children:(0,l.jsx)(p.Z,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})})}function eb(){return(0,l.jsx)(c.rU,{to:"/logout","data-testid":"bank-sidebar-logout",children:(0,l.jsx)(g.Z,{className:"dark:hover:text-dark-monetr-content-emphasis dark:text-dark-monetr-content-subtle cursor-pointer"})})}eg.__docgenInfo={description:"",methods:[],displayName:"MSidebarToggle",props:{backButton:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}},ex.__docgenInfo={description:"",methods:[],displayName:"BankSidebar",props:{className:{required:!1,tsType:{name:"string"},description:""}}};var ev=t("../node_modules/@mui/icons-material/esm/AccountBalanceWalletOutlined.js"),ej=t("../node_modules/@mui/icons-material/esm/LocalAtmOutlined.js"),ew=t("../node_modules/@mui/icons-material/esm/TollOutlined.js"),ey=t("../node_modules/@mui/icons-material/esm/ShoppingCartOutlined.js"),eN=t("../node_modules/@mui/icons-material/esm/PriceCheckOutlined.js"),ek=t("../node_modules/@mui/icons-material/esm/SavingsOutlined.js"),eA=t("../node_modules/@mui/icons-material/esm/TodayOutlined.js"),eI=t("../node_modules/@mui/icons-material/esm/MoreVert.js"),eT=t("../node_modules/@mui/icons-material/esm/Autorenew.js"),e_=t("../node_modules/@mui/icons-material/esm/PriceChangeOutlined.js"),eS=t("../node_modules/@mui/icons-material/esm/AutorenewOutlined.js"),eC=t("../node_modules/@mui/icons-material/esm/DeleteOutline.js"),eE=t("../node_modules/@mui/material/Popover/Popover.js");let eR={color:"default",size:"inherit"};function eM(e){let n=eL(e={...eR,...e}),t=e.component??"span";return(0,l.jsx)(t,{className:n,"data-testid":e["data-testid"],onClick:e.onClick,children:e.children})}function eL(e){var n;return v("flex gap-2 items-center",{default:["dark:text-dark-monetr-content","text-monetr-content"],muted:["dark:text-dark-monetr-content-muted","text-monetr-content-muted"],subtle:["dark:text-dark-monetr-content-subtle","text-monetr-content-subtle"],emphasis:["dark:text-dark-monetr-content-emphasis","text-monetr-content-emphasis"],inherit:["text-inherit"]}[(e={...eR,...e}).color],{"block text-ellipsis min-w-0 truncate":e.ellipsis},{inherit:"text-size-inherit",xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl"}[e.size],{normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"}[e.weight],{code:"dark:bg-dark-monetr-background-subtle px-1.5 rounded-lg"}[null===(n=e.component)||void 0===n?void 0:n.toString()],e.className)}eM.__docgenInfo={description:"",methods:[],displayName:"MSpan",props:{color:{required:!1,tsType:{name:"union",raw:"'default' | 'muted' | 'subtle' | 'emphasis' | 'inherit'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'muted'"},{name:"literal",value:"'subtle'"},{name:"literal",value:"'emphasis'"},{name:"literal",value:"'inherit'"}]},description:""},ellipsis:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'inherit' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl'",elements:[{name:"literal",value:"'inherit'"},{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"},{name:"literal",value:"'2xl'"},{name:"literal",value:"'3xl'"}]},description:""},weight:{required:!1,tsType:{name:"union",raw:"'normal' | 'medium' | 'semibold' | 'bold'",elements:[{name:"literal",value:"'normal'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'semibold'"},{name:"literal",value:"'bold'"}]},description:""},component:{required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""},children:{required:!0,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var eZ=t("../node_modules/@ebay/nice-modal-react/lib/esm/index.js"),eD=t("../node_modules/@mui/icons-material/esm/DeleteOutlined.js"),eP=t("../node_modules/@mui/material/ButtonBase/ButtonBase.js"),eq=t("../node_modules/formik/dist/formik.esm.js");let ez={disabled:!1,color:"secondary",variant:"solid"};function eO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ez,{disabled:n,color:t,variant:a}={...ez,...e},s=v({primary:{solid:{"dark:bg-dark-monetr-brand":!n,"dark:hover:bg-dark-monetr-brand-subtle":!n,"bg-purple-400":!n,"bg-purple-200":n,"hover:bg-purple-500":!n,"focus-visible:outline-purple-600":!n,"text-white":!0},text:{"dark:text-dark-monetr-brand-faint":!n,"focus-visible:outline-purple-600":!n,"text-purple-400":!n,"text-purple-200":n}},secondary:{solid:{"bg-white":!n,"dark:bg-dark-monetr-background-subtle":!n,"dark:hover:bg-dark-monetr-background-emphasis":!n,"dark:ring-dark-monetr-border":!n,"dark:ring-dark-monetr-border-subtle":n,"dark:text-dark-monetr-content-emphasis":!n,"dark:text-dark-monetr-content-muted":n,"focus-visible:outline-purple-200":!n,"hover:bg-gray-100":!n,"ring-1":!0,"ring-monetr-border-subtle":n,"ring-monetr-border":!n,"ring-inset":!0,"text-gray-400":n,"text-gray-900":!n},text:{"dark:hover:bg-dark-monetr-background-emphasis":!n,"dark:text-dark-monetr-content-emphasis":!n,"dark:text-dark-monetr-content-muted":n,"focus-visible:outline-purple-200":!n,"text-gray-400":n,"text-gray-900":!n},outlined:{"dark:hover:ring-dark-monetr-brand":!n,"dark:focus:ring-dark-monetr-brand":!n,"dark:ring-dark-monetr-border-string":!n,"dark:text-gray-400":!n,"ring-1":!n,"ring-inset":!n,"focus:ring-2":!n,"focus:ring-inset":!n,"min-h-[38px]":!0}},cancel:{solid:{"dark:bg-red-600":!n,"dark:hover:bg-red-500":!n,"bg-dark-monetr-red":!n,"bg-red-200":n,"hover:bg-red-600":!n,"focus-visible:outline-red-600":!n,"text-white":!0},text:{"text-dark-monetr-red":!n,"text-red-200":n,"focus-visible:outline-red-600":!n}}}[t][a],{"shadow-sm":"solid"===a},"focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus:outline-none","font-semibold","px-3","py-1.5","rounded-lg","text-sm",e.className);return(0,l.jsx)(eP.Z,{...e,className:s})}function eF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ez,n=(0,eq.u6)();return e={...ez,...e,disabled:(null==n?void 0:n.isSubmitting)||(null==e?void 0:e.disabled),onSubmit:(null==e?void 0:e.onSubmit)||("submit"===e.type?null==n?void 0:n.submitForm:void 0)},(0,l.jsx)(eO,{...e})}eO.__docgenInfo={description:"",methods:[],displayName:"MBaseButton"},eF.__docgenInfo={description:"",methods:[],displayName:"MFormButton"};let eU=r.forwardRef((e,n)=>{if(!e.open)return null;let t=v("bg-background","overflow-auto","p-2","relative","rounded-none","sm:rounded-lg","shadow-xl","h-screen","sm:h-auto","w-screen","sm:w-full","sm:max-w-lg","pb-6","md:pb-2","transform",e.className);return(0,l.jsxs)("div",{className:"top-0 left-0 absolute z-50 w-screen h-screen overflow-hidden",role:"dialog","aria-modal":"true",children:[(0,l.jsx)("div",{className:"hidden sm:inline sm:fixed inset-0 bg-dark-monetr-background bg-opacity-50 transition-opacity backdrop-blur-sm backdrop-brightness-50"}),(0,l.jsx)("div",{ref:n,className:"fixed inset-0 z-10 overflow-y-hidden h-screen max-h-screen",children:(0,l.jsx)("div",{className:"h-auto flex justify-center p-0 sm:p-4 items-center min-h-full",children:(0,l.jsx)("div",{className:t,children:e.children})})})]})});function eB(e){let n=(0,eZ.dd)(),t=(0,r.useRef)(null),{enqueueSnackbar:a}=(0,F.Ds)(),[s,i]=(0,r.useState)(!1),d=function(){let e=(0,C.NL)();return async function(n){return(0,L.Z)().delete(`/links/${n}`).then(()=>void Promise.all([e.setQueriesData(["/links"],e=>e.filter(e=>e.linkId!==n)),e.removeQueries([`/links/${n}`])]))}}(),o=(0,O.s0)();async function c(){return i(!0),d(e.link.linkId).then(()=>{o("/"),n.remove()}).catch(n=>{var t,s;i(!1),a((null==n?void 0:null===(s=n.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||`Failed to remove ${e.link.getName()}`,{variant:"error",disableWindowBlurListener:!0})})}return(0,l.jsx)(eU,{open:n.visible,ref:t,className:"py-4 md:max-w-md",children:(0,l.jsxs)("div",{className:"h-full flex flex-col gap-4 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)(eM,{weight:"bold",size:"xl",className:"mb-2",children:[(0,l.jsx)(eD.Z,{}),"Remove ",e.link.getName(),"?"]}),(0,l.jsxs)(eM,{size:"lg",weight:"medium",children:["Are you sure you want to remove your ",e.link.getName()," data?"]}),(0,l.jsx)(eM,{size:"lg",children:"All expenses, goals and transactions related to this will be deleted. This cannot be undone."})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(eO,{disabled:s,color:"secondary",onClick:n.remove,children:"Cancel"}),(0,l.jsx)(eO,{disabled:s,color:"cancel",type:"submit",onClick:c,children:"Remove"})]})]})})}eU.__docgenInfo={description:"",methods:[],displayName:"MModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};let eY=eZ.ZP.create(eB);eB.__docgenInfo={description:"",methods:[],displayName:"RemoveLinkModal",props:{link:{required:!0,tsType:{name:"Link"},description:""}}};var eG=t("../node_modules/react-plaid-link/dist/index.umd.js");function eV(e){let n,t,{link:a,updateAccountSelection:s}=e,i=(0,eZ.dd)(),d=(0,C.NL)(),[o,c]=(0,r.useState)({loading:!0,linkToken:null,error:null});(0,r.useEffect)(()=>{(0,L.Z)().put(`/plaid/link/update/${a.linkId}?update_account_selection=${!!s}`).then(e=>c({loading:!1,linkToken:e.data.linkToken})).catch(e=>{throw c({loading:!1,error:e}),e})},[a,s]);let u=(0,r.useCallback)(async(e,n)=>(console.log("plaidOnSuccess",{token:e,metadata:n}),c({loading:!0}),(0,L.Z)().post("/plaid/link/update/callback",{linkId:a.linkId,publicToken:e,accountIds:n.accounts.map(e=>e.id)}).then(()=>Promise.all([d.invalidateQueries(["/bank_accounts"]),d.invalidateQueries(["/links"]),d.invalidateQueries([`/links/${a.linkId}`])])).then(()=>i.remove())),[a,i,d]),m=(0,r.useCallback)((e,n)=>{console.log("plaidOnExit",{error:e,metadata:n}),i.remove()},[i]),p=(0,r.useCallback)((e,n)=>{console.log("plaidOnEvent",{eventName:e,metadata:n})},[]),{error:g,open:x}=(0,eG.usePlaidLink)({token:o.linkToken,onSuccess:u,onExit:m,onEvent:p});return(0,r.useEffect)(()=>{if(g){console.error("PLAID LINK ERROR",g);return}x&&o.linkToken&&x()},[g,x,o.linkToken]),s?(n="Updating Account Selection",t=`One moment while we prepare Plaid to update your account selection for ${a.getName()}.`):(n="Reauthenticating",t=`One moment while we prepare Plaid to reauthenticate your connection to ${a.getName()}.`),(0,l.jsx)(eU,{open:i.visible,className:"py-4 md:max-w-md",children:(0,l.jsx)("div",{className:"h-full flex flex-col gap-4 p-2 justify-between",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",className:"mb-2",children:n}),(0,l.jsx)(eM,{size:"lg",weight:"medium",children:t})]})})})}let eW=eZ.ZP.create(eV);function eH(e){return eZ.ZP.show(eW,e)}function eQ(){let{data:e}=et(),{data:n}=W(null==e?void 0:e.linkId),t=function(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=(0,C.NL)();return async t=>(0,L.Z)().post("/plaid/link/sync",{linkId:t}).then(()=>void e("Triggered a manual sync in the background!",{variant:"success",disableWindowBlurListener:!0})).then(()=>setTimeout(()=>n.invalidateQueries(["/links"]),2e3)).catch(n=>{var t,a;e(`Failed to trigger a manual sync: ${(null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"unknown error"}.`,{variant:"error",disableWindowBlurListener:!0})})}(),[a,s]=(0,r.useState)(null),i=!!a,d=(0,r.useCallback)(()=>s(null),[s]),o=(0,r.useCallback)(e=>{s(e.currentTarget)},[s]),c=(0,r.useCallback)(()=>s(null),[s]),u=(0,r.useCallback)(()=>{d(),eH({link:n})},[d,n]),m=(0,r.useCallback)(()=>{d(),t(null==e?void 0:e.linkId)},[null==e?void 0:e.linkId,d,t]),p=(0,r.useCallback)(()=>{d(),eH({link:n,updateAccountSelection:!0})},[d,n]),g=(0,r.useCallback)(()=>{var e;d(),e={link:n},eZ.ZP.show(eY,e)},[d,n]);return n?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{onClick:o,className:"flex h-12 w-full items-center p-2 dark:text-dark-monetr-content-emphasis dark:hover:bg-dark-monetr-background-emphasis cursor-pointer",children:[(0,l.jsx)("span",{className:"truncate text-xl font-semibold",children:null==n?void 0:n.getName()}),(0,l.jsx)(eI.Z,{className:"ml-auto"})]}),(0,l.jsx)(eo,{className:"w-1/2"}),(0,l.jsx)(eE.ZP,{open:i,anchorEl:a,onClose:c,transitionDuration:100,anchorOrigin:{vertical:"bottom",horizontal:"left"},className:"ml-[5px]",children:(0,l.jsxs)("div",{className:"flex flex-col dark:bg-dark-monetr-background rounded-lg border dark:border-dark-monetr-border-subtle dark:shadow-2xl",style:{width:`${(null==a?void 0:a.offsetWidth)-10}px`},children:[(0,l.jsxs)(e$,{visible:n.getIsPlaid()&&(n.getIsError()||n.getIsPendingExpiration()),onClick:u,children:[(0,l.jsx)(eT.Z,{className:"mr-1 mb-0.5"}),"Reauthenticate"]}),(0,l.jsxs)(e$,{visible:n.getIsPlaid(),onClick:p,children:[(0,l.jsx)(e_.Z,{className:"mr-1 mb-0.5"}),"Update Account Selection"]}),(0,l.jsxs)(e$,{visible:n.getIsPlaid(),onClick:m,children:[(0,l.jsx)(eS.Z,{className:"mr-1 mb-0.5"}),"Manually Resync"]}),(0,l.jsx)(eo,{}),(0,l.jsxs)(e$,{visible:!0,onClick:g,children:[(0,l.jsx)(eC.Z,{className:"mr-1 mb-0.5 dark:text-dark-monetr-red"}),"Remove ",null==n?void 0:n.getName()]})]})})]}):null}function e$(e){let{visible:n,onClick:t,children:a}=e;return n?(0,l.jsx)(eM,{size:"md",weight:"medium",className:"p-2 cursor-pointer dark:hover:bg-dark-monetr-background-emphasis dark:hover:text-dark-monetr-content-emphasis",component:"a",ellipsis:!0,onClick:t,children:a}):null}eV.__docgenInfo={description:"",methods:[],displayName:"UpdatePlaidAccountOverlay",props:{link:{required:!0,tsType:{name:"Link"},description:""},updateAccountSelection:{required:!1,tsType:{name:"boolean"},description:""}}},eQ.__docgenInfo={description:"",methods:[],displayName:"BudgetingSidebarTitle"};var eK=t("../node_modules/date-fns/esm/formatDistanceToNow/index.js");function eJ(e){var n,t,a,s,i;let r=W(null==e?void 0:e.linkId);if(!(null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.plaidLink))return null;let d=(null==r?void 0:null===(a=r.data)||void 0===a?void 0:null===(t=a.plaidLink)||void 0===t?void 0:t.lastSuccessfulUpdate)?(0,eK.Z)(r.data.plaidLink.lastSuccessfulUpdate):"Never",o=(null==r?void 0:null===(i=r.data)||void 0===i?void 0:null===(s=i.plaidLink)||void 0===s?void 0:s.lastAttemptedUpdate)?(0,eK.Z)(r.data.plaidLink.lastAttemptedUpdate):"Never";return(0,l.jsxs)("div",{className:"p-2 group border-[thin] dark:border-dark-monetr-border rounded-lg w-full ease-in-out transition-[height] h-16 lg:h-10 lg:hover:h-16 hover:delay-0 delay-500 hover:dark:border-dark-monetr-border-string",children:[(0,l.jsxs)(eM,{size:"sm",color:"subtle",children:["Last Updated: ",d," ago"]}),(0,l.jsxs)(eM,{size:"sm",color:"subtle",className:"transition-opacity opacity-100 lg:opacity-0 lg:group-hover:opacity-100 delay-500 group-hover:delay-0",children:["Last Attempt: ",o," ago"]})]})}eJ.__docgenInfo={description:"",methods:[],displayName:"PlaidLastUpdatedCard",props:{linkId:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}};var eX=t("../node_modules/@radix-ui/react-slot/dist/index.mjs"),e0=t("../node_modules/class-variance-authority/dist/index.mjs");let e1=(0,e0.j)(["focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus:outline-none","font-semibold","inline-flex items-center gap-1 justify-center","rounded-lg","enabled:active:brightness-110","[&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0","disabled:pointer-events-none"],{variants:{variant:{primary:["bg-monetr-brand enabled:hover:bg-dark-monetr-brand-subtle disabled:bg-purple-200","focus-visible:outline-purple-600","text-dark-monetr-content-emphasis","shadow-sm"],secondary:["bg-dark-monetr-background-subtle enabled:hover:bg-dark-monetr-background-emphasis","ring-1 ring-inset ring-dark-monetr-border disabled:ring-dark-monetr-border-subtle","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-subtle","focus-visible:outline-purple-200"],outlined:["ring-1 ring-inset enabled:focus:ring-2 enabled:hover:ring-2","enabled:hover:ring-dark-monetr-brand enabled:focus:ring-dark-monetr-brand","ring-dark-monetr-border-string disabled:ring-dark-monetr-border-subtle","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-muted"],destructive:["bg-red-600 enabled:hover:bg-red-500 disabled:bg-red-200","focus-visible:outline-red-600","text-dark-monetr-content-emphasis","shadow-sm"],text:["enabled:hover:bg-dark-monetr-background-emphasis","text-dark-monetr-content-emphasis disabled:text-dark-monetr-content-muted","focus-visible:outline-purple-200"]},size:{default:"h-8 text-sm px-3 py-1.5",select:"h-[38px] px-3 py-1.5",md:"min-h-10 px-3 py-1.5"}},defaultVariants:{size:"default",variant:"primary"}}),e2=r.forwardRef((e,n)=>{let{className:t,variant:a,size:s,asChild:i=!1,...r}=e,d=i?eX.g7:"button";return(0,l.jsx)(d,{className:v(e1({variant:a,size:s,className:t})),ref:n,...r})});e2.displayName="Button",e2.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]};var e4=t("../node_modules/@radix-ui/react-dialog/dist/index.mjs"),e5=t("../node_modules/lucide-react/dist/esm/icons/x.js");let e3=e4.fC;e4.xz;let e6=e4.h_;e4.x8;let e7=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(e4.aV,{ref:n,className:v("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});e7.displayName=e4.aV.displayName;let e8=r.forwardRef((e,n)=>{let{className:t,children:a,...s}=e;return(0,l.jsxs)(e6,{children:[(0,l.jsx)(e7,{}),(0,l.jsxs)(e4.VY,{ref:n,className:v("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[a,(0,l.jsxs)(e4.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-dark-monetr-content-subtle",children:[(0,l.jsx)(e5.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});e8.displayName=e4.VY.displayName;let e9=e=>{let{className:n,...t}=e;return(0,l.jsx)("div",{className:v("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};e9.displayName="DialogHeader";let ne=e=>{let{className:n,...t}=e;return(0,l.jsx)("div",{className:v("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t})};ne.displayName="DialogFooter";let nn=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(e4.Dx,{ref:n,className:v("text-lg font-semibold leading-none tracking-tight",t),...a})});nn.displayName=e4.Dx.displayName;let nt=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(e4.dk,{ref:n,className:v("text-sm text-dark-monetr-content-subtle",t),...a})});nt.displayName=e4.dk.displayName,e8.__docgenInfo={description:"",methods:[]},nt.__docgenInfo={description:"",methods:[]},ne.__docgenInfo={description:"",methods:[],displayName:"DialogFooter"},e9.__docgenInfo={description:"",methods:[],displayName:"DialogHeader"},e7.__docgenInfo={description:"",methods:[]},nn.__docgenInfo={description:"",methods:[]};var na=t("../node_modules/cmdk/dist/index.mjs"),ns=t("../node_modules/lucide-react/dist/esm/icons/search.js");let ni=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(na.mY,{ref:n,className:v("flex h-full w-full flex-col overflow-hidden rounded-lg bg-dark-monetr-background text-dark-monetr-content-emphasis",t),...a})});ni.displayName=na.mY.displayName;let nl=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsxs)("div",{className:"flex items-center border-b-[thin] border-dark-monetr-border px-3","cmdk-input-wrapper":"",children:[(0,l.jsx)(ns.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,l.jsx)(na.mY.Input,{ref:n,className:v("flex h-11 w-full rounded-lg bg-transparent py-3 text-sm outline-none placeholder:text-gray-400 disabled:cursor-not-allowed disabled:opacity-50",t),...a})]})});nl.displayName=na.mY.Input.displayName;let nr=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(na.mY.List,{ref:n,className:v("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a})});nr.displayName=na.mY.List.displayName;let nd=r.forwardRef((e,n)=>(0,l.jsx)(na.mY.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));nd.displayName=na.mY.Empty.displayName;let no=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(na.mY.Group,{ref:n,className:v("overflow-hidden p-1 text-dark-monetr-content-emphasis","[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5","[&_[cmdk-group-heading]]:text-xs","[&_[cmdk-group-heading]]:font-semibold","[&_[cmdk-group-heading]]:text-dark-monetr-content-muted",t),...a})});no.displayName=na.mY.Group.displayName;let nc=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(na.mY.Separator,{ref:n,className:v("-mx-1 h-px bg-border",t),...a})});nc.displayName=na.mY.Separator.displayName;let nu=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(na.mY.Item,{ref:n,className:v(['text-dark-monetr-content-emphasis data-[disabled="true"]:text-dark-monetr-content-muted','data-[disabled="false"]:cursor-pointer data-[disabled="true"]:cursor-default','data-[disabled="true"]:pointer-events-none',"relative flex cursor-default select-none items-center rounded-lg","px-2 py-1.5","text-sm outline-none","aria-selected:bg-dark-monetr-background-emphasis aria-selected:text-accent-foreground"],t),...a})});nu.displayName=na.mY.Item.displayName;let nm=e=>{let{className:n,...t}=e;return(0,l.jsx)("span",{className:v("ml-auto text-xs tracking-widest text-muted-foreground",n),...t})};nm.displayName="CommandShortcut",ni.__docgenInfo={description:"",methods:[]};nd.__docgenInfo={description:"",methods:[]},no.__docgenInfo={description:"",methods:[]},nl.__docgenInfo={description:"",methods:[]},nu.__docgenInfo={description:"",methods:[]},nr.__docgenInfo={description:"",methods:[]},nc.__docgenInfo={description:"",methods:[]},nm.__docgenInfo={description:"",methods:[],displayName:"CommandShortcut"};var np=t("../interface/node_modules/@radix-ui/react-popover/dist/index.mjs");let ng=np.fC,nx=np.xz,nh=r.forwardRef((e,n)=>{let{className:t,align:a="center",sideOffset:s=4,...i}=e;return(0,l.jsx)(np.h_,{children:(0,l.jsx)(np.VY,{ref:n,align:a,sideOffset:s,className:v("z-50 w-72 rounded-lg bg-dark-monetr-popover p-4 text-dark-monetr-content-emphasis","border border-dark-monetr-border","shadow-md outline-none","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2",t),...i})})});nh.displayName=np.VY.displayName,nh.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};var nf=t("../node_modules/lucide-react/dist/esm/icons/check.js"),nb=t("../node_modules/lucide-react/dist/esm/icons/chevrons-up-down.js");let nv=(0,e0.j)(["justify-between text-ellipsis overflow-hidden text-nowrap flex-shrink-0"],{variants:{variant:{outlined:["ring-1 enabled:ring-dark-monetr-border-string"],text:["ring-0","enabled:hover:bg-transparent",'data-[state="closed"]:enabled:hover:ring-1','data-[state="closed"]:enabled:hover:ring-dark-monetr-border-string','data-[state="closed"]:focus:ring-0','data-[state="open"]:ring-dark-monetr-brand data-[state="open"]:ring-2']},size:{default:"",select:"",md:""}},defaultVariants:{variant:"outlined",size:"md"}});function nj(e){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(nf.Z,{className:v("mr-2 h-5 w-5",e.currentValue==e.option.value?"opacity-100":"opacity-0")}),e.option.label]})}function nw(e){var n;let{Item:t}={Item:nj,...e.components},[a,s]=r.useState(!1);return(0,l.jsxs)(ng,{open:a,onOpenChange:s,children:[(0,l.jsx)(nx,{asChild:!0,children:(0,l.jsxs)(e2,{size:e.size,variant:e.variant,role:"combobox","aria-expanded":a,disabled:e.disabled,className:v(nv({variant:e.variant,size:e.size}),e.className),children:[(0,l.jsx)("div",{className:"text-ellipsis text-nowrap min-w-0 overflow-hidden text-inherit",children:e.value?null===(n=e.options.find(n=>n.value===e.value))||void 0===n?void 0:n.label:e.placeholder}),(0,l.jsx)(nb.Z,{className:"h-3 w-3 shrink-0 opacity-50"})]})}),(0,l.jsx)(nh,{className:"p-0",children:(0,l.jsxs)(ni,{children:[(e.options.length>1&&!1!==e.showSearch||e.showSearch)&&(0,l.jsx)(nl,{placeholder:e.searchPlaceholder}),(0,l.jsxs)(nr,{children:[(0,l.jsx)(nd,{children:e.emptyString}),(0,l.jsx)(no,{children:e.options.map(n=>(0,l.jsx)(nu,{value:`${n.label} ${n.value}`,title:n.label,onSelect:()=>{e.onSelect&&e.onSelect(n.value),s(!1)},children:(0,l.jsx)(t,{currentValue:e.value,option:n})},n.value))})]})]})})]})}function ny(e){let n=v("bg-monetr-brand","dark:text-dark-monetr-content-emphasis","px-2","py-0.5","rounded-lg",e.className);return(0,l.jsx)(eM,{...e,className:n})}function nN(e){let{className:n,...t}=e;return(0,l.jsx)("div",{className:v("animate-pulse rounded-lg bg-dark-monetr-background-emphasis px-3 py-1.5",n),...t,children:"\xa0"})}function nk(){let e=(0,O.s0)(),{data:n,isLoading:t}=en(),{data:a,isLoading:s}=et(),i=er(null==n?void 0:n.filter(e=>e.linkId===(null==a?void 0:a.linkId))).map(e=>({label:e.name,value:e.bankAccountId,type:e.accountSubType,mask:e.mask,status:e.status})),r=null==i?void 0:i.find(e=>e.value===(null==a?void 0:a.bankAccountId));return t||s?(0,l.jsx)(nN,{className:"w-full h-10"}):(0,l.jsx)(nw,{className:"w-full h-[34px]",variant:"text",size:"select",options:i,value:null==r?void 0:r.value,placeholder:"Select a bank account...",searchPlaceholder:"Search for an account...",showSearch:!0,onSelect:n=>e(`/bank/${n}/transactions`),components:{Item:nA}})}function nA(e){return(0,l.jsxs)("div",{className:"flex items-center w-full gap-1",children:[(0,l.jsx)(nf.Z,{className:v("mr-1 h-5 w-5 flex-none",e.currentValue==e.option.value?"opacity-100":"opacity-0")}),(0,l.jsx)(eM,{className:"w-full",color:"emphasis",ellipsis:!0,children:e.option.label}),"inactive"===e.option.status&&(0,l.jsx)(ny,{size:"xs",className:"bg-dark-monetr-border-subtle",children:"Inactive"}),""!=e.option.mask&&(0,l.jsx)(ny,{size:"xs",className:"font-mono",children:e.option.mask})]})}nj.__docgenInfo={description:"",methods:[],displayName:"ComboboxItem",props:{currentValue:{required:!0,tsType:{name:"V"},description:""},option:{required:!0,tsType:{name:"O"},description:""}}},nw.__docgenInfo={description:"",methods:[],displayName:"Combobox",props:{className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"O"}],raw:"Array<O>"},description:""},value:{required:!1,tsType:{name:"V"},description:""},emptyString:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},searchPlaceholder:{required:!1,tsType:{name:"string"},description:""},showSearch:{required:!1,tsType:{name:"boolean"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: V) => void",signature:{arguments:[{type:{name:"V"},name:"value"}],return:{name:"void"}}},description:""},components:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  Item?: React.ComponentType<ComboboxItemProps<V, O>>;\n}",signature:{properties:[{key:"Item",value:{name:"ReactComponentType",raw:"React.ComponentType<ComboboxItemProps<V, O>>",elements:[{name:"ComboboxItemProps",elements:[{name:"V"},{name:"O"}],raw:"ComboboxItemProps<V, O>"}],required:!1}}]}},description:""}},composes:["VariantProps"]},ny.__docgenInfo={description:"",methods:[],displayName:"MBadge",composes:["Omit"]},nN.__docgenInfo={description:"",methods:[],displayName:"Skeleton"},nk.__docgenInfo={description:"",methods:[],displayName:"SelectBankAccount"};class nI{getFreeToUseString(){return X(this.free)}getAvailableString(){return X(this.available)}getCurrentString(){return X(this.current)}getExpensesString(){return X(this.expenses)}getGoalsString(){return X(this.goals)}constructor(e){(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"available",void 0),(0,N._)(this,"current",void 0),(0,N._)(this,"free",void 0),(0,N._)(this,"expenses",void 0),(0,N._)(this,"goals",void 0),e&&Object.assign(this,e)}}function nT(){let e=ea(),n=(0,k.a)([`/bank_accounts/${e}/balances`],{enabled:!!e});return(null==n?void 0:n.data)&&new nI(null==n?void 0:n.data)}var n_=t("../node_modules/date-fns/esm/isBefore/index.js"),nS=t("../node_modules/date-fns/esm/format/index.js");class nC{constructor(e){(0,N._)(this,"fundingScheduleId",void 0),(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"name",void 0),(0,N._)(this,"description",void 0),(0,N._)(this,"ruleset",void 0),(0,N._)(this,"lastRecurrence",void 0),(0,N._)(this,"nextRecurrence",void 0),(0,N._)(this,"nextRecurrenceOriginal",void 0),(0,N._)(this,"excludeWeekends",void 0),(0,N._)(this,"estimatedDeposit",void 0),e&&Object.assign(this,{...e,lastRecurrence:e.lastRecurrence&&(0,A.Z)(e.lastRecurrence),nextRecurrence:(0,A.Z)(e.nextRecurrence),nextRecurrenceOriginal:(0,A.Z)(e.nextRecurrenceOriginal)})}}function nE(){let e=ea();return(0,k.a)([`/bank_accounts/${e}/funding_schedules`],{enabled:!!e,select:e=>e.map(e=>new nC(e))})}function nR(e){let n=ea();return(0,k.a)([`/bank_accounts/${n}/funding_schedules/${e}`],{enabled:!!n&&!!e,select:e=>(null==e?void 0:e.fundingScheduleId)?new nC(e):null})}function nM(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().post(`/bank_accounts/${e.bankAccountId}/funding_schedules`,e).then(e=>new nC(null==e?void 0:e.data))}return(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${n.bankAccountId}/funding_schedules`],e=>e.concat(n)),e.setQueriesData([`/bank_accounts/${n.bankAccountId}/funding_schedules/${n.fundingScheduleId}`],n)])}).mutateAsync}function nL(e){let{data:n,isLoading:t,isError:a}=et(),{data:s}=W(null==n?void 0:n.linkId),i=nT(),r=v("w-72 h-full flex-none flex flex-col dark:border-r-dark-monetr-border border border-transparent items-center pb-6 lg:pb-4",e.className);return a?null:(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(eQ,{}),(0,l.jsxs)("div",{className:"flex h-full w-full flex-col items-center gap-4 px-2 pt-4",children:[(0,l.jsx)(nk,{}),(0,l.jsx)(eo,{className:"w-1/2"}),(0,l.jsxs)("div",{className:"flex w-full flex-col items-center gap-2 px-2",children:[(0,l.jsx)(function(){switch(null==n?void 0:n.accountSubType){case"checking":case"savings":let e=v({"dark:text-dark-monetr-content-emphasis":(null==i?void 0:i.free)>=0,"dark:text-dark-monetr-red":(null==i?void 0:i.free)<0});return(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsxs)(eM,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,l.jsx)(ev.Z,{}),"Free-To-Use:"]}),(0,l.jsx)(eM,{size:"lg",weight:"semibold",className:e,children:null==i?void 0:i.getFreeToUseString()})]})}return null},{}),(0,l.jsx)(function(){switch(null==n?void 0:n.accountSubType){case"checking":case"savings":return(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsxs)(eM,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,l.jsx)(ej.Z,{}),"Available:"]}),(0,l.jsx)(eM,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:null==i?void 0:i.getAvailableString()})]})}return null},{}),(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsxs)(eM,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:[(0,l.jsx)(ew.Z,{}),"Current:"]}),(0,l.jsx)(eM,{size:"lg",weight:"semibold",className:"dark:text-dark-monetr-content-emphasis",children:null==i?void 0:i.getCurrentString()})]})]}),(0,l.jsx)(eo,{className:"w-1/2"}),(0,l.jsxs)("div",{className:"flex h-full w-full flex-col gap-2 pb-4",children:[(0,l.jsxs)(nZ,{to:`/bank/${null==n?void 0:n.bankAccountId}/transactions`,children:[(0,l.jsx)(ey.Z,{}),(0,l.jsx)(eM,{ellipsis:!0,color:"inherit",children:"Transactions"})]}),(0,l.jsxs)(nZ,{to:`/bank/${null==n?void 0:n.bankAccountId}/expenses`,children:[(0,l.jsx)(eN.Z,{}),(0,l.jsx)(eM,{ellipsis:!0,color:"inherit",children:"Expenses"}),(0,l.jsx)(ny,{className:"ml-auto",size:"sm",children:null==i?void 0:i.getExpensesString()})]}),(0,l.jsxs)(nZ,{to:`/bank/${null==n?void 0:n.bankAccountId}/goals`,children:[(0,l.jsx)(ek.Z,{}),(0,l.jsx)(eM,{ellipsis:!0,color:"inherit",children:"Goals"}),(0,l.jsx)(ny,{className:"ml-auto",size:"sm",children:null==i?void 0:i.getGoalsString()})]}),(0,l.jsxs)(nZ,{to:`/bank/${null==n?void 0:n.bankAccountId}/funding`,children:[(0,l.jsx)(eA.Z,{}),(0,l.jsx)(eM,{ellipsis:!0,color:"inherit",children:"Funding Schedules"}),(0,l.jsx)(nD,{})]})]}),(0,l.jsx)(eJ,{linkId:null==n?void 0:n.linkId})]})]})}function nZ(e){let n=(0,O.TH)().pathname.endsWith(e.to.replaceAll(".","")),t=v({"dark:bg-dark-monetr-background-emphasis":n,"dark:text-dark-monetr-content-emphasis":n,"dark:text-dark-monetr-content-subtle":!n,"font-semibold":n,"font-medium":!n},["align-middle","cursor-pointer","flex","text-lg","gap-2","dark:hover:bg-dark-monetr-background-emphasis","dark:hover:text-dark-monetr-content-emphasis","items-center","px-2","py-1","rounded-md","w-full"]);return(0,l.jsx)(c.rU,{className:t,to:e.to,children:e.children})}function nD(){let e=function(){let{data:e}=nE(),n=null==e?void 0:e.sort((e,n)=>(0,n_.Z)(e.nextRecurrence,n.nextRecurrence)?1:-1).pop();return n?(0,nS.Z)(n.nextRecurrence,"M/dd"):null}();return e?(0,l.jsx)(ny,{className:"ml-auto",size:"sm",children:e}):null}nL.__docgenInfo={description:"",methods:[],displayName:"BudgetingSidebar",props:{className:{required:!1,tsType:{name:"string"},description:""}}};var nP=t("../node_modules/@mui/icons-material/esm/HeartBroken.js"),nq=t("../node_modules/@mui/icons-material/esm/AccountBalance.js"),nz=t("../node_modules/@mui/icons-material/esm/AutoModeOutlined.js"),nO=t("../node_modules/@mui/icons-material/esm/KeyboardArrowRight.js"),nF=t("../node_modules/date-fns/esm/isThisYear/index.js"),nU=t("../node_modules/@radix-ui/react-avatar/dist/index.mjs");let nB=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(nU.fC,{ref:n,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});nB.displayName=nU.fC.displayName;let nY=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(nU.Ee,{ref:n,className:v("aspect-square h-full w-full",t),...a})});nY.displayName=nU.Ee.displayName;let nG=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(nU.NY,{ref:n,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});nG.displayName=nU.NY.displayName,nB.__docgenInfo={description:"",methods:[]},nG.__docgenInfo={description:"",methods:[]},nY.__docgenInfo={description:"",methods:[]};function nV(e){var n,t;let a=function(e){let n=_(),{data:t}=(0,k.a)(["/icons/search",{name:e}],{enabled:!!(null==n?void 0:n.iconsEnabled)&&!!e&&(null==e?void 0:e.length)>0,staleTime:36e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:!1});return t}(null==e?void 0:e.name);if(null==a?void 0:a.svg){let n=v("dark:bg-dark-monetr-background-bright","flex","items-center","justify-center","h-10","w-10","rounded-full","flex-none",e.className),s=(null==a?void 0:null===(t=a.colors)||void 0===t?void 0:t.length)>0?{backgroundColor:`#${a.colors[0]}`}:{backgroundColor:"#000000"},i={WebkitMaskImage:`url(data:image/svg+xml;base64,${a.svg})`,WebkitMaskRepeat:"no-repeat",height:"30px",width:"30px",...s};return(0,l.jsx)("div",{className:n,children:(0,l.jsx)("div",{style:i})})}let s=v("h-10 w-10",e.className),i=(null==e?void 0:null===(n=e.name)||void 0===n?void 0:n.toUpperCase().charAt(0))||"?";return(0,l.jsx)(nB,{className:s,children:(0,l.jsx)(nG,{className:"dark:bg-dark-monetr-background-subtle dark:text-dark-monetr-content",children:i})})}nV.__docgenInfo={description:"",methods:[],displayName:"MerchantIcon",props:{name:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var nW=t("../node_modules/rrule/dist/esm/index.js");function nH(e){let{spending:n}=e,{data:t}=nR(n.fundingScheduleId),a=(0,O.s0)(),s=(0,nW.SA)(n.ruleset),i=v({"text-green-500":n.targetAmount<=n.currentAmount,"text-blue-500":n.targetAmount!==n.currentAmount},"text-end","font-semibold");function r(){a(`/bank/${n.bankAccountId}/expenses/${n.spendingId}/details`)}let d=(0,nF.Z)(n.nextRecurrence)?(0,nS.Z)(n.nextRecurrence,"MMM do"):(0,nS.Z)(n.nextRecurrence,"MMM do, yyyy");return(0,l.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:r}),(0,l.jsxs)("div",{className:"w-full flex rounded-lg group-hover:bg-zinc-600 gap-2 items-center px-2 py-1 cursor-pointer md:cursor-auto",children:[(0,l.jsxs)("div",{className:"flex items-center flex-1 w-full md:w-1/2 gap-4 min-w-0 pr-1",children:[(0,l.jsx)(nV,{name:n.name}),(0,l.jsxs)("div",{className:"flex flex-col overflow-hidden min-w-0",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("span",{className:"text-zinc-50 font-semibold text-base overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:n.name}),(0,l.jsx)(ny,{className:"flex-none text-xs ml-1",children:d})]}),(0,l.jsx)("span",{className:"hidden md:block text-zinc-200 font-sm text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:s.toText()}),(0,l.jsxs)("span",{className:"md:hidden text-zinc-200 text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:[n.getNextContributionAmountString()," / ",null==t?void 0:t.name]})]})]}),(0,l.jsx)("div",{className:"hidden md:flex w-1/2 overflow-hidden flex-1 min-w-0 items-center",children:(0,l.jsxs)("span",{className:"text-zinc-50/75 font-medium text-base text-ellipsis whitespace-nowrap overflow-hidden min-w-0",children:[n.getNextContributionAmountString()," / ",null==t?void 0:t.name]})}),(0,l.jsxs)("div",{className:"flex md:hidden shrink-0 items-center gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:i,children:n.getCurrentAmountString()}),(0,l.jsx)("hr",{className:"w-full border-0 border-b-[thin] border-zinc-600"}),(0,l.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:n.getTargetAmountString()})]}),(0,l.jsx)(nO.Z,{className:"text-zinc-600 group-hover:text-zinc-50 flex-none md:cursor-pointer"})]}),(0,l.jsxs)("div",{className:"hidden md:flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:[(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("span",{className:i,children:n.getCurrentAmountString()}),"\xa0",(0,l.jsx)("span",{className:"text-end text-zinc-500 group-hover:text-zinc-400 font-medium",children:"of"}),"\xa0",(0,l.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:n.getTargetAmountString()})]})}),(0,l.jsx)(nO.Z,{className:"flex-none dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:r})]})]})]})}function nQ(e){let n=e.icon,t=(0,O.s0)(),a=(0,r.useCallback)(()=>{e.base&&t(e.base)},[e.base,t]),s=v({"dark:text-dark-monetr-content-emphasis":!e.breadcrumb,"dark:text-dark-monetr-content-subtle dark:hover:text-dark-monetr-content-emphasis":!!e.breadcrumb,"cursor-pointer":!!e.base},"w-auto order-1"),i=v({"hidden md:inline":!!e.breadcrumb},"w-auto text-center order-1"),d=v({"mr-0 md:mr-2":!!e.breadcrumb,"mr-2":!e.breadcrumb},"mb-1");return(0,l.jsxs)("div",{className:"w-full h-auto md:h-12 flex flex-col md:flex-row md:items-center px-4 gap-x-4 justify-between",children:[(0,l.jsxs)("div",{className:"flex gap-2 min-w-0 h-12 items-center flex-grow",children:[(0,l.jsx)(eg,{className:"mr-2",backButton:e.base}),(0,l.jsxs)("span",{className:"flex gap-2 flex-grow min-w-0",children:[(0,l.jsx)(function(){return(0,l.jsxs)(eM,{weight:"bold",size:"2xl",className:s,onClick:a,ellipsis:!0,children:[(0,l.jsx)(n,{className:d}),(0,l.jsx)("span",{className:i,children:e.title})]})},{}),(0,l.jsx)(function(){return e.breadcrumb?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(eM,{weight:"bold",size:"2xl",color:"subtle",className:"hidden md:block order-2",children:"/"}),(0,l.jsx)(eM,{weight:"bold",size:"2xl",color:"emphasis",ellipsis:!0,className:"order-3",children:e.breadcrumb})]}):null},{})]})]}),e.children&&(0,l.jsx)("div",{className:"flex gap-x-2 md:p-0",children:e.children})]})}nH.__docgenInfo={description:"",methods:[],displayName:"ExpenseItem",props:{spending:{required:!0,tsType:{name:"Spending"},description:""}}},nQ.__docgenInfo={description:"",methods:[],displayName:"MTopNavigation",props:{icon:{required:!0,tsType:{name:"ReactFC",raw:"React.FC<{ className?: string }>",elements:[{name:"signature",type:"object",raw:"{ className?: string }",signature:{properties:[{key:"className",value:{name:"string",required:!1}}]}}]},description:""},title:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},base:{required:!1,tsType:{name:"string"},description:""},breadcrumb:{required:!1,tsType:{name:"string"},description:""}}};var n$=((i={})[i.Expense=0]="Expense",i[i.Goal=1]="Goal",i);class nK{getNextOccurrenceString(){return(0,nF.Z)(this.nextRecurrence)?(0,nS.Z)(this.nextRecurrence,"MMM do"):(0,nS.Z)(this.nextRecurrence,"MMM do, yyyy")}getTargetAmountString(){return X(this.targetAmount)}getTargetAmountDollars(){return $(this.targetAmount)}getCurrentAmountString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US";return X(this.currentAmount,J.Stored,e)}getUsedAmountString(){return X(this.usedAmount)}getNextContributionAmountString(){return X(this.nextContributionAmount)}getIsExpense(){return 0===this.spendingType}getIsGoal(){return 1===this.spendingType}getGoalIsInProgress(){return this.currentAmount+this.usedAmount<this.targetAmount}getGoalSavedAmountString(){return X(this.currentAmount+this.usedAmount)}constructor(e){(0,N._)(this,"spendingId",void 0),(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"fundingScheduleId",void 0),(0,N._)(this,"name",void 0),(0,N._)(this,"description",void 0),(0,N._)(this,"spendingType",void 0),(0,N._)(this,"targetAmount",void 0),(0,N._)(this,"currentAmount",void 0),(0,N._)(this,"usedAmount",void 0),(0,N._)(this,"ruleset",void 0),(0,N._)(this,"lastRecurrence",void 0),(0,N._)(this,"nextRecurrence",void 0),(0,N._)(this,"nextContributionAmount",void 0),(0,N._)(this,"isBehind",void 0),(0,N._)(this,"isPaused",void 0),(0,N._)(this,"dateCreated",void 0),e&&Object.assign(this,{...e,lastRecurrence:e.lastRecurrence&&(0,A.Z)(e.lastRecurrence),nextRecurrence:e.nextRecurrence&&(0,A.Z)(e.nextRecurrence),dateCreated:e.dateCreated&&(0,A.Z)(e.dateCreated)})}}function nJ(){let e=ea(),n=(0,k.a)([`/bank_accounts/${e}/spending`],{enabled:!!e});return{...n,result:((null==n?void 0:n.data)||[]).map(e=>new nK(e))}}function nX(e){let n=ea();return(0,k.a)([`/bank_accounts/${n}/spending/${e}`],{enabled:!!n,select:e=>new nK(e)})}function n0(e){let n=nJ();return{...n,result:n.result.filter(n=>n.spendingType===e)}}function n1(){let e=(0,C.NL)(),n=ea();async function t(e){return(0,L.Z)().delete(`/bank_accounts/${n}/spending/${e}`).then(()=>e)}let{mutate:a}=(0,E.D)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${n}/spending`],e=>e.filter(e=>e.spendingId!==t)),e.removeQueries([`/bank_accounts/${n}/spending/${t}`]),e.invalidateQueries([`/bank_accounts/${n}/balances`]),e.invalidateQueries([`/bank_accounts/${n}/forecast`]),e.invalidateQueries([`/bank_accounts/${n}/forecast/next_funding`])])});return async e=>a(e)}function n2(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().put(`/bank_accounts/${e.bankAccountId}/spending/${e.spendingId}`,e).then(e=>new nK(null==e?void 0:e.data))}let{mutate:t}=(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${n.bankAccountId}/spending`],e=>e.map(e=>e.spendingId===n.spendingId?n:e)),e.setQueriesData([`/bank_accounts/${n.bankAccountId}/spending/${n.spendingId}`],n),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/balances`]),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/forecast/next_funding`])])});return async e=>t(e)}function n4(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().post(`/bank_accounts/${e.bankAccountId}/spending`,e).then(e=>new nK(null==e?void 0:e.data))}let t=(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${n.bankAccountId}/spending`],e=>(e||[]).concat(n)),e.setQueriesData([`/bank_accounts/${n.bankAccountId}/spending/${n.spendingId}`],n),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/balances`]),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${n.bankAccountId}/forecast/next_funding`])])});return async e=>t.mutateAsync(e)}var n5=t("../node_modules/date-fns/esm/startOfTomorrow/index.js"),n3=t("../node_modules/date-fns/esm/startOfDay/index.js");function n6(e){let n=(0,eq.u6)();return e={...e,disabled:(null==n?void 0:n.isSubmitting)||(null==e?void 0:e.disabled),onSubmit:(null==e?void 0:e.onSubmit)||("submit"===e.type?null==n?void 0:n.submitForm:void 0)},(0,l.jsx)(e2,{...e})}n6.__docgenInfo={description:"",methods:[],displayName:"FormButton"};var n7=t("../node_modules/react-number-format/dist/react-number-format.es.js");function n8(e){return(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,l.jsx)(function(){if(!e.label)return null;let n=v("mb-1","block","text-sm","font-medium","leading-6",{"text-gray-900":!e.disabled,"text-gray-500":e.disabled,"dark:text-dark-monetr-content-emphasis":!e.disabled});return(0,l.jsx)("label",{htmlFor:e.htmlFor,className:n,children:e.label})},{}),(0,l.jsx)(function(){return e.required?(0,l.jsx)("span",{className:"text-red-500",children:"*"}):null},{})]}),e.children]})}n8.__docgenInfo={description:"",methods:[],displayName:"MLabel",props:{htmlFor:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""}}};let n9={label:null,labelDecorator:e=>null,disabled:!1};function te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n9,n=(0,eq.u6)(),{labelDecorator:t,...a}=e={...n9,...e,disabled:(null==e?void 0:e.disabled)||(null==n?void 0:n.isSubmitting),error:(null==e?void 0:e.error)||((null==n?void 0:n.touched[null==e?void 0:e.name])?null==n?void 0:n.errors[null==e?void 0:e.name]:null)},s=t||n9.labelDecorator,i=v({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","focus:ring-2","focus:ring-inset","placeholder:text-gray-400","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-sm","w-full","dark:caret-zinc-50","min-h-[38px]"),d=v({"pb-[18px]":!e.error},e.className),o=null==n?void 0:n.values[e.name],c=(0,r.useCallback)(t=>{n&&n.setFieldValue(e.name,t.floatValue)},[e.name,n]);return(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)(n8,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,l.jsx)(s,{name:e.name,disabled:e.disabled})}),(0,l.jsx)("div",{children:(0,l.jsx)(n7.h3,{disabled:null==n?void 0:n.isSubmitting,onBlur:null==n?void 0:n.handleBlur,thousandSeparator:",",thousandsGroupStyle:"thousand",value:o,...a,className:i,decimalScale:2,fixedDecimalScale:!0,onValueChange:c,prefix:"$ "})}),(0,l.jsx)(function(){return e.error?(0,l.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}te.__docgenInfo={description:"",methods:[],displayName:"MAmountField"};var tn=t("../node_modules/@mui/icons-material/CloseOutlined.js"),tt=t("../node_modules/date-fns/esm/startOfToday/index.js"),ta=t("../node_modules/date-fns/esm/startOfMonth/index.js"),ts=t("../node_modules/date-fns/esm/isEqual/index.js"),ti=t("../node_modules/date-fns/esm/locale/en-US/index.js"),tl=t("../node_modules/lucide-react/dist/esm/icons/calendar.js"),tr=t("../node_modules/react-day-picker/dist/index.esm.js"),td=t("../node_modules/@mui/icons-material/esm/ArrowLeftOutlined.js"),to=t("../node_modules/@mui/icons-material/esm/ArrowRightOutlined.js"),tc=t("../node_modules/@mui/icons-material/esm/FirstPage.js"),tu=t("../node_modules/@mui/icons-material/esm/ChevronLeft.js"),tm=t("../node_modules/@mui/icons-material/esm/ChevronRight.js"),tp=t("../node_modules/@mui/icons-material/esm/LastPage.js"),tg=t("../node_modules/date-fns/esm/addYears/index.js");function tx(e){let{mode:n,defaultMonth:t,selected:a,onSelect:s,locale:i,disabled:r,enableYearNavigation:d,classNames:o,...c}=e;return(0,l.jsx)(tr._W,{showOutsideDays:!0,mode:n,defaultMonth:t,selected:a,onSelect:s,locale:i,disabled:r,classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-2 relative items-center",caption_label:"text-monetr-default text-monetr-content-emphasis dark:text-dark-monetr-content-emphasis font-medium",nav:"space-x-1 flex items-center",nav_button:"flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-monetr-border dark:border-dark-monetr-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"w-9 font-normal text-center text-monetr-content-subtle dark:text-dark-monetr-content-subtle",row:"flex w-full mt-0.5",cell:"text-center p-0 relative focus-within:relative text-monetr-default text-monetr-content-emphasis dark:text-dark-monetr-content-emphasis",day:"h-9 w-9 p-0 hover:bg-monetr-background-subtle dark:hover:bg-dark-monetr-background-subtle outline-monetr-brand dark:outline-dark-monetr-brand rounded-tremor-default",day_today:"dark:bg-dark-monetr-background-focused dark:text-dark-monetr-brand-muted",day_selected:"dark:aria-selected:bg-dark-monetr-brand dark:aria-selected:text-dark-monetr-content-emphasis",day_disabled:"dark:text-dark-monetr-content-subtle disabled:hover:bg-transparent",day_outside:"dark:text-dark-monetr-content-subtle",...o},components:{IconLeft:e=>{let{...n}=e;return(0,l.jsx)(td.Z,{className:"h-4 w-4",...n})},IconRight:e=>{let{...n}=e;return(0,l.jsx)(to.Z,{className:"h-4 w-4",...n})},Caption:e=>{let{...n}=e,{goToMonth:t,nextMonth:a,previousMonth:s,currentMonth:r}=(0,tr.HJ)();return(0,l.jsxs)("div",{className:"flex justify-between items-center",...n,children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[d&&(0,l.jsx)(e2,{variant:"text",onClick:()=>r&&t((0,tg.Z)(r,-1)),children:(0,l.jsx)(tc.Z,{className:"text-lg"})}),(0,l.jsx)(e2,{variant:"text",onClick:()=>s&&t(s),children:(0,l.jsx)(tu.Z,{className:"text-lg"})})]}),(0,l.jsx)(eM,{className:"mx-1",children:(0,nS.Z)(n.displayMonth,"LLLL yyy",{locale:i})}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(e2,{variant:"text",onClick:()=>a&&t(a),children:(0,l.jsx)(tm.Z,{className:"text-lg"})}),d&&(0,l.jsx)(e2,{variant:"text",onClick:()=>r&&t((0,tg.Z)(r,1)),children:(0,l.jsx)(tp.Z,{className:"text-lg"})})]})]})}},...c})}function th(e){let n=(0,tt.Z)(),t=(0,eq.u6)(),{value:a=null==t?void 0:t.values[e.name],min:s,max:i,placeholder:d="Select date",enableClear:o=!1,disabled:c,className:u,enableYearNavigation:m=!0}=e={disabled:null==t?void 0:t.isSubmitting,error:(null==e?void 0:e.error)||((null==t?void 0:t.touched[null==e?void 0:e.name])?null==t?void 0:t.errors[null==e?void 0:e.name]:null),...e},[p,g]=(0,r.useState)(a),[x,h]=r.useState(null);r.useEffect(()=>{g(a)},[a]);let f=(0,r.useMemo)(()=>{let e=[];return s&&e.push({before:s}),i&&e.push({after:i}),e},[s,i]),b=!!p,j=b?function(e,n,t){let a=t.code;if(!e&&!n)return"";if(e&&!n)return e.toLocaleDateString(a,{year:"numeric",month:"short",day:"numeric"});if(e&&n){if((0,ts.Z)(e,n))return e.toLocaleDateString(a,{year:"numeric",month:"short",day:"numeric"});if(e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear())return`${e.toLocaleDateString(a,{month:"short",day:"numeric"})} - ${n.getDate()}, ${n.getFullYear()}`;let t={year:"numeric",month:"short",day:"numeric"};return`${e.toLocaleDateString(a,t)} - ${n.toLocaleDateString(a,t)}`}return""}(p,void 0,ti.Z):d,w=(0,ta.Z)(p??i??n),y=o&&!c,N=(0,r.useCallback)(e=>{h(e.currentTarget)},[h]),k=(0,r.useCallback)(()=>h(null),[h]),A=(0,r.useCallback)(()=>{t&&(t.setFieldValue(e.name,null),t.setFieldTouched(e.name,!0),t.validateField(e.name)),g(void 0)},[g,t,e.name]),I=(0,r.useCallback)(n=>{t&&(t.setFieldValue(e.name,n),t.setFieldTouched(e.name,!0),t.validateField(e.name)),g(n),k()},[g,t,e.name,k]),T=v({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:text-gray-400":!b},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","dark:caret-zinc-50","focus:ring-2","focus:ring-inset","enabled:hover:ring-1","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-sm","font-normal","w-full","relative","inline-flex","justify-start"),_=e.labelDecorator||(()=>null),S=v({"pb-[18px]":!e.error},"relative",u);return(0,l.jsxs)("div",{className:S,"data-testid":e["data-testid"],children:[(0,l.jsx)(n8,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,l.jsx)(_,{name:e.name,disabled:e.disabled})}),(0,l.jsxs)(e2,{variant:"outlined",size:"select",type:"button",disabled:(null==t?void 0:t.isSubmitting)||c,className:T,onClick:N,role:"none",children:[(0,l.jsx)(tl.Z,{}),(0,l.jsx)("span",{className:"truncate",children:j}),y&&p?(0,l.jsx)("button",{type:"button",className:v("absolute outline-none inset-y-0 right-2 flex items-center transition duration-100 dark:text-dark-monetr-content-subtle"),onClick:e=>{e.preventDefault(),A()},children:(0,l.jsx)(tn.default,{})}):null]}),(0,l.jsx)(eE.ZP,{open:!!x,anchorEl:x,onClose:k,transitionDuration:200,children:(0,l.jsx)(tx,{showOutsideDays:!0,mode:"single",defaultMonth:w,selected:p,onSelect:e=>{I(e),k()},locale:ti.Z,disabled:f,enableYearNavigation:m,className:v("z-50 overflow-y-auto outline-none rounded-lg p-3 border","dark:bg-dark-monetr-background dark:border-dark-monetr-border-subtle dark:shadow-2xl")})}),(0,l.jsx)(function(){return e.error?(0,l.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}tx.__docgenInfo={description:"",methods:[],displayName:"MCalendar",props:{enableYearNavigation:{required:!0,tsType:{name:"boolean"},description:""}}};th.__docgenInfo={description:"",methods:[],displayName:"MDatePicker",props:{value:{required:!1,tsType:{name:"Date"},description:""},min:{required:!1,tsType:{name:"Date"},description:""},max:{required:!1,tsType:{name:"Date"},description:""},children:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},enableClear:{required:!1,tsType:{name:"boolean"},description:""},enableYearNavigation:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelDecorator:{required:!1,tsType:{name:"ReactFC",raw:"React.FC<MLabelDecoratorProps>",elements:[{name:"MLabelDecoratorProps"}]},description:""},name:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit"]};let tf=r.forwardRef(function(e,n){let{className:t,children:a,...s}=e;return(0,l.jsx)(eq.J9,{...s,children:s=>(0,l.jsx)("form",{onSubmit:s.handleSubmit,className:t,"data-testid":e["data-testid"],ref:n,children:"function"==typeof a?a(s):a})})});var tb=t("../node_modules/react-select/dist/react-select.esm.js"),tv=t("../node_modules/@mui/icons-material/esm/CheckCircleOutline.js"),tj=t("../node_modules/@mui/material/SwipeableDrawer/SwipeableDrawer.js"),tw=t("../node_modules/tailwindcss/resolveConfig.js"),ty=t.n(tw),tN=t("../interface/src/theme.ts"),tk=t("../interface/tailwind.config.ts");let tA=ty()(tk.Z);function tI(){let[e,n]=(0,r.useState)("dark");return{tailwind:tA.theme,material:tN.Z,mediaColorSchema:e}}function tT(e){let n=tI(),{labelDecorator:t,className:a,...s}=e,i=v({"pb-[18px]":!e.error},a),r=v({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-dark-monetr-background":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:text-gray-400":!e.value},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","md:hidden","border-0","dark:caret-zinc-50","focus:ring-2","focus:ring-inset","min-h-[38px]","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-left","text-sm","w-full","relative");return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(n8,{label:e.label,htmlFor:e.id,required:e.required,disabled:e.disabled,children:(0,l.jsx)(t??(e=>null),{name:e.name,disabled:e.disabled})}),(0,l.jsx)("button",{type:"button",disabled:e.disabled,className:r,onClick:()=>(function(e){return eZ.ZP.show(t_,e)})({title:e.placeholder,options:e.options,value:e.value,onChange:e.onChange}),role:"none",children:(0,l.jsx)(function(){var n,t;return(null===(n=e.value)||void 0===n?void 0:n.label)?(0,l.jsx)("span",{className:"truncate",children:null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.label}):(0,l.jsx)("span",{className:"truncate",children:null==e?void 0:e.placeholder})},{})}),(0,l.jsx)(tb.ZP,{theme:e=>({...e,borderRadius:8,colors:{...e.colors,neutral0:n.tailwind.colors["dark-monetr"].background.DEFAULT,neutral5:n.tailwind.colors["dark-monetr"].background.subtle,neutral10:n.tailwind.colors["dark-monetr"].background.emphasis,neutral20:n.tailwind.colors["dark-monetr"].border.string,neutral30:n.tailwind.colors["dark-monetr"].content.DEFAULT,neutral60:n.tailwind.colors["dark-monetr"].content.emphasis,neutral70:n.tailwind.colors["dark-monetr"].content.emphasis,neutral80:n.tailwind.colors["dark-monetr"].content.emphasis,neutral90:n.tailwind.colors["dark-monetr"].content.emphasis,primary25:n.tailwind.colors["dark-monetr"].background.emphasis,primary50:n.tailwind.colors["dark-monetr"].brand.faint,primary:n.tailwind.colors["dark-monetr"].brand.DEFAULT}}),...s,className:"hidden md:block",isDisabled:e.disabled,styles:{placeholder:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),valueContainer:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),option:e=>({...e,color:n.tailwind.colors["dark-monetr"].content.emphasized}),menuPortal:e=>({...e,zIndex:9999})}}),(0,l.jsx)(function(){return e.error?(0,l.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}let t_=eZ.ZP.create(function(e){let n=(0,eZ.dd)(),t="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent),a=e.options;return(0,l.jsx)(tj.Z,{disableBackdropTransition:!t,disableDiscovery:t,anchor:"bottom",open:n.visible,onClose:n.hide,onOpen:()=>n.show(),className:"backdrop-blur-sm backdrop-brightness-50",children:(0,l.jsxs)("div",{className:"h-full flex flex-col gap-4 bg-dark-monetr-background pb-8",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",className:"p-2",children:e.title}),(0,l.jsx)("ul",{className:"w-full flex flex-col gap-2",children:a.map(t=>{var a,s;return(0,l.jsxs)("li",{className:"w-full flex items-center active:bg-dark-monetr-background-subtle py-2",onClick:()=>{e.onChange(t,void 0),n.hide()},children:[(null===(a=e.value)||void 0===a?void 0:a.value)===t.value&&(0,l.jsx)(tv.Z,{className:"mx-2 w-6"}),(null===(s=e.value)||void 0===s?void 0:s.value)!==t.value&&(0,l.jsx)("div",{className:"mx-2 w-6"}),(0,l.jsx)(eM,{size:"lg",weight:"medium",children:t.label})]},t.value)})})]})})});tT.__docgenInfo={description:"",methods:[],displayName:"MSelect",props:{label:{required:!1,tsType:{name:"string"},description:""},labelDecorator:{required:!1,tsType:{name:"ReactFC",raw:"React.FC<MLabelDecoratorProps>",elements:[{name:"MLabelDecoratorProps"}]},description:""},error:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"union",raw:"V | undefined",elements:[{name:"V"},{name:"undefined"}]},description:""}},composes:["Omit"]};var tS=t("../node_modules/date-fns/esm/endOfMonth/index.js"),tC=t("../node_modules/date-fns/esm/getDate/index.js"),tE=t("../node_modules/date-fns/esm/getMonth/index.js");class tR{ruleString(){return this.rule.toString()}equalRule(e){try{let n=(0,nW.SA)(e);n.options.dtstart=null,n.options.byhour=null,n.options.byminute=null,n.options.bysecond=null,n.options.tzid=null;let t=this.rule.clone();t.options.dtstart=null,t.options.byhour=null,t.options.byminute=null,t.options.bysecond=null,n.options.tzid=null;let a=JSON.stringify(n.options),s=JSON.stringify(t.options);return a===s}catch{return console.warn("cannot compare invalid rrules",e,this),!1}}constructor(e){(0,N._)(this,"name",void 0),(0,N._)(this,"rule",void 0),e&&Object.assign(this,e)}}function tM(e){let n=e%10,t=e%100;return 1===n&&11!==t?`${e}st`:2===n&&12!==t?`${e}nd`:3===n&&13!==t?`${e}rd`:`${e}th`}function tL(e){let[n,t]=(0,r.useState)(null),a=(0,eq.u6)(),s=a.values[e.dateFrom],i=function(e){let n;if("string"==typeof e)n=(0,A.Z)(e);else{if(!e)return[];n=e}let t=(0,n3.Z)(n),a=(0,n3.Z)((0,tS.Z)(t)),s=(0,n3.Z)((0,ta.Z)(t)),i=(0,ts.Z)(t,s),l=(0,ts.Z)(t,a),r=(0,nS.Z)(t,"EEEE"),d=function(e){switch((0,nS.Z)(e,"EEEE")){case"Monday":return nW.Ci.MO;case"Tuesday":return nW.Ci.TU;case"Wednesday":return nW.Ci.WE;case"Thursday":return nW.Ci.TH;case"Friday":return nW.Ci.FR;case"Saturday":return nW.Ci.SA;default:return nW.Ci.SU}}(t),o=l?" last day of the month":tM((0,tC.Z)(t)),c=[new tR({name:`Every ${r}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.WEEKLY,interval:1,byweekday:[d]})}),new tR({name:`Every other ${r}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.WEEKLY,interval:2,byweekday:[d]})}),new tR({name:`Every month on the ${o}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:1,bymonthday:(0,tC.Z)(t)})}),new tR({name:`Every other month on the ${o}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:2,bymonthday:(0,tC.Z)(t)})}),new tR({name:`Every 3 months (quarter) on the ${o}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:3,bymonthday:(0,tC.Z)(t)})}),new tR({name:`Every 6 months on the ${o}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:6,bymonthday:(0,tC.Z)(t)})}),new tR({name:`Every year on the ${tM((0,tC.Z)(t))} of ${(0,nS.Z)(t,"MMMM")}`,rule:new nW.Ci({dtstart:t,freq:nW.Ci.YEARLY,interval:1,bymonth:(0,tE.Z)(t)+1,bymonthday:(0,tC.Z)(t)})})];return(i||15===(0,tC.Z)(t))&&c.push(new tR({name:"1st and 15th of every month",rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:1,bymonthday:[1,15]})})),(l||15===(0,tC.Z)(t))&&c.push(new tR({name:"15th and last day of every month",rule:new nW.Ci({dtstart:t,freq:nW.Ci.MONTHLY,interval:1,bymonthday:[15,-1]})})),c}(s);(0,r.useEffect)(()=>{console.debug("[MSelectFrequency]","date selection has changed and is no longer present in the rules");let n=null==a?void 0:a.values[e.name],s=n?i.findIndex(e=>e.equalRule(n)):-1;if(s>=0){console.debug("[MSelectFrequency]","found existing recurrence with the specified value"),t(s);return}t(null),null==a||a.setFieldValue(e.name,null),null==a||a.validateField(e.name)},[s]);let d=i.map((e,n)=>({label:e.name,value:n})),o=null!==n&&n>=0&&n<d.length?d[n]:null;return(0,l.jsx)(tT,{...e,placeholder:"Select a frequency...",disabled:null==a?void 0:a.isSubmitting,error:null==a?void 0:a.errors[e.name],isClearable:!1,label:e.label,name:e.name,onChange:function(n,s){t(n.value),null==a||a.setFieldValue(e.name,i[n.value].ruleString()),null==a||a.setFieldTouched(e.name,!0),null==a||a.validateField(e.name)},options:d,value:o})}tL.__docgenInfo={description:"",methods:[],displayName:"MSelectFrequency",props:{label:{required:!0,tsType:{name:"string"},description:""},labelDecorator:{required:!1,tsType:{name:"ReactFC",raw:"React.FC<MLabelDecoratorProps>",elements:[{name:"MLabelDecoratorProps"}]},description:""},error:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"union",raw:"V | undefined",elements:[{name:"unknown"},{name:"undefined"}]},description:""},name:{required:!0,tsType:{name:"string"},description:""},dateFrom:{required:!0,tsType:{name:"string"},description:""}},composes:["Omit"]};let tZ={label:null,labelDecorator:e=>null,disabled:!1,uppercasetext:void 0};function tD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tZ,n=(0,eq.u6)(),{labelDecorator:t,...a}=e={...tZ,...e,disabled:(null==e?void 0:e.disabled)||(null==n?void 0:n.isSubmitting),error:(null==e?void 0:e.error)||((null==n?void 0:n.touched[null==e?void 0:e.name])?null==n?void 0:n.errors[null==e?void 0:e.name]:null)},s=t||tZ.labelDecorator,i=v({"dark:focus:ring-dark-monetr-brand":!e.disabled&&!e.error,"dark:hover:ring-zinc-400":!e.disabled&&!e.error,"dark:ring-dark-monetr-border-string":!e.disabled&&!e.error,"dark:ring-red-500":!e.disabled&&!!e.error,"ring-gray-300":!e.disabled&&!e.error,"ring-red-300":!e.disabled&&!!e.error,uppercase:e.uppercasetext},{"focus:ring-purple-400":!e.error,"focus:ring-red-400":e.error},{"dark:bg-transparent":!e.disabled,"dark:text-zinc-200":!e.disabled,"text-gray-900":!e.disabled},{"dark:bg-dark-monetr-background-subtle":e.disabled,"dark:ring-dark-monetr-background-emphasis":e.disabled,"ring-gray-200":e.disabled,"text-gray-500":e.disabled},"block","border-0","focus:ring-2","focus:ring-inset","placeholder:text-gray-400","px-3","py-1.5","ring-1","ring-inset","rounded-lg","shadow-sm","sm:leading-6","text-sm","w-full","dark:caret-zinc-50","min-h-[38px]"),r=v({"pb-[18px]":!e.error},e.className),d=null==n?void 0:n.values[e.name];return(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(n8,{label:e.label,disabled:e.disabled,htmlFor:e.id,required:e.required,children:(0,l.jsx)(s,{name:e.name,disabled:e.disabled})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{value:d,onChange:null==n?void 0:n.handleChange,onBlur:null==n?void 0:n.handleBlur,disabled:(null==n?void 0:n.isSubmitting)||e.disabled,...a,className:i})}),(0,l.jsx)(function(){return e.error?(0,l.jsx)("p",{className:"text-xs font-medium text-red-500 mt-0.5",children:e.error}):null},{})]})}tD.__docgenInfo={description:"",methods:[],displayName:"MTextField"};let tP={name:"",nextOccurrence:(0,n5.Z)(),ruleset:"",excludeWeekends:!1,estimatedDeposit:void 0};function tq(){let e=(0,eZ.dd)(),n=(0,r.useRef)(null),{enqueueSnackbar:t}=(0,F.Ds)(),a=ea(),s=nM();async function i(n,i){return i.setSubmitting(!0),s(new nC({bankAccountId:a,name:n.name,nextRecurrence:(0,n3.Z)(new Date(n.nextOccurrence)),ruleset:n.ruleset,estimatedDeposit:null,excludeWeekends:!1})).then(n=>e.resolve(n)).then(()=>e.remove()).catch(e=>void t(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>i.setSubmitting(!1))}return(0,l.jsx)(eU,{open:e.visible,ref:n,className:"md:max-w-sm",children:(0,l.jsxs)(tf,{initialValues:tP,onSubmit:i,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-funding-modal",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{className:"font-bold text-xl mb-2",children:"Create A New Funding Schedule"}),(0,l.jsx)(tD,{autoFocus:!0,id:"funding-name-search",name:"name",label:"What do you want to call your funding schedule?",required:!0,autoComplete:"off",placeholder:"Example: Payday..."}),(0,l.jsx)(th,{name:"nextOccurrence",label:"When do you get paid next?",required:!0,min:(0,n5.Z)()}),(0,l.jsx)(tL,{dateFrom:"nextOccurrence",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How often do you get paid?",placeholder:"Select a funding frequency...",required:!0,name:"ruleset"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(n6,{variant:"destructive",onClick:e.remove,"data-testid":"close-new-funding-modal",children:"Cancel"}),(0,l.jsx)(n6,{variant:"primary",type:"submit",children:"Create"})]})]})})}let tz=eZ.ZP.create(tq);function tO(){return eZ.ZP.show(tz)}function tF(e){let n=(0,eq.u6)(),{data:t,isLoading:a,isError:s}=nE(),i=e.label??"Select a funding schedule";if(a)return(0,l.jsx)(tT,{className:null==e?void 0:e.className,disabled:!0,isLoading:!0,label:i,menuPortalTarget:e.menuPortalTarget,placeholder:"Select a funding schedule...",required:null==e?void 0:e.required});if(s)return(0,l.jsx)(tT,{className:null==e?void 0:e.className,disabled:!0,isLoading:!0,label:i,menuPortalTarget:e.menuPortalTarget,placeholder:"Failed to load funding schedules...",required:null==e?void 0:e.required});if(0===t.length)return(0,l.jsxs)("div",{className:"h-[84px] w-full",children:[(0,l.jsx)(n8,{label:e.label,required:e.required}),(0,l.jsxs)(e2,{variant:"primary",size:"select",className:"w-full font-normal text-start justify-start gap-2",onClick:function(){tO().then(t=>n.setFieldValue(e.name,t.fundingScheduleId))},children:[(0,l.jsx)(tl.Z,{}),"Create a new funding schedule..."]})]});let r=Array.from(t.values()).map(e=>({label:e.name,value:e.fundingScheduleId})),d=r.find(t=>t.value===n.values[e.name]);return(0,l.jsx)(tT,{label:"When do you want to fund the expense?",menuPlacement:"auto",menuPortalTarget:e.menuPortalTarget,menuPosition:"fixed",name:"fundingScheduleId",onChange:function(t){n.setFieldValue(e.name,t.value)},options:r,placeholder:"Select a funding schedule...",required:e.required,value:d,className:e.className})}tq.__docgenInfo={description:"",methods:[],displayName:"NewFundingModal"},tF.__docgenInfo={description:"",methods:[],displayName:"MSelectFunding",props:{label:{required:!1,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},menuPortalTarget:{required:!1,tsType:{name:"HTMLElement"},description:""}}};let tU={name:"",amount:0,nextOccurrence:(0,n5.Z)(),ruleset:"",fundingScheduleId:""};function tB(){let e=(0,eZ.dd)(),{enqueueSnackbar:n}=(0,F.Ds)(),t=ea(),a=n4(),s=(0,r.useRef)(null);async function i(s,i){let l=new nK({bankAccountId:t,name:s.name.trim(),nextRecurrence:(0,n3.Z)(new Date(s.nextOccurrence)),spendingType:n$.Expense,fundingScheduleId:s.fundingScheduleId,targetAmount:K(s.amount),ruleset:s.ruleset});return i.setSubmitting(!0),a(l).then(n=>e.resolve(n)).then(()=>e.remove()).catch(e=>void n(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>i.setSubmitting(!1))}return(0,l.jsx)(eU,{open:e.visible,ref:s,className:"sm:max-w-xl",children:(0,l.jsxs)(tf,{onSubmit:i,initialValues:tU,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-expense-modal",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{className:"font-bold text-xl mb-2",children:"Create A New Expense"}),(0,l.jsx)(tD,{id:"expense-name-search",name:"name",label:"What are you budgeting for?",required:!0,autoComplete:"off",placeholder:"Amazon, Netflix..."}),(0,l.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,l.jsx)(te,{name:"amount",label:"How much do you need?",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,l.jsx)(th,{className:"w-full md:w-1/2",label:"When do you need it next?",min:(0,n5.Z)(),name:"nextOccurrence",required:!0})]}),(0,l.jsx)(tF,{menuPortalTarget:document.body,label:"When do you want to fund the expense?",required:!0,name:"fundingScheduleId"}),(0,l.jsx)(tL,{dateFrom:"nextOccurrence",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How frequently do you need this expense?",placeholder:"Select a spending frequency...",required:!0,name:"ruleset"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(n6,{variant:"destructive",onClick:e.remove,"data-testid":"close-new-expense-modal",children:"Cancel"}),(0,l.jsx)(n6,{variant:"primary",type:"submit",children:"Create"})]})]})})}let tY=eZ.ZP.create(tB);function tG(){return eZ.ZP.show(tY)}tB.__docgenInfo={description:"",methods:[],displayName:"NewExpenseModal"};var tV=t("../node_modules/lucide-react/dist/esm/icons/plus.js");let tW=0;function tH(){let{result:e,isError:n,isLoading:t}=n0(n$.Expense),a=(0,r.useRef)(null),s=(0,O.ur)(),i=(0,r.useCallback)(()=>{tW=a.current.scrollTop},[a]);return((0,r.useEffect)(()=>{if(!a.current)return;"POP"===s&&(a.current.scrollTop=tW);let e=a.current;return a.current.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i)}},[a.current,s,i]),t)?(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})}):n?(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"We weren't able to retrieve expenses at this time..."})]}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(nQ,{icon:eN.Z,title:"Expenses",children:(0,l.jsxs)(e2,{variant:"primary",className:"gap-1 py-1 px-2",onClick:tG,children:[(0,l.jsx)(tV.Z,{}),"New Expense"]})}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",ref:a,children:(0,l.jsx)(function(){return 0===e.length?(0,l.jsx)(tQ,{}):(0,l.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:null==e?void 0:e.sort((e,n)=>e.name.toLowerCase()>n.name.toLowerCase()?1:-1).map(e=>(0,l.jsx)(nH,{spending:e},e.spendingId))})},{})})]})}function tQ(){return(0,l.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,l.jsxs)("div",{className:"w-full flex justify-center space-x-4",children:[(0,l.jsx)(nq.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,l.jsx)(nz.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,l.jsx)(eN.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})]}),(0,l.jsx)(eM,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any expenses yet..."}),(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"Expenses are budgets for recurring spending. Things like your streaming subscription, rent, or car payments."})]})})}tH.__docgenInfo={description:"",methods:[],displayName:"Expenses"};var t$=t("../node_modules/react-infinite-scroll-hook/dist/react-infinite-scroll-hook.esm.js"),tK=t("../node_modules/date-fns/esm/parse/index.js"),tJ=t("../node_modules/date-fns/esm/getUnixTime/index.js"),tX=t("../node_modules/lucide-react/dist/esm/icons/upload.js"),t0=t("../node_modules/ramda/es/pipe.js"),t1=t("../node_modules/ramda/es/groupBy.js"),t2=t("../node_modules/ramda/es/mapObjIndexed.js"),t4=t("../node_modules/ramda/es/values.js"),t5=t("../node_modules/ramda/es/map.js");function t3(e){let{date:n}=e,t=(0,nF.Z)(n)?(0,nS.Z)(n,"MMMM do"):(0,nS.Z)(n,"MMMM do, yyyy");return(0,l.jsx)("li",{className:"sticky top-0 z-10 h-10 flex items-center backdrop-blur-sm bg-gradient-to-t from-transparent dark:to-dark-monetr-background via-90% mr-4",children:(0,l.jsx)("span",{className:"dark:text-dark-monetr-content-subtle font-semibold text-base z-10 px-3 md:px-4",children:t})})}function t6(e){let{redirect:n}=e,t=(0,O.s0)();return(0,l.jsx)("button",{className:"flex-none dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:function(){t(n)},children:(0,l.jsx)(nO.Z,{})})}t3.__docgenInfo={description:"",methods:[],displayName:"TransactionDateItem",props:{date:{required:!0,tsType:{name:"Date"},description:""}}},t6.__docgenInfo={description:"",methods:[],displayName:"ArrowLink",props:{redirect:{required:!0,tsType:{name:"string"},description:""}}};var t7=t("../node_modules/react-select/dist/index-641ee5b8.esm.js"),t8=t("../node_modules/@tanstack/react-query/build/lib/useInfiniteQuery.mjs");class t9{getAmountString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=Math.abs(this.amount);return this.amount<0?`+ ${X(n,J.Stored,e,this.currency)}`:X(n,J.Stored,e,this.currency)}getIsAddition(){return this.amount<0}getName(){return this.name?this.name:this.originalName}getTitle(){if(this.name)return this.name;if(this.merchantName)return this.merchantName;if(this.originalMerchantName)return this.originalMerchantName;return this.originalName}getOriginalName(){return this.originalName}getMerchantName(){return this.merchantName?this.merchantName:this.originalMerchantName}getMainCategory(){return this.categories&&this.categories.length>0?this.categories[0]:"Other"}constructor(e){(0,N._)(this,"transactionId",void 0),(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"amount",void 0),(0,N._)(this,"spendingId",void 0),(0,N._)(this,"spendingAmount",void 0),(0,N._)(this,"categories",void 0),(0,N._)(this,"date",void 0),(0,N._)(this,"authorizedDate",void 0),(0,N._)(this,"name",void 0),(0,N._)(this,"originalName",void 0),(0,N._)(this,"merchantName",void 0),(0,N._)(this,"originalMerchantName",void 0),(0,N._)(this,"isPending",void 0),(0,N._)(this,"currency",void 0),(0,N._)(this,"createdAt",void 0),e&&Object.assign(this,{...e,date:(0,A.Z)(e.date),authorizedDate:e.authorizedDate??(0,A.Z)(e.authorizedDate),createdAt:(0,A.Z)(e.createdAt)})}}class ae{constructor(e){(0,N._)(this,"transactionClusterId",void 0),(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"name",void 0),(0,N._)(this,"members",void 0),(0,N._)(this,"createdAt",void 0),e?Object.assign(this,{...e,createdAt:e.createdAt??(0,A.Z)(e.createdAt)}):Object.assign(this,{members:[]})}}function an(e){let n=ea();return(0,k.a)([`/bank_accounts/${n}/transactions/${e}`],{enabled:!!n&&!!e,select:e=>new t9(e)})}function at(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().put(`/bank_accounts/${e.bankAccountId}/transactions/${e.transactionId}`,e).then(e=>e.data)}let{mutateAsync:t}=(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/transactions`],e=>({...e,pages:e.pages.map(e=>e.map(e=>e.transactionId===n.transaction.transactionId?n.transaction:e))})),e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/transactions/${n.transaction.transactionId}`],n.transaction),e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/spending`],e=>e.map(e=>(n.spending||[]).find(n=>n.spendingId===e.spendingId)||e)),(n.spending||[]).map(t=>e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/spending/${t.spendingId}`],t)),e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/balances`],e=>new nI({...e,...n.balance})),e.invalidateQueries([`/bank_accounts/${n.transaction.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${n.transaction.bankAccountId}/forecast/next_funding`])])});return t}function aa(e){let{transaction:n}=e,{result:t,isLoading:a}=nJ(),s=nT(),i=at(),d=tI(),[o,c]=(0,r.useState)(!1),u=`txn-${n.transactionId}-spending-input`;async function m(e){let t=e?e.spendingId:null;return t==n.spendingId?Promise.resolve():(c(!0),i(new t9({...n,spendingId:t})).finally(()=>{c(!1),setTimeout(()=>{document.getElementById(u).focus()},0)}))}let p={label:"Free-To-Use",value:null,spending:{currentAmount:null==s?void 0:s.free}},g=t.map(e=>({label:e.name,value:e.spendingId,spending:e})),x=[p,...g.sort((e,n)=>e.label.toLowerCase()>n.label.toLowerCase()?1:-1)],h=n.spendingId?g.find(e=>e.value===n.spendingId):p;return(0,l.jsx)("div",{className:"hidden md:flex w-1/2 flex-1 items-center",children:(0,l.jsx)(tb.ZP,{inputId:u,theme:e=>({...e,borderRadius:8,spacing:{controlHeight:32,baseUnit:3,menuGutter:15},colors:{...e.colors,neutral0:d.tailwind.colors["dark-monetr"].background.DEFAULT,neutral5:d.tailwind.colors["dark-monetr"].background.subtle,neutral10:d.tailwind.colors["dark-monetr"].background.emphasis,neutral20:d.tailwind.colors["dark-monetr"].border.string,neutral30:d.tailwind.colors["dark-monetr"].content.DEFAULT,neutral60:d.tailwind.colors["dark-monetr"].content.emphasis,neutral70:d.tailwind.colors["dark-monetr"].content.emphasis,neutral80:d.tailwind.colors["dark-monetr"].content.emphasis,neutral90:d.tailwind.colors["dark-monetr"].content.emphasis,primary25:d.tailwind.colors["dark-monetr"].background.emphasis,primary50:d.tailwind.colors["dark-monetr"].brand.faint,primary:d.tailwind.colors["dark-monetr"].brand.DEFAULT}}),menuPortalTarget:document.body,components:{Option:as},styles:{placeholder:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem"}),valueContainer:e=>({...e,fontSize:"0.875rem",lineHeight:"1.5rem",padding:"0px 5px"}),option:e=>({...e,color:d.tailwind.colors["dark-monetr"].content.emphasized}),menuPortal:e=>({...e,zIndex:9999})},classNamePrefix:"m-select-spending-transaction",isLoading:o||a&&!!n.spendingId,onChange:function(e,n){return m(e.spending)},formatOptionLabel:function(e,n){return"value"===n.context?(0,l.jsxs)(r.Fragment,{children:["Spent From ",(0,l.jsx)("span",{className:v({"font-bold dark:text-dark-monetr-content-emphasis":!!e.value}),children:e.label})]}):e.label},options:x,value:h,className:"w-full"})})}function as(e){var n,t,a;let{children:s,...i}=e,r=(null===(n=i.data.spending)||void 0===n?void 0:n.currentAmount)===void 0?"N/A":X(i.data.spending.currentAmount);return(0,l.jsx)(t7.c.Option,{...i,children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{size:"md",color:"emphasis",children:i.label}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(null===(t=i.data.spending)||void 0===t?void 0:t.spendingType)===n$.Goal&&(0,l.jsx)(ny,{size:"sm",className:"dark:bg-dark-monetr-blue  max-h-[24px]",children:(0,l.jsx)(ek.Z,{})}),(null===(a=i.data.spending)||void 0===a?void 0:a.spendingType)===n$.Expense&&(0,l.jsx)(ny,{size:"sm",className:"dark:bg-dark-monetr-green max-h-[24px]",children:(0,l.jsx)(eN.Z,{})}),(0,l.jsx)(ny,{size:"sm",children:r})]})]})})}function ai(e){let{pending:n,...t}=e;return n?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(nV,{...t}),(0,l.jsxs)("span",{className:"absolute flex h-3 w-3 right-0 bottom-0",children:[(0,l.jsx)("span",{className:"animate-ping-slow absolute inline-flex h-full w-full rounded-full bg-blue-400"}),(0,l.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]}):(0,l.jsx)(nV,{...t})}function al(e){let{transaction:n}=e,t=D(),a=function(e){let{result:n}=nJ();return e&&n.find(n=>n.spendingId===e)||null}(n.spendingId),s=(0,O.s0)(),i=`/bank/${n.bankAccountId}/transactions/${n.transactionId}/details`,r=v({"dark:text-dark-monetr-green":n.getIsAddition(),"dark:text-dark-monetr-red":!n.getIsAddition()},"text-end","font-semibold");function d(e){let t=v("overflow-hidden","text-ellipsis","whitespace-nowrap","min-w-0",e.className),s=v({"font-bold":!!n.spendingId,"dark:text-dark-monetr-content-emphasis":!!n.spendingId,"font-medium":!n.spendingId,"dark:text-dark-monetr-content":!n.spendingId},"md:text-base","min-w-0","overflow-hidden","text-ellipsis","text-sm","whitespace-nowrap");return n.getIsAddition()?(0,l.jsx)("span",{className:t,children:(0,l.jsx)("span",{className:"min-w-0 flex-none truncate font-medium dark:text-dark-monetr-content-subtle",children:"Contribution"})}):(0,l.jsxs)("span",{className:t,children:[(0,l.jsx)("span",{className:"min-w-0 flex-none truncate font-medium dark:text-dark-monetr-content",children:"Spent from"}),"\xa0",(0,l.jsx)("span",{className:s,children:(null==a?void 0:a.name)||"Free-To-Use"})]})}return(0,l.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:()=>s(i)}),(0,l.jsxs)("div",{className:"group flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,l.jsx)(ai,{name:n.getName(),pending:n.isPending}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-col overflow-hidden",children:[(0,l.jsx)("span",{className:"w-full min-w-0 truncate text-base font-semibold dark:text-dark-monetr-content-emphasis",children:n.getName()}),(0,l.jsx)("span",{className:"hidden w-full min-w-0 truncate text-sm font-medium dark:text-dark-monetr-content md:block",children:n.getMainCategory()}),(0,l.jsx)(d,{className:"flex w-full text-sm md:hidden"})]})]}),!n.getIsAddition()&&(0,l.jsx)(aa,{transaction:n}),n.getIsAddition()&&(0,l.jsx)(d,{className:"hidden md:flex w-1/2 flex-1 items-center pl-6"}),(0,l.jsxs)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:[(0,l.jsx)("span",{className:r,children:n.getAmountString(t.account.locale)}),(0,l.jsx)(t6,{redirect:i})]})]})]})}aa.__docgenInfo={description:"",methods:[],displayName:"MSelectSpendingTransaction",props:{transaction:{required:!0,tsType:{name:"Transaction"},description:""}}},as.__docgenInfo={description:"",methods:[],displayName:"SpendingSelectOption"},ai.__docgenInfo={description:"",methods:[],displayName:"TransactionMerchantIcon",props:{name:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},pending:{required:!1,tsType:{name:"boolean"},description:""}}},al.__docgenInfo={description:"",methods:[],displayName:"TransactionItem",props:{transaction:{required:!0,tsType:{name:"Transaction"},description:""}}};let ar="spnd_freeToUse";function ad(e){let n=(0,eq.u6)(),{result:t,isLoading:a,isError:s}=nJ(),i=nT();if(e={label:"Spent From",placeholder:"Select a spending item...",disabled:null==n?void 0:n.isSubmitting,...e},a)return(0,l.jsx)(tT,{...e,isLoading:!0,disabled:!0,placeholder:"Loading..."});if(s)return(0,l.jsx)(tT,{...e,isLoading:!0,disabled:!0,placeholder:"Failed to load spending..."});let r={label:"Free-To-Use",value:ar,spending:new nK({spendingId:ar,currentAmount:null==i?void 0:i.free})},d=t.map(e=>({label:e.name,value:e.spendingId,spending:e})),o=n.values[e.excludeFrom],c=[r,...d.sort((e,n)=>e.label.toLowerCase()>n.label.toLowerCase()?1:-1)].filter(n=>e.excludeFrom&&o?n.value!==o:!e.excludeFrom||!!o||n.value!==ar),u=n.values[e.name],m=c.find(e=>e.value===(u??ar));return(0,l.jsx)(tT,{...e,options:c,value:m,onChange:function(t){return t.value===ar?n.setFieldValue(e.name,null):n.setFieldValue(e.name,t.value)},components:{Option:ao},isClearable:!1})}function ao(e){var n,t,a;let{children:s,...i}=e,r=(null===(n=i.data.spending)||void 0===n?void 0:n.currentAmount)===void 0?"N/A":X(i.data.spending.currentAmount);return(0,l.jsx)(t7.c.Option,{...i,children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{size:"md",color:"emphasis",children:i.label}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(null===(t=i.data.spending)||void 0===t?void 0:t.spendingType)===n$.Goal&&(0,l.jsx)(ny,{size:"sm",className:"dark:bg-dark-monetr-blue  max-h-[24px]",children:(0,l.jsx)(ek.Z,{})}),(null===(a=i.data.spending)||void 0===a?void 0:a.spendingType)===n$.Expense&&(0,l.jsx)(ny,{size:"sm",className:"dark:bg-dark-monetr-green max-h-[24px]",children:(0,l.jsx)(eN.Z,{})}),(0,l.jsx)(ny,{size:"sm",children:r})]})]})})}ad.__docgenInfo={description:"",methods:[],displayName:"MSelectSpending",props:{excludeFrom:{required:!1,tsType:{name:"string"},description:""}},composes:["MSelecteSpendingBaseProps"]};var ac=t("../node_modules/@radix-ui/react-switch/dist/index.mjs");let au=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(ac.fC,{className:v("peer inline-flex items-center h-6 w-11 shrink-0","cursor-pointer","border-2 border-transparent rounded-full","transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-dark-monetr-green data-[state=unchecked]:bg-dark-monetr-background-subtle",t),...a,ref:n,children:(0,l.jsx)(ac.bU,{className:v("pointer-events-none","block h-5 w-5 rounded-full","bg-dark-monetr-content-emphasis shadow-lg","ring-0 transition-transform","data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});au.displayName=ac.fC.displayName,au.__docgenInfo={description:"",methods:[]};var am=t("../node_modules/@radix-ui/react-tabs/dist/index.mjs");let ap=am.fC,ag=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(am.aV,{ref:n,className:v("inline-flex justify-center items-center","rounded-md p-1 h-10","text-dark-monetr-content-subtle","bg-dark-monetr-background-subtle",t),...a})});ag.displayName=am.aV.displayName;let ax=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(am.xz,{ref:n,className:v("inline-flex items-center justify-center","whitespace-nowrap","rounded-md px-3 py-1.5","text-sm font-medium","ring-offset-background transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","data-[state=active]:bg-dark-monetr-background data-[state=active]:text-dark-monetr-content-emphasis","data-[state=active]:shadow-sm",t),...a})});ax.displayName=am.xz.displayName;let ah=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(am.VY,{ref:n,className:v("mt-2","ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});ah.displayName=am.VY.displayName,ah.__docgenInfo={description:"",methods:[]},ag.__docgenInfo={description:"",methods:[]},ax.__docgenInfo={description:"",methods:[]};let af={name:"",date:(0,tt.Z)(),amount:0,spendingId:null,kind:"debit",isPending:!1,adjustsBalance:!1};function ab(){let e=(0,eZ.dd)(),n=(0,r.useRef)(null),{enqueueSnackbar:t}=(0,F.Ds)(),a=ea(),s=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().post(`/bank_accounts/${e.bankAccountId}/transactions`,e).then(e=>e.data)}let{mutateAsync:t}=(0,E.D)(n,{onSuccess:n=>Promise.all([e.invalidateQueries([`/bank_accounts/${n.transaction.bankAccountId}/transactions`]),e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/spending`],e=>e.map(e=>{var t;return(null==n?void 0:null===(t=n.spending)||void 0===t?void 0:t.spendingId)==e.spendingId?null==n?void 0:n.spending:e})),null!=n.spending&&e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/spending/${n.spending.spendingId}`],n.spending),e.setQueriesData([`/bank_accounts/${n.transaction.bankAccountId}/balances`],e=>new nI({...e,...n.balance}))])});return t}();async function i(n,i){let l={bankAccountId:a,amount:K("credit"===n.kind?-1*n.amount:n.amount),name:n.name,merchantName:null,date:n.date,isPending:n.isPending,spendingId:n.spendingId,adjustsBalance:n.adjustsBalance};return i.setSubmitting(!0),s(l).then(()=>e.remove()).catch(e=>void t(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>i.setSubmitting(!1))}return(0,l.jsx)(eU,{open:e.visible,ref:n,className:"sm:max-w-xl",children:(0,l.jsx)(tf,{onSubmit:i,className:"h-full flex flex-col gap-2 p-2 justify-between",initialValues:af,children:n=>{let{setFieldValue:t,values:a}=n;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",className:"mb-2",children:"Create A New Transaction"}),(0,l.jsxs)(ap,{defaultValue:"debit",className:"w-full mb-2",onValueChange:e=>t("kind",e),children:[(0,l.jsxs)(ag,{className:"w-full",children:[(0,l.jsx)(ax,{className:"w-full",value:"debit",children:"Debit"}),(0,l.jsx)(ax,{className:"w-full",value:"credit",children:"Credit"})]}),(0,l.jsxs)(ah,{value:"debit",children:[(0,l.jsx)(tD,{name:"name",label:"Name / Description",required:!0,autoComplete:"off",placeholder:"Amazon, Netflix...","data-1p-ignore":!0}),(0,l.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,l.jsx)(te,{name:"amount",label:"Amount",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,l.jsx)(th,{className:"w-full md:w-1/2",label:"Date",name:"date",required:!0})]}),(0,l.jsx)(ad,{className:"w-full",name:"spendingId",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom"}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg ring-1 p-2 ring-dark-monetr-border-string mb-4",children:[(0,l.jsxs)("div",{className:"space-y-0.5",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-dark-monetr-content-emphasis cursor-pointer",children:"Adjust Balance"}),(0,l.jsx)("p",{className:"text-sm text-dark-monetr-content",children:"Update your account balance for this transaction?"})]}),(0,l.jsx)(au,{checked:a.adjustsBalance,onCheckedChange:()=>t("adjustsBalance",!a.adjustsBalance)})]})]}),(0,l.jsxs)(ah,{value:"credit",children:[(0,l.jsx)(tD,{name:"name",label:"Name / Description",required:!0,autoComplete:"off",placeholder:"Paycheck, Deposit...","data-1p-ignore":!0}),(0,l.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,l.jsx)(te,{name:"amount",label:"Amount",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,l.jsx)(th,{className:"w-full md:w-1/2",label:"Date",name:"date",required:!0})]}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between rounded-lg ring-1 p-2 ring-dark-monetr-border-string mb-4",children:[(0,l.jsxs)("div",{className:"space-y-0.5",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-dark-monetr-content-emphasis",children:"Adjust Balance"}),(0,l.jsx)("p",{className:"text-sm text-dark-monetr-content",children:"Update your account balance for this transaction?"})]}),(0,l.jsx)(au,{checked:a.adjustsBalance,onCheckedChange:()=>t("adjustsBalance",!a.adjustsBalance)})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(n6,{variant:"destructive",onClick:e.remove,"data-testid":"close-new-transaction-modal",children:"Cancel"}),(0,l.jsx)(n6,{variant:"primary",type:"submit",children:"Create"})]})]})}})})}let av=eZ.ZP.create(ab);function aj(){return eZ.ZP.show(av)}ab.__docgenInfo={description:"",methods:[],displayName:"NewTransactionModal"};var aw=t("../node_modules/react-dropzone/dist/es/index.js"),ay=t("../node_modules/@mui/icons-material/esm/FilePresentOutlined.js"),aN=t("../node_modules/@mui/icons-material/esm/Close.js"),ak=t("../node_modules/@mui/icons-material/esm/UploadFileOutlined.js"),aA=t("../node_modules/axios/lib/axios.js");function aI(e){return(0,l.jsxs)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,l.jsx)(ay.Z,{className:"text-6xl text-dark-monetr-content"}),(0,l.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,l.jsx)(eM,{size:"lg",children:e.error.filename}),(0,l.jsxs)(eM,{children:["Failed to import data: ",e.error.message]})]})]})]}),(0,l.jsx)("div",{className:"flex justify-end gap-2 mt-2",children:(0,l.jsx)(eO,{color:"secondary",onClick:e.close,children:"Close"})})]})}aI.__docgenInfo={description:"",methods:[],displayName:"ErrorFileStage",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},error:{required:!0,tsType:{name:"signature",type:"object",raw:"{message: string; filename: string}",signature:{properties:[{key:"message",value:{name:"string",required:!0}},{key:"filename",value:{name:"string",required:!0}}]}},description:""}}};class aT{constructor(e){(0,N._)(this,"transactionUploadId",void 0),(0,N._)(this,"bankAccountId",void 0),(0,N._)(this,"fileId",void 0),(0,N._)(this,"file",void 0),(0,N._)(this,"status",void 0),(0,N._)(this,"error",void 0),(0,N._)(this,"createdAt",void 0),(0,N._)(this,"createdBy",void 0),(0,N._)(this,"processedAt",void 0),(0,N._)(this,"completedAt",void 0),e&&Object.assign(this,{...e,createdAt:(null==e?void 0:e.createdAt)&&(0,A.Z)(null==e?void 0:e.createdAt),processedAt:(null==e?void 0:e.processedAt)&&(0,A.Z)(null==e?void 0:e.processedAt),completedAt:(null==e?void 0:e.completedAt)&&(0,A.Z)(null==e?void 0:e.completedAt)})}}function a_(e){let{data:n}=function(e,n){let t=(0,C.NL)();return(0,r.useEffect)(()=>{let a="https:"===location.protocol?"wss":"ws",s=new WebSocket(`${a}://${location.host}/api/bank_accounts/${e}/transactions/upload/${n}/progress`);return s.onopen=()=>{console.log("Listening for transaction upload progress messages for",{bankAccountId:e,transactionUploadId:n})},s.onmessage=a=>{if(!a.data)return;let s=JSON.parse(a.data),i=[`/bank_accounts/${e}/transactions/upload/${n}`];t.setQueryData(i,e=>({...e??{},...s}))},()=>s.close()},[e,t,n]),(0,k.a)([`/bank_accounts/${e}/transactions/upload/${n}`],{initialData:()=>null,select:e=>new aT(e)})}(e.upload.bankAccountId,e.upload.transactionUploadId);return(0,l.jsxs)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,l.jsx)("div",{})]}),(0,l.jsx)(eM,{children:"Your upload is currently pending or processing, keep this window open to see its status. You can also safely close this window. Your upload will not be interuptted."}),(0,l.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,l.jsx)(ay.Z,{className:"text-6xl text-dark-monetr-content"}),(0,l.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,l.jsx)(eM,{size:"lg",children:e.upload.file.name}),(0,l.jsxs)(eM,{children:["Import ",(null==n?void 0:n.status)||"processing","!"]})]})]})]}),(0,l.jsx)("div",{className:"flex justify-end gap-2 mt-2",children:(0,l.jsx)(eO,{color:"secondary",onClick:e.close,children:"Done"})})]})}a_.__docgenInfo={description:"",methods:[],displayName:"ProcessingFileStage",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},upload:{required:!0,tsType:{name:"TransactionUpload"},description:""},setStage:{required:!0,tsType:{name:"signature",type:"function",raw:"(stage: UploadTransactionStage) => void",signature:{arguments:[{type:{name:"UploadTransactionStage"},name:"stage"}],return:{name:"void"}}},description:""}}};function aS(){let e=(0,eZ.dd)(),n=(0,r.useRef)(null),t=(0,C.NL)(),a=ea(),[s,i]=(0,r.useState)(1),[d,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),m=(0,r.useCallback)(()=>(4===s&&(t.invalidateQueries([`/bank_accounts/${a}/transactions`]),t.invalidateQueries([`/bank_accounts/${a}/balances`])),e.remove()),[s,e,t,a]);return(0,l.jsx)(eU,{open:e.visible,ref:n,className:"sm:max-w-xl",children:(0,l.jsx)(function(){switch(s){case 1:return(0,l.jsx)(aC,{setResult:u,setStage:i,setError:o,close:e.remove});case 4:return(0,l.jsx)(a_,{upload:c,setStage:i,close:m});case 5:default:return null;case 6:return(0,l.jsx)(aI,{error:d,close:m})}},{})})}function aC(e){let n=ea(),[t,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(-1),d=(0,r.useCallback)(e=>{a(e[0])},[]),{getRootProps:o,getInputProps:c,isDragActive:u}=(0,aw.uI)({onDrop:d,accept:{"application/vnd.intu.QFX":[".ofx",".qfx"]}});async function m(a){a.preventDefault();let s=new FormData;return s.append("data",t,t.name),i(0),aA.Z.post(`/api/bank_accounts/${n}/transactions/upload`,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){i(Math.round(100*e.loaded/e.total))}}).then(n=>{e.setResult(new aT(n.data)),e.setStage(4)}).catch(n=>{console.error("file upload failed",n);let a=n.response.data.error||"Unkown error";e.setError({message:a,filename:t.name}),e.setStage(6)})}let p=v("border-dashed rounded-md w-full border p-8 flex justify-center flex-col items-center cursor-pointer",{"border-dark-monetr-border hover:border-dark-monetr-border-string":!u},{"border-dark-monetr-brand-subtle":u});return s>=0?(0,l.jsx)("div",{className:"h-full flex flex-col gap-2 p-2 justify-between",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,l.jsx)(ay.Z,{className:"text-6xl text-dark-monetr-content"}),(0,l.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,l.jsx)(eM,{size:"lg",children:t.name}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:(0,l.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${s}%`}})})]})]})]})}):t?(0,l.jsxs)("form",{onSubmit:m,className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,l.jsx)("div",{})]}),(0,l.jsx)(eM,{children:"Upload a QFX or OFX file to import transaction data manually into your account. Maximum of 5MB."}),(0,l.jsxs)("div",{className:"flex gap-2 items-center border rounded-md w-full p-2 border-dark-monetr-border",children:[(0,l.jsx)(ay.Z,{className:"text-6xl text-dark-monetr-content"}),(0,l.jsxs)("div",{className:"flex flex-col py-1 w-full",children:[(0,l.jsx)(eM,{size:"lg",children:t.name}),(0,l.jsx)(eM,{children:function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=n?1e3:1024;if(Math.abs(e)<a)return`${e} B`;let s=n?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1,l=10**t;do e/=a,++i;while(Math.round(Math.abs(e)*l)/l>=a&&i<s.length-1);return`${e.toFixed(t)} ${s[i]}`}(t.size)})]}),(0,l.jsx)(aN.Z,{className:"mr-2 text-dark-monetr-content-subtle hover:text-dark-monetr-content cursor-pointer"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,l.jsx)(eO,{color:"secondary",onClick:e.close,children:"Cancel"}),(0,l.jsx)(eO,{color:"primary",type:"submit",children:"Upload"})]})]}):(0,l.jsxs)("form",{onSubmit:m,className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 h-full",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",children:"Upload Transactions"}),(0,l.jsx)("div",{})]}),(0,l.jsx)(eM,{children:"Upload a QFX or OFX file to import transaction data manually into your account. Maximum of 5MB."}),(0,l.jsxs)("div",{...o(),className:p,children:[(0,l.jsx)("input",{...c()}),(0,l.jsx)(ak.Z,{className:"text-6xl text-dark-monetr-content"}),(0,l.jsx)(eM,{size:"lg",weight:"semibold",children:"Drag QFX file here"}),(0,l.jsx)(eM,{children:"Or click to browse"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,l.jsx)(eO,{color:"secondary",onClick:e.close,children:"Cancel"}),(0,l.jsx)(eO,{color:"primary",type:"submit",children:"Upload"})]})]})}let aE=eZ.ZP.create(aS);function aR(){return eZ.ZP.show(aE)}aS.__docgenInfo={description:"",methods:[],displayName:"UploadTransactionsModal"};let aM=0;function aL(){let{result:e}=T(),{isLoading:n,isError:t,isFetching:a,fetchNextPage:s,result:i,hasNextPage:d}=function(){var e,n;let t=ea(),a=(0,t8.N)([`/bank_accounts/${t}/transactions`],{getNextPageParam:(e,n)=>25*n.length,enabled:!!t});return{...a,hasNextPage:!(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.pages.some(e=>e.length<25)),result:(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.pages.flatMap(e=>e).map(e=>new t9(e)))||[]}}(),{data:o}=H(),c=(0,r.useRef)(null),u=(0,O.ur)(),m=(0,r.useCallback)(()=>{aM=c.current.scrollTop},[c]);(0,r.useEffect)(()=>{if(!c.current)return;"POP"===u&&(c.current.scrollTop=aM);let e=c.current;return c.current.addEventListener("scroll",m),()=>{e.removeEventListener("scroll",m)}},[c.current,u,m]);let p=n||a,[g]=(0,t$.Z)({loading:p,hasNextPage:d,onLoadMore:s,disabled:t,rootMargin:"0px 0px 0px 0px"});if(n)return(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})});if(t)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"We weren't able to retrieve transactions at this time..."})]});function x(){return(null==o?void 0:o.getIsManual())&&(null==e?void 0:e.manualEnabled)?(0,l.jsxs)(e2,{variant:"primary",onClick:aR,className:"hidden md:flex",children:[(0,l.jsx)(tX.Z,{}),"Upload"]}):null}let h="No more transactions...";return(p?h="Loading...":d&&(h="Load more?"),n||0!==i.length)?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(nQ,{icon:ey.Z,title:"Transactions",children:[(0,l.jsx)(x,{}),(0,l.jsx)(aZ,{})]}),(0,l.jsx)("div",{className:"flex flex-grow min-w-0 min-h-0",children:(0,l.jsxs)("ul",{className:"w-full overflow-y-auto pb-16",ref:c,children:[(0,l.jsx)(function(){return t0.Z(t1.Z(e=>(0,nS.Z)(e.date,"yyyy-MM-dd")),t2.Z((e,n)=>({transactions:e,group:(0,tK.Z)(n,"yyyy-MM-dd",new Date)})),t4.Z,t5.Z(e=>{let{transactions:n,group:t}=e;return(0,l.jsx)("li",{children:(0,l.jsxs)("ul",{className:"flex gap-2 flex-col",children:[(0,l.jsx)(t3,{date:t}),n.map(e=>(0,l.jsx)(al,{transaction:e},e.transactionId))]})},(0,tJ.Z)(t))}))(i)},{}),p&&(0,l.jsx)("li",{ref:g,children:(0,l.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,l.jsx)("h1",{children:h})})}),!p&&d&&(0,l.jsx)("li",{ref:g,children:(0,l.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,l.jsx)("h1",{children:h})})}),!p&&!d&&(0,l.jsx)("li",{children:(0,l.jsx)("div",{className:"w-full flex justify-center p-5 opacity-70",children:(0,l.jsx)("h1",{children:h})})})]})})]}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(nQ,{icon:ey.Z,title:"Transactions",children:[(0,l.jsx)(x,{}),(0,l.jsx)(aZ,{})]}),(0,l.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,l.jsx)("div",{className:"w-full flex justify-center space-x-4",children:(0,l.jsx)(ey.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})}),(0,l.jsx)(eM,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any transactions yet..."}),(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"Transactions will show up here once we receive them from Plaid. Or the current account might not support transaction data from Plaid."})]})})]})}function aZ(){let{data:e}=H();return e&&e.getIsManual()?(0,l.jsx)("button",{className:"fixed bottom-4 right-4 w-14 h-14 rounded-full bg-dark-monetr-background backdrop-blur-sm bg-opacity-75 backdrop-brightness-200 z-20 flex items-center justify-center active:backdrop-brightness-50",onClick:aj,children:(0,l.jsx)(tV.Z,{className:"h-12 w-12 text-dark-monetr-content"})}):null}function aD(e){return(0,l.jsxs)("div",{className:"w-full h-full bg-background flex",children:[(0,l.jsx)(ex,{}),(0,l.jsx)("div",{className:"w-full h-full flex min-w-0",children:e.children})]})}aL.__docgenInfo={description:"",methods:[],displayName:"Transactions"};aD.__docgenInfo={description:"",methods:[],displayName:"MonetrWrapper",props:{children:{required:!0,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""}}};var aP=t("../interface/src/api/api.ts"),aq=t("../node_modules/@sentry/react/build/esm/reactrouterv6.js");function az(){var e;let n=(0,O.bS)("/bank/:bankId/*"),t=!!(null==n?void 0:null===(e=n.params)||void 0===e?void 0:e.bankId),{setMobileSidebarOpen:a,mobileSidebarOpen:s}=ep(),{pathname:i}=(0,O.TH)();return((0,r.useEffect)(()=>{a(!1)},[i,a]),s)?(0,l.jsxs)("div",{className:"fixed z-40 w-screen h-screen top-0 left-0 lg:hidden bg-background flex flex-row backdrop-blur-sm dark:bg-opacity-50 backdrop-brightness-50",children:[(0,l.jsx)(ex,{}),t&&(0,l.jsx)(nL,{className:"w-auto flex-auto border-none overflow-y-auto"})]}):null}az.__docgenInfo={description:"",methods:[],displayName:"MobileSidebar"};var aO=t("../node_modules/@mui/icons-material/esm/SettingsOutlined.js");function aF(){var e;let n=T();return(0,l.jsxs)("div",{className:"w-full h-full min-w-0 flex flex-col",children:[(0,l.jsx)(nQ,{icon:aO.Z,title:"Settings"}),(0,l.jsxs)("div",{className:"w-full flex px-4 mt-4 gap-6",children:[(0,l.jsx)(aU,{to:"/settings/overview",children:"Overview"}),(0,l.jsx)(aU,{to:"/settings/security",children:"Security"}),(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.billingEnabled)&&(0,l.jsx)(aU,{to:"/settings/billing",children:"Billing"}),(0,l.jsx)(aU,{to:"/settings/about",children:"About"})]}),(0,l.jsx)(eo,{}),(0,l.jsx)(O.j3,{})]})}function aU(e){let n=eL({className:"cursor-pointer pb-3",weight:(0,O.TH)().pathname===e.to?"bold":"normal"});return(0,l.jsx)(c.rU,{to:e.to,className:n,children:e.children})}aF.__docgenInfo={description:"",methods:[],displayName:"SettingsLayout"};let aB={size:"md",color:"primary"};function aY(e){e={...aB,...e};let n=v("font-semibold",...{primary:["dark:text-dark-monetr-brand-faint","dark:hover:text-dark-monetr-brand-bright","text-purple-500","hover:text-purple-600","rounded","focus:ring-1","focus:ring-purple-500"],secondary:["text-gray-400","hover:text-gray-500"]}[e.color],`text-${e.size}`,e.className);return(0,l.jsx)(c.rU,{...e,className:n,children:e.children})}function aG(e){return(0,l.jsx)("img",{...e,src:q})}function aV(e){let n=v("h-12","w-12",e.className,"animate-spin");return(0,l.jsx)("div",{"aria-label":"Loading...",role:"status",children:(0,l.jsxs)("svg",{className:n,viewBox:"3 3 18 18",children:[(0,l.jsx)("path",{className:"fill-dark-monetr-background-subtle",d:"M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"}),(0,l.jsx)("path",{className:"fill-dark-monetr-brand",d:"M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z"})]})})}function aW(){return(0,l.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,l.jsx)(aY,{to:"/logout",size:"sm",children:"Logout for now"})]})}function aH(e){let[{token:n,loading:t,error:a,exited:s,settingUp:i},d]=(0,r.useState)({error:null,exited:!1,loading:!1,settingUp:!1,token:null}),o=(0,C.NL)(),c=(0,O.s0)();async function u(e,i){if(d({token:n,loading:t,error:a,exited:s,settingUp:!0}),e>6)return Promise.resolve();(0,L.Z)().get(`/plaid/link/setup/wait/${i}`).catch(n=>{if(408===n.response.status)return u(e+1,i);throw n})}async function m(e,t){return(0,L.Z)().post("/plaid/link/token/callback",{publicToken:e,institutionId:t.institution.institution_id,institutionName:t.institution.name,accountIds:t.accounts.map(e=>e.id)}).then(async e=>{let n=e.data.linkId;await u(0,n),setTimeout(()=>{o.invalidateQueries(["/links"]),o.invalidateQueries(["/bank_accounts"]),c("/")},8e3)}).catch(e=>{d({token:n,error:e,loading:!1,settingUp:!1})})}let{error:p,open:g}=(0,eG.usePlaidLink)({token:n,onSuccess:m,onExit:function(e,a){e?(console.warn("Plaid link exited with error",{"plaid.request_id":a.request_id,"plaid.link_session_id":a.link_session_id,data:e}),S.eN({message:"Plaid link exited with error",level:"error",tags:{"plaid.request_id":a.request_id,"plaid.link_session_id":a.link_session_id},breadcrumbs:[{type:"info",level:"info",message:"Error from Plaid link",data:e}]}),d({token:n,loading:t,exited:s,error:"Plaid link exited with an error."})):d({token:n,loading:t,exited:!0})},onLoad:null,onEvent:null});(0,r.useEffect)(()=>{(0,L.Z)().get("/plaid/link/token/new?use_cache=true").then(e=>setTimeout(()=>{d({loading:!1,token:e.data.linkToken,error:null})},1e3)).catch(e=>setTimeout(()=>{var n,t;d({loading:!1,token:null,error:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.error)||"Could not connect to Plaid, an unknown error occurred."})},3e3))},[]),(0,r.useEffect)(()=>{n&&g&&(g(),d({token:n,loading:!0}))},[n,g]),(0,r.useEffect)(()=>{p&&S.Tb(p)},[p]);let x=(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)(eM,{className:"text-2xl font-medium",children:"Getting Plaid Ready!"}),(0,l.jsx)(eM,{className:"text-lg",color:"subtle",children:"One moment while we prepare your connection with Plaid."})]});if(i&&(x=(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)(eM,{className:"text-2xl font-medium",children:"Successfully connected with Plaid!"}),(0,l.jsx)(eM,{className:"text-lg",color:"subtle",children:"Hold on a moment while we pull the initial data from Plaid into monetr."})]})),t&&(x=(0,l.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,l.jsx)(aV,{})})),a&&(x=(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)(eM,{className:"text-2xl font-medium",children:"Something isn't quite right"}),(0,l.jsx)(eM,{className:"text-lg",color:"subtle",children:"We were not able to get Plaid ready for you at this time, please try again shortly."}),(0,l.jsx)(eM,{className:"text-lg",color:"subtle",children:"If the problem continues, please contact support@monetr.app"}),(0,l.jsxs)(eM,{className:"text-md",color:"muted",children:["Error Message: ",a]})]})),s){let n=e.alreadyOnboarded?"/link/create":"/setup";x=(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)(eM,{size:"2xl",weight:"medium",children:"Something isn't quite right"}),(0,l.jsx)(eM,{size:"lg",color:"subtle",children:"Plaid exited, did you want to set it up later?"}),(0,l.jsxs)(eM,{size:"md",color:"subtle",children:["Or ",(0,l.jsx)(aY,{to:n,children:"go back"})," and pick another option?"]})]})}return(0,l.jsxs)("div",{className:"w-full h-full flex justify-center items-center gap-8 flex-col overflow-hidden text-center p-2",children:[(0,l.jsx)(aG,{className:"w-24 h-24"}),x,(0,l.jsx)(function(){return e.alreadyOnboarded?null:(0,l.jsx)(aW,{})},{})]})}function aQ(){return(0,l.jsxs)("div",{className:"w-full h-full items-center justify-center flex flex-col gap-8",children:[(0,l.jsx)(aG,{className:"w-24 h-24"}),(0,l.jsxs)("div",{className:"blobs flex items-center justify-center",children:[(0,l.jsx)("div",{className:"dot blob dark:bg-dark-monetr-brand"}),(0,l.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"}),(0,l.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"}),(0,l.jsx)("div",{className:"dots blob dark:bg-dark-monetr-brand"})]}),(0,l.jsx)(eM,{className:"text-3xl",children:"Loading..."}),(0,l.jsx)("svg",{className:"hidden",xmlns:"http://www.w3.org/2000/svg",version:"1.1",children:(0,l.jsx)("defs",{children:(0,l.jsxs)("filter",{id:"magic",children:[(0,l.jsx)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),(0,l.jsx)("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),(0,l.jsx)("feBlend",{in:"SourceGraphic",in2:"goo"})]})})})]})}function a$(){let{enqueueSnackbar:e}=(0,F.Ds)(),{initialPlan:n}=_(),{result:{hasSubscription:t,activeUntil:a}}=Z(),[s,i]=(0,r.useState)(!1),d=(0,r.useCallback)(()=>{let a;i(!0),n&&!t?a=(0,L.Z)().post("/billing/create_checkout",{cancelPath:"/logout"}):t&&(a=(0,L.Z)().get("/billing/portal")),a.then(e=>window.location.assign(e.data.url)).catch(n=>{var t,a;i(!1),e((null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e,t,n]);return a?(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,l.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,l.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,l.jsx)(aG,{className:"max-h-24"}),(0,l.jsx)(eM,{size:"2xl",weight:"semibold",className:"text-center",children:"Your subscription is no longer active"}),(0,l.jsx)(eM,{size:"lg",className:"text-center",children:"Thank you for having subscribed to monetr before! If you'd like to continue using monetr you will have to resubscribe below. Click continue to proceed to our billing portal."}),(0,l.jsx)(eO,{color:"primary",disabled:s,onClick:d,children:"Continue"})]}),!s&&(0,l.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,l.jsx)(aY,{to:"/logout",size:"sm",children:"Logout for now"})]})]})}):(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full p-4",children:(0,l.jsxs)("div",{className:"h-full flex flex-col max-w-md gap-4 items-center justify-between",children:[(0,l.jsxs)("div",{className:"h-full flex flex-col justify-center items-center gap-4",children:[(0,l.jsx)(aG,{className:"max-h-24"}),(0,l.jsx)(eM,{size:"2xl",weight:"semibold",className:"text-center",children:"Your free trial has ended"}),(0,l.jsx)(eM,{size:"lg",className:"text-center",children:"Thank you for trying out monetr! We hope that you found our budgeting tools useful during your trial. If you'd like to continue using monetr you can easily subscribe below."}),(0,l.jsx)(eO,{color:"primary",disabled:s,onClick:d,children:"Continue"})]}),!s&&(0,l.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Not ready to continue?"}),(0,l.jsx)(aY,{to:"/logout",size:"sm",children:"Logout for now"})]})]})})}aY.__docgenInfo={description:"",methods:[],displayName:"MLink",props:{children:{required:!0,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},color:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"}]},description:""},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"},{name:"literal",value:"'2xl'"},{name:"literal",value:"'3xl'"},{name:"literal",value:"'4xl'"},{name:"literal",value:"'5xl'"}]},description:""}}},aG.__docgenInfo={description:"",methods:[],displayName:"MLogo",composes:["Omit"]},aV.__docgenInfo={description:"",methods:[],displayName:"MSpinner",props:{className:{required:!1,tsType:{name:"string"},description:""}}},aW.__docgenInfo={description:"",methods:[],displayName:"LogoutFooter"},aH.__docgenInfo={description:"",methods:[],displayName:"PlaidSetup",props:{alreadyOnboarded:{required:!1,tsType:{name:"boolean"},description:""}}},aQ.__docgenInfo={description:"",methods:[],displayName:"Loading"},a$.__docgenInfo={description:"",methods:[],displayName:"SubscribePage"};var aK=t("../node_modules/@mui/material/Typography/Typography.js"),aJ=t("../node_modules/@mui/material/CircularProgress/CircularProgress.js");function aX(){let{search:e}=(0,O.TH)(),n=(0,O.s0)(),t=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().get(`/billing/checkout/${e}`).then(e=>e.data)}return(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData(["/users/me"],e=>({...e,isActive:n.isActive}))])}).mutateAsync}();return(0,r.useEffect)(()=>{t(new URLSearchParams(e).get("session")).then(e=>{if(e.isActive)return n("/");alert((null==e?void 0:e.message)||"Subscription is not active")}).catch(()=>alert("Unable to determine your subscription state, please contact support@monetr.app"))},[e,t,n]),(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,l.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,l.jsx)("div",{className:"flex justify-center w-full mb-5",children:(0,l.jsx)("img",{src:q,className:"w-1/3"})}),(0,l.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,l.jsx)(aK.Z,{variant:"h5",className:"w-full text-center",children:"Getting your account setup..."})}),(0,l.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,l.jsx)(aJ.Z,{})})]})})}aX.__docgenInfo={description:"",methods:[],displayName:"AfterCheckoutPage"};var a0=t("../node_modules/@mui/icons-material/esm/HeartBrokenOutlined.js");function a1(){return(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col p-4",children:(0,l.jsxs)(eM,{className:"w-full h-full justify-center flex-col text-center gap-4",children:[(0,l.jsx)(a0.Z,{className:"text-9xl"}),(0,l.jsx)(eM,{size:"xl",weight:"medium",children:"There was a problem loading the monetr application config, the API may be unavailable at this time."}),(0,l.jsxs)(eM,{size:"lg",className:"gap-1",children:["You can try reloading this page, but if the problem persists please contact",(0,l.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"mailto:support@monetr.app",children:"support@monetr.app"})]})]})})}a1.__docgenInfo={description:"",methods:[],displayName:"ConfigError"};var a2=t("../node_modules/@mui/icons-material/esm/SwapVertOutlined.js"),a4=t("../node_modules/@mui/icons-material/esm/SaveOutlined.js"),a5=t("../node_modules/@mui/icons-material/esm/AirlineStopsOutlined.js"),a3=t("../node_modules/@mui/icons-material/esm/SouthEast.js"),a6=t("../node_modules/@mui/icons-material/esm/NorthEast.js");class a7{constructor(e){(0,N._)(this,"startingTime",void 0),(0,N._)(this,"endingTime",void 0),(0,N._)(this,"startingBalance",void 0),(0,N._)(this,"endingBalance",void 0),(0,N._)(this,"events",void 0),e&&Object.assign(this,{...e,startingTime:(0,A.Z)(e.startingTime),endingTime:(0,A.Z)(e.endingTime),events:((null==e?void 0:e.events)||[]).map(e=>new a8(e))})}}class a8{constructor(e){(0,N._)(this,"balance",void 0),(0,N._)(this,"contribution",void 0),(0,N._)(this,"date",void 0),(0,N._)(this,"delta",void 0),(0,N._)(this,"funding",void 0),(0,N._)(this,"spending",void 0),(0,N._)(this,"transaction",void 0),e&&Object.assign(this,{...e,date:(0,A.Z)(e.date),funding:((null==e?void 0:e.funding)||[]).map(e=>new se(e)),spending:((null==e?void 0:e.spending)||[]).map(e=>new a9(e))})}}class a9{constructor(e){(0,N._)(this,"contributionAmount",void 0),(0,N._)(this,"date",void 0),(0,N._)(this,"funding",void 0),(0,N._)(this,"rollingAllocation",void 0),(0,N._)(this,"spendingId",void 0),(0,N._)(this,"transactionAmount",void 0),e&&Object.assign(this,{...e,date:(0,A.Z)(e.date),funding:((null==e?void 0:e.funding)||[]).map(e=>new se(e))})}}class se{constructor(e){(0,N._)(this,"date",void 0),(0,N._)(this,"fundingScheduleId",void 0),(0,N._)(this,"originalDate",void 0),(0,N._)(this,"weekendAvoided",void 0),e&&Object.assign(this,{...e,date:(0,A.Z)(e.date),originalDate:(0,A.Z)(e.originalDate)})}}function sn(){let e=ea(),n=(0,k.a)([`/bank_accounts/${e}/forecast`],{enabled:!!e});return{...n,result:(null==n?void 0:n.data)?new a7(n.data):null}}function st(e){let{data:n}=nX(e.spendingId),{data:t}=nR(null==n?void 0:n.fundingScheduleId),{result:a,isLoading:s,isError:i}=sn();if(s)return(0,l.jsx)(eM,{children:"Loading..."});if(i||!n)return(0,l.jsx)(eM,{children:"Failed to load expense forecast!"});let r=a.events.filter(n=>n.spending.some(n=>n.spendingId===e.spendingId)).map(n=>({...n,spending:n.spending.filter(n=>n.spendingId===e.spendingId)})).map(n=>{let t={date:n.date,totalContributedAmount:n.contribution,totalSpentAmount:n.transaction,spentAmount:0,contributedAmount:0,endingAllocation:0};return n.spending.forEach(n=>{if(n.spendingId===e.spendingId)t.spentAmount+=n.transactionAmount,t.contributedAmount+=n.contributionAmount,t.endingAllocation+=n.rollingAllocation}),t});function d(e){let a="",s="",i=null,r=null;if(e.contributedAmount>0&&e.spentAmount>0)a="Contribution & Spending",r=(0,l.jsx)(a5.Z,{}),s=e.endingAllocation>0?`An estimated ${X(e.spentAmount)} will be spent or be ready to spend, ${X(e.contributedAmount)} was contributed to this budget at the same time. ${X(e.endingAllocation)} is left over to use from this budget until the next contribution.`:`An estimated ${X(e.spentAmount)} will be spent or be ready to spend, included the ${X(e.contributedAmount)} that was contributed to this budget at the same time to account for the spending.`;else if(0===e.contributedAmount&&e.spentAmount>0)a="Spending",r=(0,l.jsx)(a3.Z,{}),s=`An estimated ${X(e.spentAmount)} will be spent or will be ready to spend, from your ${n.name} budget.`;else{if(!(e.contributedAmount>0)||0!==e.spentAmount)return null;a="Contribution",r=(0,l.jsx)(a6.Z,{}),s=`${X(e.contributedAmount)} will be allocated towards ${n.name} from ${t.name}, resulting in a total allocation of ${X(e.endingAllocation)}.`,e.totalContributedAmount>e.contributedAmount&&(i=`A total of ${X(e.totalContributedAmount)} will be contributed to all budgets on this day.`)}let d=v({"mb-5":!e.last},"ml-4");return(0,l.jsxs)("li",{className:d,children:[(0,l.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,l.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,nS.Z)(e.date,"MMMM do")}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[a," ",r]}),(0,l.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:s}),i&&(0,l.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:i})]})}return(0,l.jsxs)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:[(0,l.jsxs)("li",{className:"mb-5 ml-4",children:[(0,l.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,l.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,nS.Z)(a.startingTime,"MMMM do")}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[n.name,(0,l.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300 ml-3",children:"Today"})]}),(0,l.jsxs)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:[n.name," currently has ",n.getCurrentAmountString()," allocated towards it."]}),(0,l.jsx)("p",{className:"mb-4 text-base font-normal text-zinc-500 dark:text-zinc-400",children:"Below is the timeline for this expense over the next month."})]}),r.map((e,n)=>(0,l.jsx)(d,{...e,last:r.length-1===n},(0,tJ.Z)(e.date)))]})}function sa(e){let n=(0,eZ.dd)(),t=(0,r.useRef)(null),a=function(){let e=(0,C.NL)(),n=ea();async function t(e){return(0,L.Z)().post(`/bank_accounts/${n}/spending/transfer`,e).then(e=>e.data)}let{mutateAsync:a}=(0,E.D)(t,{onSuccess:t=>Promise.all([e.setQueriesData([`/bank_accounts/${n}/spending`],e=>e.map(e=>t.spending.find(n=>n.spendingId===e.spendingId)||e)),t.spending.map(t=>e.setQueriesData([`/bank_accounts/${n}/spending/${t.spendingId}`],()=>t)),e.setQueriesData([`/bank_accounts/${n}/balances`],e=>new nI({...e,...t.balance})),e.invalidateQueries([`/bank_accounts/${n}/forecast`]),e.invalidateQueries([`/bank_accounts/${n}/forecast/next_funding`])])});return a}(),{enqueueSnackbar:s}=(0,F.Ds)(),i=nT(),{result:d}=nJ(),o={fromSpendingId:e.initialFromSpendingId,toSpendingId:e.initialToSpendingId,amount:0};function c(e){let n={},t=K(e.amount);if(t<=0&&(n.amount="Amount must be greater than zero"),null===e.fromSpendingId)t>(null==i?void 0:i.free)&&(n.amount="Cannot move more than is available from Free-To-Use");else{let a=null==d?void 0:d.find(n=>n.spendingId===e.fromSpendingId);t>(null==a?void 0:a.currentAmount)&&(n.amount=`Cannot move more than is available from ${null==a?void 0:a.name}`)}return n}async function u(e,t){if(null===e.toSpendingId&&null===e.fromSpendingId)return t.setFieldError("toSpendingId","Must select a destination and a source"),Promise.resolve();let i=c(e);return Object.keys(i).length>0?(t.setErrors(i),Promise.resolve()):(t.setSubmitting(!0),a({fromSpendingId:e.fromSpendingId,toSpendingId:e.toSpendingId,amount:K(e.amount)}).then(()=>n.remove()).catch(e=>void s(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>t.setSubmitting(!1)))}return(0,l.jsx)(eU,{open:n.visible,ref:t,className:"md:max-w-sm",children:(0,l.jsxs)(tf,{onSubmit:u,initialValues:o,validate:c,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"transfer-modal",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(eM,{size:"2xl",weight:"semibold",children:"Transfer"}),(0,l.jsx)(eM,{size:"lg",weight:"medium",color:"subtle",children:"Move funds between your budgets"})]}),(0,l.jsx)(ad,{excludeFrom:"toSpendingId",label:"From",labelDecorator:sr,menuPortalTarget:document.body,name:"fromSpendingId"}),(0,l.jsx)(sl,{}),(0,l.jsx)(ad,{excludeFrom:"fromSpendingId",label:"To",labelDecorator:sr,menuPortalTarget:document.body,name:"toSpendingId"}),(0,l.jsx)(te,{name:"amount",label:"Amount",placeholder:"Amount to move...",step:"0.01",allowNegative:!1})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(eF,{color:"secondary",onClick:n.remove,"data-testid":"close-new-expense-modal",children:"Cancel"}),(0,l.jsx)(eF,{color:"primary",type:"submit",children:"Transfer"})]})]})})}st.__docgenInfo={description:"",methods:[],displayName:"ExpenseTimeline",props:{spendingId:{required:!0,tsType:{name:"string"},description:""}}};let ss=eZ.ZP.create(sa);function si(e){return eZ.ZP.show(ss,e)}function sl(){let e=(0,eq.u6)();return(0,l.jsx)("a",{className:"w-full flex justify-center mb-1",children:(0,l.jsx)(a2.Z,{onClick:function(){if(e.isSubmitting)return;let{fromSpendingId:n,toSpendingId:t,amount:a}=e.values;e.setValues({fromSpendingId:t,toSpendingId:n,amount:a})},className:"cursor-pointer text-4xl dark:text-dark-monetr-content-subtle hover:dark:text-dark-monetr-content"})})}function sr(e){let n=(0,eq.u6)().values[e.name],{result:t}=nJ(),a=nT();if(!n||-1===n){let e=null==a?void 0:a.free;return(0,l.jsx)(sd,{amount:e})}let s=null==t?void 0:t.find(e=>e.spendingId===n);if(!s)return null;let i=s.currentAmount,r=s.targetAmount,d=Math.max(s.targetAmount-s.currentAmount,0);return d>0&&d!=r?(0,l.jsxs)(eM,{className:"gap-1",children:[(0,l.jsx)(sd,{amount:i}),"of",(0,l.jsx)(sd,{amount:r}),"\xa0 (",(0,l.jsx)(sd,{amount:d}),")"]}):(0,l.jsxs)(eM,{className:"gap-1",color:"subtle",children:[(0,l.jsx)(sd,{amount:i}),"of",(0,l.jsx)(sd,{amount:r})]})}function sd(e){let{amount:n}=e,t=(0,eq.u6)(),a=(0,r.useCallback)(()=>{"number"==typeof n&&(null==t||t.setFieldValue("amount",$(n)))},[t,n]);return(0,l.jsx)(eM,{size:"sm",weight:"medium",className:"cursor-pointer hover:dark:text-dark-monetr-content-emphasis",onClick:a,children:"number"==typeof n&&X(n)})}function so(){let e=n1(),n=n2(),t=(0,O.s0)(),{spendingId:a}=(0,O.UO)(),{enqueueSnackbar:s}=(0,F.Ds)(),{data:i,isLoading:r,isError:d}=nX(a);if(!a)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"There wasn't an expense specified..."})]});if(r)return(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})});if(d)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"Couldn't find the expense you specified..."})]});if(!i)return null;if(i.spendingType!==n$.Expense)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"This spending object is not an expense..."})]});async function o(){return i?window.confirm(`Are you sure you want to delete expense: ${i.name}`)?e(i.spendingId).then(()=>void t(`/bank/${i.bankAccountId}/expenses`)):Promise.resolve():Promise.resolve()}async function c(e,t){return t.setSubmitting(!0),n(new nK({...i,name:e.name,description:null,nextRecurrence:(0,n3.Z)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:e.recurrenceRule,targetAmount:K(e.amount)})).catch(e=>{s(e.response.data.error||"Failed to update expense.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>t.setSubmitting(!1))}let u={name:i.name,amount:$(i.targetAmount),nextRecurrence:i.nextRecurrence,fundingScheduleId:i.fundingScheduleId,recurrenceRule:i.ruleset},m=(Math.min(null==i?void 0:i.currentAmount,null==i?void 0:i.targetAmount)/(null==i?void 0:i.targetAmount)*100).toFixed(0);return(0,l.jsxs)(tf,{initialValues:u,onSubmit:c,className:"flex w-full h-full flex-col",children:[(0,l.jsxs)(nQ,{icon:eN.Z,title:"Expenses",base:`/bank/${i.bankAccountId}/expenses`,breadcrumb:null==i?void 0:i.name,children:[(0,l.jsxs)(eO,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>si({initialToSpendingId:null==i?void 0:i.spendingId}),children:[(0,l.jsx)(a2.Z,{}),"Transfer"]}),(0,l.jsxs)(eO,{color:"cancel",className:"gap-1 py-1 px-2",onClick:o,children:[(0,l.jsx)(eD.Z,{}),"Remove"]}),(0,l.jsxs)(n6,{variant:"primary",type:"submit",role:"form",children:[(0,l.jsx)(a4.Z,{}),"Save"]})]}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center w-full overflow-hidden",children:[(0,l.jsx)(nV,{name:null==i?void 0:i.name,className:"flex-none"}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,l.jsx)("p",{className:"text-ellipsis truncate min-w-0",children:null==i?void 0:i.name}),(0,l.jsxs)(eM,{weight:"semibold",children:[null==i?void 0:i.getCurrentAmountString(),(0,l.jsx)("span",{className:"font-normal",children:"of"}),null==i?void 0:i.getTargetAmountString()]})]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:(0,l.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${m}%`}})})]}),(0,l.jsx)(eo,{className:"w-1/2 my-4"}),(0,l.jsx)(tD,{className:"w-full",label:"Expense",name:"name",required:!0,"data-1p-ignore":!0}),(0,l.jsx)(te,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,l.jsx)(th,{label:"Next Occurrence",name:"nextRecurrence",className:"w-full",required:!0,min:(0,tt.Z)()}),(0,l.jsx)(tF,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,l.jsx)(tL,{className:"w-full",dateFrom:"nextRecurrence",label:"How often do you need this expense?",name:"recurrenceRule",placeholder:"Select a spending frequency...",required:!0})]}),(0,l.jsx)(eo,{className:"block md:hidden w-1/2"}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,l.jsx)(eM,{className:"text-xl my-2",children:"Expense Timeline"}),(0,l.jsx)(st,{spendingId:i.spendingId})]})]})})]})}sa.__docgenInfo={description:"",methods:[],displayName:"TransferModal",props:{initialFromSpendingId:{required:!1,tsType:{name:"string"},description:""},initialToSpendingId:{required:!1,tsType:{name:"string"},description:""}}},so.__docgenInfo={description:"",methods:[],displayName:"ExpenseDetails"};var sc=t("../node_modules/@mui/icons-material/esm/AddOutlined.js"),su=t("../node_modules/@mui/icons-material/esm/Today.js"),sm=t("../node_modules/@mui/icons-material/esm/ArrowForward.js");function sp(e){let n=(0,O.s0)(),{funding:t}=e,a=function(e){let n=ea();return(0,k.a)([`/bank_accounts/${n}/forecast/next_funding`,{fundingScheduleId:e}],{enabled:!!n,select:e=>e.nextContribution})}(t.fundingScheduleId),s=(0,nW.SA)(t.ruleset),i=t.name.toUpperCase().charAt(0)||"?",r=function(e){let n=e.charAt(0).toUpperCase();return n+e.slice(1)}(s.toText()),d=t.nextRecurrence,o=(0,nF.Z)(d)?"EEEE LLLL do":"EEEE LLLL do, yyyy",c=`${(0,nS.Z)(d,o)}`;function u(){n(`/bank/${t.bankAccountId}/funding/${t.fundingScheduleId}/details`)}return(0,l.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:u}),(0,l.jsxs)("div",{className:"flex items-center rounded-lg group-hover:bg-zinc-600 gap-2 md:gap-4 px-2 py-1 h-full cursor-pointer md:cursor-auto",children:[(0,l.jsx)(nB,{className:"h-10 w-10",children:(0,l.jsx)(nG,{className:"dark:bg-dark-monetr-background-subtle dark:text-dark-monetr-content",children:i})}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col flex-1 min-w-0 overflow-hidden",children:[(0,l.jsx)(eM,{weight:"semibold",color:"emphasis",ellipsis:!0,children:t.name}),(0,l.jsx)(eM,{size:"sm",weight:"medium",ellipsis:!0,children:r}),(0,l.jsx)(eM,{size:"sm",weight:"medium",ellipsis:!0,children:c})]}),(0,l.jsxs)("div",{className:"flex md:min-w-[14em] shrink-0 justify-end gap-2 items-center",children:[(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("span",{className:"hidden sm:block text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Estimated Contribution"}),(0,l.jsx)("span",{className:"block sm:hidden text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:"Est."}),"\xa0",(0,l.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:X(a.data)})]})}),(0,l.jsx)(nO.Z,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis flex-none md:cursor-pointer",onClick:u})]})]})]})}function sg(){let{isError:e,isLoading:n,data:t}=nE();return n?(0,l.jsx)(eM,{children:"Loading..."}):e?(0,l.jsx)(eM,{children:"Error..."}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(nQ,{icon:eA.Z,title:"Funding Schedules",children:(0,l.jsxs)(eO,{color:"primary",className:"gap-1 py-1 px-2",onClick:tO,children:[(0,l.jsx)(sc.Z,{}),"New Funding Schedule"]})}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",children:(0,l.jsx)(function(){return 0===t.length?(0,l.jsx)(sx,{}):(0,l.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:null==t?void 0:t.sort((e,n)=>e.name.toLowerCase()>n.name.toLowerCase()?1:-1).map(e=>(0,l.jsx)(sp,{funding:e},e.fundingScheduleId))})},{})})]})}function sx(){return(0,l.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,l.jsxs)("div",{className:"w-full flex justify-center space-x-4",children:[(0,l.jsx)(su.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,l.jsx)(sm.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"}),(0,l.jsx)(nq.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})]}),(0,l.jsx)(eM,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any funding schedules yet..."}),(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"Funding schedules tell monetr when to allocate funds towards your expenses and goals."})]})})}sp.__docgenInfo={description:"",methods:[],displayName:"FundingItem",props:{funding:{required:!0,tsType:{name:"FundingSchedule"},description:""}}},sg.__docgenInfo={description:"",methods:[],displayName:"Funding"};var sh=t("../node_modules/@mui/icons-material/DeleteOutlined.js"),sf=t("../node_modules/@mui/icons-material/HeartBroken.js"),sb=t("../node_modules/@mui/icons-material/SaveOutlined.js"),sv=t("../node_modules/@mui/icons-material/TodayOutlined.js"),sj=t("../node_modules/@mui/icons-material/NorthEast.js");function sw(e){let{data:n}=nR(e.fundingScheduleId),{result:t,isLoading:a,isError:s}=sn();if(a)return(0,l.jsx)(eM,{children:"Loading..."});if(s||!n)return(0,l.jsx)(eM,{children:"Failed to load funding forecast!"});let i=t.events.filter(n=>n.funding.some(n=>n.fundingScheduleId===e.fundingScheduleId)).map(n=>({...n,funding:n.funding.filter(n=>n.fundingScheduleId===e.fundingScheduleId)})).map(n=>{let t={date:n.date,originalDate:n.funding.find(n=>n.fundingScheduleId===e.fundingScheduleId).originalDate,totalContributedAmount:n.contribution,contributedAmount:0,endingAllocation:n.balance,spendingCount:0};return n.spending.forEach(n=>{if(!!n.funding.find(n=>n.fundingScheduleId===e.fundingScheduleId))t.contributedAmount+=n.contributionAmount,t.spendingCount++}),t});function r(e){let t="",a="",s="",i=null;t="Contribution",i=(0,l.jsx)(sj.default,{}),a=`${n.name} will contribute ${X(e.contributedAmount)} to ${e.spendingCount} budget(s), resulting in a total allocation of ${X(e.endingAllocation)}.`,n.estimatedDeposit&&(a+=` An estimated ${X(n.estimatedDeposit-e.contributedAmount)} will be left over for Free-to-Use after this contribution.`),e.date.getDate()!=e.originalDate.getDate()&&(s=`(Avoided weekend or holiday on ${(0,nS.Z)(e.originalDate,"MMMM do")})`);let r=v({"mb-5":!e.last},"ml-4");return(0,l.jsxs)("li",{className:r,children:[(0,l.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,l.jsxs)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:[(0,nS.Z)(e.date,"MMMM do")," ",(0,l.jsx)("br",{})," ",s]}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[t," ",i]}),(0,l.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:a}),null]})}return(0,l.jsx)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:i.map((e,n)=>(0,l.jsx)(r,{...e,last:i.length-1===n},(0,tJ.Z)(e.date)))})}sw.__docgenInfo={description:"",methods:[],displayName:"FundingTimeline",props:{fundingScheduleId:{required:!0,tsType:{name:"string"},description:""}}};var sy=t("../node_modules/@radix-ui/react-checkbox/dist/index.mjs");let sN=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)(sy.fC,{ref:n,className:v("peer h-4 w-4 shrink-0","rounded","border border-dark-monetr-border","ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-dark-monetr-brand-subtle data-[state=checked]:text-dark-monetr-content-emphasis",t),...a,children:(0,l.jsx)(sy.z$,{className:v("flex items-center justify-center text-current"),children:(0,l.jsx)(nf.Z,{className:"h-4 w-4"})})})});function sk(e){let n=(0,eq.u6)(),t=v("flex","gap-x-3","pb-3",(e={...e,disabled:(null==e?void 0:e.disabled)||(null==n?void 0:n.isSubmitting),onChange:(null==e?void 0:e.onChange)||(null==n?void 0:n.handleChange),checked:(null==e?void 0:e.checked)||n.values[e.name]}).className);return(0,l.jsxs)("div",{className:t,children:[(0,l.jsx)("div",{className:"flex h-6 items-center",children:(0,l.jsx)(sN,{id:e.id,name:e.name,disabled:e.disabled,checked:e.checked,onChange:e.onChange,onBlur:null==n?void 0:n.handleBlur})}),(0,l.jsxs)("div",{className:"text-sm leading-6",children:[(0,l.jsx)(function(){if(!e.label)return null;let n=v("font-medium",{"dark:text-dark-monetr-content-emphasis":!e.disabled,"text-gray-900":!e.disabled,"text-gray-500":e.disabled,"cursor-pointer":!e.disabled});return(0,l.jsx)("label",{htmlFor:e.id,className:n,children:e.label})},{}),(0,l.jsx)(function(){return e.description?(0,l.jsx)("p",{className:"text-gray-500 dark:text-dark-monetr-content",children:e.description}):null},{})]})]})}function sA(){var e;let n=(0,O.bS)("/bank/:bankId/funding/:fundingId/details"),t=(null==n?void 0:null===(e=n.params)||void 0===e?void 0:e.fundingId)||null,{data:a}=nR(t),s=(0,O.s0)(),i=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().put(`/bank_accounts/${e.bankAccountId}/funding_schedules/${e.fundingScheduleId}`,e).then(e=>e.data)}return(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData([`/bank_accounts/${n.fundingSchedule.bankAccountId}/funding_schedules`],e=>e.map(e=>e.fundingScheduleId===n.fundingSchedule.fundingScheduleId?n.fundingSchedule:e)),e.setQueriesData([`/bank_accounts/${n.fundingSchedule.bankAccountId}/funding_schedules/${n.fundingSchedule.fundingScheduleId}`],n.fundingSchedule),e.setQueriesData([`/bank_accounts/${n.fundingSchedule.bankAccountId}/spending`],e=>e.map(e=>(n.spending||[]).find(n=>n.spendingId===e.spendingId)||e)),(n.spending||[]).map(t=>e.setQueriesData([`/bank_accounts/${n.fundingSchedule.bankAccountId}/spending/${t.spendingId}`],t)),e.invalidateQueries([`/bank_accounts/${n.fundingSchedule.bankAccountId}/forecast`]),e.invalidateQueries([`/bank_accounts/${n.fundingSchedule.bankAccountId}/forecast/next_funding`])])}).mutateAsync}(),r=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().delete(`/bank_accounts/${e.bankAccountId}/funding_schedules/${e.fundingScheduleId}`).then(()=>e)}return(0,E.D)(n,{onSuccess:n=>{let{bankAccountId:t,fundingScheduleId:a}=n;return Promise.all([e.setQueriesData([`/bank_accounts/${t}/funding_schedules`],e=>e.filter(e=>e.fundingScheduleId!==a)),e.removeQueries([`/bank_accounts/${t}/funding_schedules/${a}`])])}}).mutateAsync}(),{enqueueSnackbar:d}=(0,F.Ds)();if(!t)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(sf.default,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"There wasn't a funding schedule specified..."})]});if(!a)return null;async function o(e,n){return n.setSubmitting(!0),i(new nC({...a,name:e.name,nextRecurrence:(0,n3.Z)(e.nextRecurrence),ruleset:e.rule,excludeWeekends:e.excludeWeekends,estimatedDeposit:K(e.estimatedDeposit)})).catch(e=>{d(e.response.data.error||"Failed to update funding schedule.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>n.setSubmitting(!1))}async function c(){return a?window.confirm(`Are you sure you want to delete funding schedule: ${a.name}`)?r(a).then(()=>void s(`/bank/${a.bankAccountId}/funding`)).catch(e=>void d(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})):Promise.resolve():Promise.resolve()}let u={name:a.name,nextRecurrence:a.nextRecurrenceOriginal,rule:a.ruleset,excludeWeekends:a.excludeWeekends,estimatedDeposit:$(a.estimatedDeposit)};return(0,l.jsxs)(tf,{className:"flex w-full h-full flex-col",initialValues:u,onSubmit:o,validate:function(e){let n={};return(""===e.rule||!e.rule)&&(n.rule="Frequency is required for funding schedules."),n},children:[(0,l.jsxs)(nQ,{title:"Funding Schedules",icon:sv.default,breadcrumb:a.name,base:`/bank/${a.bankAccountId}/funding`,children:[(0,l.jsxs)(eO,{color:"cancel",className:"gap-1 py-1 px-2",onClick:c,children:[(0,l.jsx)(sh.default,{}),"Remove"]}),(0,l.jsxs)(eF,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,l.jsx)(sb.default,{}),"Save"]})]}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,l.jsx)(tD,{className:"w-full",label:"Name",name:"name",id:"funding-name-search",required:!0}),(0,l.jsx)(th,{className:"w-full",label:"Next Recurrence",name:"nextRecurrence",labelDecorator:()=>(0,ts.Z)(a.nextRecurrence,a.nextRecurrenceOriginal)?null:(0,l.jsxs)(eM,{"data-testid":"funding-schedule-weekend-notice",size:"sm",weight:"medium",children:["Actual occurrence avoids weekend (",(0,nS.Z)(a.nextRecurrence,"M/dd"),")"]}),required:!0,"data-testid":"funding-details-date-picker"}),(0,l.jsx)(tL,{className:"w-full",dateFrom:"nextRecurrence",label:"How often does this funding happen?",name:"rule",placeholder:"Select a funding frequency...",required:!0}),(0,l.jsx)(sk,{id:"funding-details-exclude-weekends","data-testid":"funding-details-exclude-weekends",name:"excludeWeekends",label:"Exclude weekends",description:"If it were to land on a weekend, it is adjusted to the previous weekday instead."}),(0,l.jsx)(te,{allowNegative:!1,label:"Estimated Deposit",name:"estimatedDeposit",placeholder:"Example: $ 1,000.00"})]}),(0,l.jsx)(eo,{className:"block md:hidden w-1/2"}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,l.jsx)(eM,{className:"text-xl my-2",children:"Funding Timeline"}),(0,l.jsx)(sw,{fundingScheduleId:a.fundingScheduleId})]})]})})]})}function sI(e){let{spending:n}=e,{data:t}=nR(n.fundingScheduleId),a=(0,O.s0)();function s(){a(`/bank/${n.bankAccountId}/goals/${n.spendingId}/details`)}let i=`${n.getNextContributionAmountString()} / ${null==t?void 0:t.name}`;return n.getGoalIsInProgress()?n.isPaused&&(i="Paused"):i="Complete",(0,l.jsxs)("li",{className:"group relative w-full px-1 md:px-2",children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full cursor-pointer md:hidden md:cursor-auto",onClick:s}),(0,l.jsxs)("div",{className:"w-full flex rounded-lg group-hover:bg-zinc-600 gap-2 md:gap-4 items-center px-2 py-1 cursor-pointer md:cursor-auto",children:[(0,l.jsx)(nV,{name:n.name}),(0,l.jsxs)("div",{className:"w-full flex flex-col min-w-0",children:[(0,l.jsxs)("div",{className:"w-full flex gap-2 items-center min-w-0 justify-between md:justify-normal",children:[(0,l.jsx)("div",{className:"flex items-center md:w-1/2 gap-4 min-w-0 pr-1",children:(0,l.jsxs)("div",{className:"flex flex-col overflow-hidden min-w-0",children:[(0,l.jsxs)("span",{className:"block w-full text-zinc-50 font-semibold text-base overflow-hidden whitespace-nowrap truncate",children:[n.name,(0,l.jsxs)("span",{className:"md:hidden text-zinc-200 font-sm text-sm overflow-hidden whitespace-nowrap truncate",children:["\xa0 ",n.getNextOccurrenceString()]})]}),(0,l.jsx)("span",{className:"hidden md:block text-zinc-200 font-sm text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:n.getNextOccurrenceString()}),(0,l.jsx)("span",{className:"md:hidden text-zinc-200 text-sm overflow-hidden text-ellipsis whitespace-nowrap min-w-0",children:i})]})}),(0,l.jsx)("div",{className:"hidden md:flex w-1/2 overflow-hidden flex-1 min-w-0 items-center",children:(0,l.jsx)("span",{className:"text-zinc-50/75 font-medium text-base text-ellipsis whitespace-nowrap overflow-hidden min-w-0",children:i})}),(0,l.jsx)(sT,{spending:n})]}),(0,l.jsx)(s_,{spending:n})]}),(0,l.jsx)(nO.Z,{className:"dark:text-dark-monetr-content-subtle dark:group-hover:text-dark-monetr-content-emphasis md:cursor-pointer",onClick:s})]})]})}function sT(e){let{spending:n}=e,t=v({"text-green-500":n.targetAmount<=n.currentAmount,"text-blue-500":n.targetAmount!==n.currentAmount},"text-end","font-semibold");return n.getGoalIsInProgress()?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{className:"flex md:hidden shrink-0 items-center gap-2",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:t,children:n.getCurrentAmountString()}),(0,l.jsx)("hr",{className:"w-full border-0 border-b-[thin] border-zinc-600"}),(0,l.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:n.getTargetAmountString()})]})}),(0,l.jsx)("div",{className:"hidden md:flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)("span",{className:t,children:n.getCurrentAmountString()}),"\xa0",(0,l.jsx)("span",{className:"text-end text-zinc-500 group-hover:text-zinc-400 font-medium",children:"of"}),"\xa0",(0,l.jsx)("span",{className:"text-end text-zinc-400 group-hover:text-zinc-300 font-medium",children:n.getTargetAmountString()})]})})})]}):(0,l.jsx)("div",{className:"flex md:min-w-[12em] shrink-0 justify-end gap-2 items-center",children:(0,l.jsx)(ny,{className:"w-fit justify-end dark:bg-green-600",weight:"medium",children:n.getCurrentAmountString()})})}function s_(e){let{spending:n}=e,{usedAmount:t,currentAmount:a,targetAmount:s}=n,i=(Math.min(t,s)/s*100).toFixed(0),r=(Math.min(a+t,s)/s*100).toFixed(0);return(0,l.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:[(0,l.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${r}%`}}),(0,l.jsx)("div",{className:"absolute top-0 bg-blue-600 h-1.5 rounded-full dark:bg-blue-600",style:{width:`${i}%`}})]})}sN.displayName=sy.fC.displayName,sN.__docgenInfo={description:"",methods:[]},sk.__docgenInfo={description:"",methods:[],displayName:"MCheckbox",props:{id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},description:{required:!1,tsType:{name:"union",raw:"string | React.ReactNode | JSX.Element",elements:[{name:"string"},{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},description:""},name:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},checked:{required:!1,tsType:{name:"boolean"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  /** Classic React change handler, keyed by input name */\n  (e: React.ChangeEvent<any>): void;\n}",signature:{properties:[],constructor:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<any>): void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<any>",elements:[{name:"any"}]},name:"e"}],return:{name:"void"}}}}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}},sA.__docgenInfo={description:"",methods:[],displayName:"FundingDetails"},sI.__docgenInfo={description:"",methods:[],displayName:"GoalItem",props:{spending:{required:!0,tsType:{name:"Spending"},description:""}}};let sS={name:"",amount:0,nextOccurrence:(0,n5.Z)(),fundingScheduleId:""};function sC(){let e=(0,eZ.dd)(),{enqueueSnackbar:n}=(0,F.Ds)(),t=ea(),a=n4(),s=(0,r.useRef)(null);async function i(s,i){let l=new nK({bankAccountId:t,name:s.name.trim(),nextRecurrence:(0,n3.Z)(new Date(s.nextOccurrence)),spendingType:n$.Goal,fundingScheduleId:s.fundingScheduleId,targetAmount:K(s.amount),ruleset:null});return i.setSubmitting(!0),a(l).then(n=>e.resolve(n)).then(()=>e.remove()).catch(e=>void n(e.response.data.error,{variant:"error",disableWindowBlurListener:!0})).finally(()=>i.setSubmitting(!1))}return(0,l.jsx)(eU,{open:e.visible,ref:s,className:"sm:max-w-xl",children:(0,l.jsxs)(tf,{onSubmit:i,initialValues:sS,className:"h-full flex flex-col gap-2 p-2 justify-between","data-testid":"new-goal-modal",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{className:"font-bold text-xl mb-2",children:"Create A New Goal"}),(0,l.jsx)(tD,{id:"goal-name-search",name:"name",label:"What are you budgeting for?",required:!0,autoComplete:"off",placeholder:"Vacation, Furniture, Car..."}),(0,l.jsxs)("div",{className:"flex gap-0 md:gap-4 flex-col md:flex-row",children:[(0,l.jsx)(te,{name:"amount",label:"How much do you need?",required:!0,className:"w-full md:w-1/2",allowNegative:!1}),(0,l.jsx)(th,{className:"w-full md:w-1/2",label:"How soon will you need it?",min:(0,n5.Z)(),name:"nextOccurrence",required:!0})]}),(0,l.jsx)(tF,{menuPortalTarget:document.body,label:"When do you want to fund the goal?",required:!0,name:"fundingScheduleId"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(n6,{variant:"destructive",onClick:e.remove,"data-testid":"close-new-goal-modal",children:"Cancel"}),(0,l.jsx)(n6,{variant:"primary",type:"submit",children:"Create"})]})]})})}let sE=eZ.ZP.create(sC);function sR(){return eZ.ZP.show(sE)}sC.__docgenInfo={description:"",methods:[],displayName:"NewGoalModal"};let sM=0;function sL(){let{result:e,isError:n,isLoading:t}=n0(n$.Goal),a=(0,r.useRef)(null),s=(0,O.ur)(),i=(0,r.useCallback)(()=>{sM=a.current.scrollTop},[a]);return((0,r.useEffect)(()=>{if(!a.current)return;"POP"===s&&(a.current.scrollTop=sM);let e=a.current;return a.current.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i)}},[a.current,s,i]),t)?(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})}):n?(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"We weren't able to retrieve goals at this time..."})]}):(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(nQ,{icon:ek.Z,title:"Goals",children:(0,l.jsxs)(eO,{color:"primary",className:"gap-1 py-1 px-2",onClick:sR,children:[(0,l.jsx)(sc.Z,{}),"New Goal"]})}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0",ref:a,children:(0,l.jsx)(function(){return 0===e.length?(0,l.jsx)(sZ,{}):(0,l.jsx)("ul",{className:"w-full flex flex-col gap-2 py-2",children:null==e?void 0:e.sort((e,n)=>e.name.toLowerCase()>n.name.toLowerCase()?1:-1).map(e=>(0,l.jsx)(sI,{spending:e},e.spendingId))})},{})})]})}function sZ(){return(0,l.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center max-w-md",children:[(0,l.jsx)("div",{className:"w-full flex justify-center space-x-4",children:(0,l.jsx)(ek.Z,{className:"h-full text-5xl dark:text-dark-monetr-content-muted"})}),(0,l.jsx)(eM,{size:"xl",color:"subtle",className:"text-center",children:"You don't have any goals yet..."}),(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"Goals are longer budgets that don't recur. They are meant to be used to put money aside for something like saving up for a vaction, or paying off a loan."})]})})}function sD(e){let{data:n}=nX(e.spendingId),{data:t}=nR(null==n?void 0:n.fundingScheduleId),{result:a,isLoading:s,isError:i}=sn();if(s)return(0,l.jsx)(eM,{children:"Loading..."});if(i||!n)return(0,l.jsx)(eM,{children:"Failed to load goal forecast!"});let r=a.events.filter(n=>n.spending.some(n=>n.spendingId===e.spendingId)).map(n=>({...n,spending:n.spending.filter(n=>n.spendingId===e.spendingId)})).map(n=>{let t={date:n.date,totalContributedAmount:n.contribution,totalSpentAmount:n.transaction,spentAmount:0,contributedAmount:0,endingAllocation:0};return n.spending.forEach(n=>{if(n.spendingId===e.spendingId)t.spentAmount+=n.transactionAmount,t.contributedAmount+=n.contributionAmount,t.endingAllocation+=n.rollingAllocation}),t});function d(e){let a="",s="",i=null,r=null;if(e.contributedAmount>0&&e.spentAmount>0)a="Contribution & Completion",r=(0,l.jsx)(a5.Z,{}),s=e.endingAllocation>0?`An estimated ${X(e.spentAmount)} will be spent or be ready to spend, ${X(e.contributedAmount)} was contributed to this goal at the same time. ${X(e.endingAllocation)} is left over to use from this goal until the next contribution.`:`An estimated ${X(e.spentAmount)} will be spent or be ready to spend, included the ${X(e.contributedAmount)} that was contributed to this goal at the same time to account for the spending.`;else if(0===e.contributedAmount&&e.spentAmount>0)a="Spending",r=(0,l.jsx)(a3.Z,{}),s=`An estimated ${X(e.spentAmount)} will be spent or will be ready to spend, from your ${n.name} goal.`;else{if(!(e.contributedAmount>0)||0!==e.spentAmount)return null;a="Contribution",r=(0,l.jsx)(a6.Z,{}),s=`${X(e.contributedAmount)} will be allocated towards ${n.name} from ${t.name}, resulting in a total allocation of ${X(e.endingAllocation)}.`,e.totalContributedAmount>e.contributedAmount&&(i=`A total of ${X(e.totalContributedAmount)} will be contributed to all budgets on this day.`)}let d=v({"mb-5":!e.last},"ml-4");return(0,l.jsxs)("li",{className:d,children:[(0,l.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,l.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,nS.Z)(e.date,"MMMM do")}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[a," ",r]}),(0,l.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:s}),i&&(0,l.jsx)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:i})]})}return(0,l.jsxs)("ol",{className:"relative border-l border-zinc-200 dark:border-zinc-700",children:[(0,l.jsxs)("li",{className:"mb-5 ml-4",children:[(0,l.jsx)("div",{className:"absolute w-3 h-3 bg-zinc-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-zinc-900 dark:bg-zinc-700"}),(0,l.jsx)("time",{className:"mb-1 text-sm font-normal leading-none text-zinc-400 dark:text-zinc-500",children:(0,nS.Z)(a.startingTime,"MMMM do")}),(0,l.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:[n.name,(0,l.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300 ml-3",children:"Today"})]}),(0,l.jsxs)("p",{className:"text-base font-normal text-zinc-500 dark:text-zinc-400",children:[n.name," currently has ",n.getCurrentAmountString()," allocated towards it."]}),(0,l.jsx)("p",{className:"mb-4 text-base font-normal text-zinc-500 dark:text-zinc-400",children:"Below is the timeline for this goal over the next month."})]}),r.map((e,n)=>(0,l.jsx)(d,{...e,last:r.length-1===n},(0,tJ.Z)(e.date)))]})}function sP(){let e=n1(),n=n2(),t=(0,O.s0)(),{spendingId:a}=(0,O.UO)(),{enqueueSnackbar:s}=(0,F.Ds)(),{data:i,isLoading:r,isError:d}=nX(a);if(!a)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"There wasn't a goal specified..."})]});if(r)return(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})});if(d)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"Couldn't find the goal you specified..."})]});if(!i)return null;if(i.spendingType!==n$.Goal)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"This spending object is not a goal..."})]});async function o(){return i?window.confirm(`Are you sure you want to delete goal: ${i.name}`)?e(i.spendingId).then(()=>void t(`/bank/${i.bankAccountId}/goals`)):Promise.resolve():Promise.resolve()}async function c(e,t){return t.setSubmitting(!0),n(new nK({...i,name:e.name,description:null,nextRecurrence:(0,n3.Z)(e.nextRecurrence),fundingScheduleId:e.fundingScheduleId,ruleset:null,targetAmount:K(e.amount),isPaused:e.isPaused})).catch(e=>{s(e.response.data.error||"Failed to update expense.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>t.setSubmitting(!1))}let u={name:i.name,amount:$(i.targetAmount),nextRecurrence:i.nextRecurrence,fundingScheduleId:i.fundingScheduleId,isPaused:i.isPaused},m=(Math.min(null==i?void 0:i.usedAmount,null==i?void 0:i.targetAmount)/(null==i?void 0:i.targetAmount)*100).toFixed(0),p=(Math.min((null==i?void 0:i.currentAmount)+(null==i?void 0:i.usedAmount),null==i?void 0:i.targetAmount)/(null==i?void 0:i.targetAmount)*100).toFixed(0);return(0,l.jsxs)(tf,{initialValues:u,onSubmit:c,className:"flex w-full h-full flex-col",children:[(0,l.jsxs)(nQ,{icon:ek.Z,title:"Goals",base:`/bank/${i.bankAccountId}/goals`,breadcrumb:null==i?void 0:i.name,children:[(0,l.jsxs)(eO,{color:"secondary",className:"gap-1 py-1 px-2",onClick:()=>si({initialToSpendingId:null==i?void 0:i.spendingId}),children:[(0,l.jsx)(a2.Z,{}),"Transfer"]}),(0,l.jsxs)(eO,{color:"cancel",className:"gap-1 py-1 px-2",onClick:o,children:[(0,l.jsx)(eD.Z,{}),"Remove"]}),(0,l.jsxs)(eF,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",role:"form",children:[(0,l.jsx)(a4.Z,{}),"Save"]})]}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center w-full overflow-hidden",children:[(0,l.jsx)(nV,{name:null==i?void 0:i.name,className:"flex-none"}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,l.jsx)("p",{className:"text-ellipsis truncate min-w-0",children:null==i?void 0:i.name}),(0,l.jsxs)(eM,{weight:"semibold",children:[null==i?void 0:i.getCurrentAmountString(),(0,l.jsx)("span",{className:"font-normal",children:"of"}),null==i?void 0:i.getTargetAmountString()]})]})]}),(0,l.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 my-2 dark:bg-gray-700 relative",children:[(0,l.jsx)("div",{className:"absolute top-0 bg-green-600 h-1.5 rounded-full dark:bg-green-600",style:{width:`${p}%`}}),(0,l.jsx)("div",{className:"absolute top-0 bg-blue-600 h-1.5 rounded-full dark:bg-blue-600",style:{width:`${m}%`}})]})]}),(0,l.jsx)(eo,{className:"w-1/2 my-4"}),(0,l.jsx)(tD,{className:"w-full",label:"Expense",name:"name",required:!0}),(0,l.jsx)(te,{allowNegative:!1,className:"w-full",label:"Amount",name:"amount",required:!0}),(0,l.jsx)(th,{label:"Target Date",name:"nextRecurrence",className:"w-full",required:!0,min:(0,tt.Z)()}),(0,l.jsx)(tF,{className:"w-full",label:"When do you want to fund the expense?",menuPortalTarget:document.body,name:"fundingScheduleId",required:!0}),(0,l.jsx)(sk,{id:"goal-details-paused","data-testid":"goal-details-paused",name:"isPaused",label:"Paused?",description:"Pause this goal to temporarily stop contributions to it."})]}),(0,l.jsx)(eo,{className:"block md:hidden w-1/2"}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col gap-2",children:[(0,l.jsx)(eM,{className:"text-xl my-2",children:"Goal Timeline"}),(0,l.jsx)(sD,{spendingId:i.spendingId})]})]})})]})}sL.__docgenInfo={description:"",methods:[],displayName:"Goals"},sD.__docgenInfo={description:"",methods:[],displayName:"GoalTimeline",props:{spendingId:{required:!0,tsType:{name:"string"},description:""}}},sP.__docgenInfo={description:"",methods:[],displayName:"GoalDetails"};var sq=t("../node_modules/@mui/icons-material/esm/PowerOutlined.js"),sz=t("../node_modules/@mui/icons-material/CheckCircle.js"),sO=t("../node_modules/@mui/icons-material/EditOutlined.js");function sF(e){let n=v("w-28",e.className);return(0,l.jsx)("div",{children:(0,l.jsx)("svg",{className:n,viewBox:"0 0 126 48",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsxs)("g",{fillRule:"evenodd",children:[(0,l.jsx)("path",{className:"fill-white text-white",d:"M66.248 16.268c-1.057-.889-2.861-1.333-5.413-1.333h-5.756v17.788h4.304v-5.575h1.928c2.34 0 4.056-.515 5.148-1.546 1.23-1.155 1.849-2.693 1.849-4.613 0-1.991-.687-3.565-2.06-4.721m-5.044 6.855h-1.821V18.96h1.636c1.99 0 2.985.698 2.985 2.094 0 1.378-.934 2.068-2.8 2.068M75.673 14.934h-4.488v17.788h9.69v-4.026h-5.202zM89.668 14.934l-7.05 17.788h4.832l.924-2.586H94.5l.845 2.586h4.886l-7-17.788zm-.053 11.601l1.849-6.08 1.82 6.08z"}),(0,l.jsx)("path",{className:"fill-white text-white",d:"M102.473 32.722h4.489V14.934h-4.489zM124.39 18.268a7.376 7.376 0 00-2.14-2.053c-1.355-.854-3.204-1.28-5.545-1.28h-5.914v17.787h6.918c2.5 0 4.506-.817 6.02-2.453 1.514-1.635 2.27-3.805 2.27-6.508 0-2.15-.537-3.981-1.61-5.493m-7.182 10.427h-1.927v-9.734h1.954c1.373 0 2.428.43 3.168 1.287.74.857 1.11 2.073 1.11 3.647 0 3.2-1.435 4.8-4.305 4.8M18.637 0L4.09 3.81.081 18.439l5.014 5.148L0 28.65l3.773 14.693 14.484 4.047 5.096-5.064 5.014 5.147 14.547-3.81 4.008-14.63-5.013-5.146 5.095-5.063L43.231 4.13 28.745.083l-5.094 5.063zM9.71 6.624l7.663-2.008 3.351 3.44-4.887 4.856zm16.822 1.478l3.405-3.383 7.63 2.132-6.227 6.187zM4.672 17.238l2.111-7.705 6.125 6.288-4.886 4.856zm29.547-1.243l6.227-6.189 1.986 7.74-3.404 3.384zm-15.502-.127l4.887-4.856 4.807 4.936-4.886 4.856zm-7.814 7.765l4.886-4.856 4.81 4.936-4.888 4.856zm15.503.127l4.886-4.856L36.1 23.84l-4.887 4.856zM4.57 29.927l3.406-3.385 4.807 4.937-6.225 6.186zm14.021 1.598l4.887-4.856 4.808 4.936-4.886 4.856zm15.502.128l4.887-4.856 3.351 3.439-2.11 7.705zm-24.656 8.97l6.226-6.189 4.81 4.936-3.406 3.385zm16.843-1.206l4.886-4.856 6.126 6.289-7.662 2.007z"})]})})})}sF.__docgenInfo={description:"",methods:[],displayName:"PlaidLogo",props:{className:{required:!1,tsType:{name:"string"},description:""}}};var sU=t("../node_modules/@mui/icons-material/esm/CreditCard.js");function sB(){let{result:{hasSubscription:e}}=Z(),{enqueueSnackbar:n}=(0,F.Ds)(),[t,a]=(0,r.useState)(!1),s=(0,r.useCallback)(()=>{a(!0),aA.Z.get("/api/billing/portal").then(e=>window.location.assign(e.data.url)).catch(e=>{var t,s;a(!1),n((null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[n]);return e?(0,l.jsxs)(eO,{className:"max-w-xs",color:"secondary",disabled:t,onClick:s,children:[(0,l.jsx)(sU.Z,{className:"mr-2"}),"Manage Your Subscription"]}):null}function sY(e){let[n,t]=(0,r.useState)("greeting"),a=e.alreadyOnboarded?"/link/create/plaid":"/setup/plaid",s=e.alreadyOnboarded?"/link/create/manual":"/setup/manual";switch(n){case"greeting":return(0,l.jsx)(sG,{onContinue:t,manualEnabled:e.manualEnabled,alreadyOnboarded:e.alreadyOnboarded});case"plaid":return(0,l.jsx)(O.Fg,{to:a});case"manual":return(0,l.jsx)(O.Fg,{to:s});default:return(0,l.jsx)("h1",{children:"Something went wrong..."})}}function sG(e){let n=_(),[t,a]=(0,r.useState)(null);return(0,l.jsxs)("div",{className:"w-full h-full flex lg:justify-center items-center gap-4 md:gap-8 flex-col overflow-y-auto py-4",children:[(0,l.jsx)(aG,{className:"w-16 h-16 md:w-24 md:h-24"}),(0,l.jsx)(function(){return e.alreadyOnboarded?(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,l.jsx)(eM,{className:"text-2xl font-medium",children:"Adding another bank?"}),(0,l.jsx)(eM,{className:"text-lg",color:"subtle",children:"Please select what type of bank you want to setup below."})]}):(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center text-center",children:[(0,l.jsx)(eM,{size:"2xl",weight:"medium",children:"Welcome to monetr!"}),(0,l.jsx)(eM,{size:"lg",color:"subtle",children:"Before we get started, please select how you would like to continue."})]})},{}),(0,l.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row p-2",children:[(0,l.jsx)(sV,{icon:(0,l.jsx)(sF,{}),name:"Plaid",description:"Plaid makes connecting your monetr account to your bank easy.",active:"plaid"===t,onClick:()=>a("plaid"),disabled:!(null==n?void 0:n.plaidEnabled)}),(0,l.jsx)(sV,{icon:(0,l.jsx)(sO.default,{}),name:"Manual",description:"Manage your transactions and budget manually with monetr.",active:"manual"===t,onClick:()=>a("manual"),disabled:!e.manualEnabled})]}),(0,l.jsx)(eO,{color:t?"primary":"secondary",disabled:!t,onClick:()=>e.onContinue(t),children:"Continue"}),!e.alreadyOnboarded&&(0,l.jsx)(sB,{}),(0,l.jsx)(function(){return e.alreadyOnboarded?null:(0,l.jsx)(aW,{})},{})]})}function sV(e){let n=v({"dark:border-dark-monetr-brand":e.active,"dark:hover:border-dark-monetr-brand-subtle":e.active,"border-monetr-brand":e.active,"hover:border-monetr-brand-subtle":e.active},{"dark:border-dark-monetr-border":!e.active,"dark:hover:border-dark-monetr-border-string":!e.active,"border-monetr-border":!e.active,"hover:border-monetr-border-string":!e.active},"cursor-pointer","border"),t=v("cursor-not-allowed","dark:ring-dark-monetr-border-subtle","ring-monetr-border-subtle","ring-1","ring-inset","dark:text-dark-monetr-content-muted","text-monetr-content-muted","opacity-50"),a=e.comingSoon||e.disabled,s=v({[n]:!a},{[t]:a},"text-center","flex","flex-row","md:flex-col","gap-4","group","md:h-72","md:w-56","items-center","p-2","py-4","md:p-4","relative","rounded-lg","h-36");return e.disabled?null:(0,l.jsxs)("a",{className:s,onClick:function(){if(!e.comingSoon)!e.disabled&&e.onClick()},children:[e.active&&(0,l.jsx)(sz.default,{className:"absolute dark:text-dark-monetr-brand-subtle top-2 right-2"}),r.cloneElement(e.icon,{className:"w-16 h-12 md:w-20 md:h-12 ml-4 md:ml-0 md:mt-6"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center h-full md:mt-4 text-center w-full md:w-auto",children:[(0,l.jsx)(eM,{className:"text-lg font-medium",children:e.name}),(0,l.jsx)(eM,{color:"subtle",children:e.description}),!e.comingSoon&&(0,l.jsx)(eM,{className:"md:block hidden",children:"\xa0"}),e.comingSoon&&(0,l.jsx)(eM,{className:"md:mt-5 font-medium",children:"Coming Soon"}),e.disabled&&(0,l.jsx)(eM,{className:"md:mt-5 font-medium",children:"Unavailable"})]})]})}function sW(){let{result:e}=T();return(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsx)(nQ,{icon:sq.Z,title:"Add another connection"}),(0,l.jsx)(sY,{alreadyOnboarded:!0,manualEnabled:null==e?void 0:e.manualEnabled})]})}sB.__docgenInfo={description:"The SetupBillingButton should only be used on the setup page, it is intended to be a way to manage your billing\nsettings if you do not have an active link for some reason.",methods:[],displayName:"SetupBillingButton"},sY.__docgenInfo={description:"",methods:[],displayName:"SetupPage",props:{alreadyOnboarded:{required:!1,tsType:{name:"boolean"},description:""},manualEnabled:{required:!1,tsType:{name:"boolean"},description:""}}},sW.__docgenInfo={description:"",methods:[],displayName:"LinkCreatePage"};var sH=t("../node_modules/react-google-recaptcha/lib/esm/index.js");function sQ(e){let n=(0,eq.u6)(),t=_();if(!e.show||!(null==t?void 0:t.ReCAPTCHAKey))return null;let a=!!(null==n?void 0:n.isSubmitting),s=v(["flex","items-center","justify-center","w-full"],e.className);return(0,l.jsxs)("div",{className:s,children:[!a&&(0,l.jsx)(sH.Z,{"data-testid":e["data-testid"],sitekey:t.ReCAPTCHAKey,onChange:function(t){(null==n?void 0:n.setFieldValue)&&e.name&&n.setFieldValue(e.name,t,!1)}}),a&&(0,l.jsx)(aJ.Z,{})]})}sQ.__docgenInfo={description:"",methods:[],displayName:"MCaptcha",props:{name:{required:!1,tsType:{name:"string"},description:""},show:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:""}}};let s$=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function sK(e){return s$.test(e.toLowerCase())}let sJ={email:"",password:"",captcha:null};function sX(e){let n={};return(null==e?void 0:e.email.length)===0&&(n.email="Email must be provided."),(null==e?void 0:e.email)&&!sK(null==e?void 0:e.email)&&(n.email="Email must be valid."),(null==e?void 0:e.password.length)<8&&(n.password="Password must be at least 8 characters long."),n}function s0(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=_(),t=function(){let e=(0,O.s0)(),n=(0,C.NL)();return async t=>(0,L.Z)().post("/authentication/login",t).then(async t=>n.invalidateQueries(["/users/me"]).then(()=>{var n;return e((null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.nextUrl)||"/")})).catch(async a=>{var s,i,l,r,d;if((null==a?void 0:null===(s=a.response)||void 0===s?void 0:s.status)===428)switch(null==a?void 0:null===(l=a.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:i.code){case"PASSWORD_CHANGE_REQUIRED":return e("/password/reset",{state:{message:"You are required to change your password before authenticating.",token:null==a?void 0:null===(d=a.response)||void 0===d?void 0:null===(r=d.data)||void 0===r?void 0:r.resetToken}});case"MFA_REQUIRED":return n.invalidateQueries(["/users/me"]).then(()=>e("/login/multifactor"));case"EMAIL_NOT_VERIFIED":return e("/verify/email/resend",{state:{emailAddress:t.email}});default:break}throw a})}();async function a(n,a){return a.setSubmitting(!0),t({captcha:n.captcha,email:n.email,password:n.password}).catch(n=>{var t,a;return e((null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to authenticate.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>a.setSubmitting(!1))}return(0,l.jsxs)(tf,{initialValues:sJ,validate:sX,onSubmit:a,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,l.jsx)("div",{className:"max-w-[128px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsx)(eM,{children:"Sign into your monetr account"}),(0,l.jsx)(tD,{"data-testid":"login-email",autoFocus:!0,label:"Email Address",name:"email",type:"email",required:!0,className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2",tabIndex:1}),(0,l.jsx)(tD,{autoComplete:"current-password",className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2","data-testid":"login-password",label:"Password",labelDecorator:function(){return(null==n?void 0:n.allowForgotPassword)?(0,l.jsx)(aY,{to:"/password/forgot",size:"sm","data-testid":"login-forgot",tabIndex:5,children:"Forgot password?"}):null},name:"password",required:!0,type:"password",tabIndex:2}),(0,l.jsx)(sQ,{name:"captcha",show:!!(null==n?void 0:n.verifyLogin)}),(0,l.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,l.jsx)(n6,{"data-testid":"login-submit",variant:"primary",role:"form",type:"submit",className:"w-full",tabIndex:3,children:"Sign In"})}),(0,l.jsx)(function(){return(null==n?void 0:n.allowSignUp)?(0,l.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Not a user?"}),(0,l.jsx)(aY,{to:"/register",size:"sm","data-testid":"login-signup",tabIndex:4,children:"Sign up now"})]}):null},{})]})}s0.__docgenInfo={description:"",methods:[],displayName:"Login"};var s1=t("../node_modules/input-otp/dist/index.mjs"),s2=t("../node_modules/lucide-react/dist/esm/icons/dot.js");let s4=r.forwardRef((e,n)=>{let{className:t,containerClassName:a,...s}=e;return(0,l.jsx)(s1.uZ,{ref:n,containerClassName:v("flex items-center gap-2 has-[:disabled]:opacity-50",a),className:v("disabled:cursor-not-allowed",t),...s})});s4.displayName="InputOTP";let s5=r.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:n,className:v("flex items-center",t),...a})});s5.displayName="InputOTPGroup";let s3=r.forwardRef((e,n)=>{let{index:t,className:a,...s}=e,{char:i,hasFakeCaret:d,isActive:o}=r.useContext(s1.VM).slots[t],c=v("relative flex h-10 w-10 items-center justify-center","border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",{"z-10 ring-2 ring-ring ring-offset-background":o},a);return(0,l.jsxs)("div",{ref:n,className:c,...s,children:[i,d&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});s3.displayName="InputOTPSlot";let s6=r.forwardRef((e,n)=>{let{...t}=e;return(0,l.jsx)("div",{ref:n,role:"separator",...t,children:(0,l.jsx)(s2.Z,{})})});s6.displayName="InputOTPSeparator",s4.__docgenInfo={description:"",methods:[],displayName:"InputOTP"},s5.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"},s6.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"},s3.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};let s7={totp:""};function s8(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=(0,C.NL)();async function t(t,a){return a.setSubmitting(!0),(0,L.Z)().post("/authentication/multifactor",{totp:t.totp}).then(()=>n.invalidateQueries(["/users/me"])).catch(n=>{var t,a;return e((null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to validate TOTP code.",{variant:"error",disableWindowBlurListener:!0})})}return(0,l.jsx)(tf,{initialValues:s7,onSubmit:t,validate:function(e){let n={};return 6!=e.totp.length&&(n.totp="TOTP code must be 6 digits"),n},validateOnMount:!0,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-2 px-5",children:e=>(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)("div",{className:"max-w-[128px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsx)(eM,{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1 text-center",children:"Please provide the 6-digit code from your authenticator app"}),(0,l.jsxs)(s4,{name:"totp",maxLength:6,required:!0,onChange:n=>e.setFieldValue("totp",n),disabled:e.isSubmitting,autoFocus:!0,children:[(0,l.jsxs)(s5,{children:[(0,l.jsx)(s3,{index:0}),(0,l.jsx)(s3,{index:1}),(0,l.jsx)(s3,{index:2})]}),(0,l.jsx)(s6,{}),(0,l.jsxs)(s5,{children:[(0,l.jsx)(s3,{index:3}),(0,l.jsx)(s3,{index:4}),(0,l.jsx)(s3,{index:5})]})]}),(0,l.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,l.jsx)(eF,{disabled:!e.isValid,"data-testid":"multifactor-submit",color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",tabIndex:3,children:function(e){let n=e.totp.length;return n<6?`${6-n} digits left`:"Continue"}(e.values)})}),(0,l.jsx)(aW,{})]})})}s8.__docgenInfo={description:"",methods:[],displayName:"MultifactorAuthenticationPage"};var s9=t("../node_modules/@mui/material/Backdrop/Backdrop.js");function ie(e){(0,r.useEffect)(e,[])}function it(){let e=function(){let e=(0,C.NL)();return async()=>(0,L.Z)().get("/authentication/logout").then(()=>e.invalidateQueries(["/users/me"]))}();return ie(()=>{e().finally(()=>window.location.replace("/login"))}),(0,l.jsx)(s9.Z,{open:!0,children:(0,l.jsx)(aJ.Z,{color:"inherit"})})}it.__docgenInfo={description:"",methods:[],displayName:"LogoutPage"};let ia={email:"",captcha:null};function is(){return(0,l.jsxs)("div",{className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,l.jsx)("div",{className:"max-w-[128px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(eM,{children:"Check your email"}),(0,l.jsx)(eM,{color:"subtle",className:"max-w-[248px] text-center text-sm",children:"If a user was found with the email provided, then you should receive an email with instructions on how to reset your password."})]}),(0,l.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Return to"}),(0,l.jsx)(aY,{to:"/login",size:"sm",children:"Sign in"})]})]})}function ii(){let e=_(),n=function(){let{enqueueSnackbar:e}=(0,F.Ds)();return async(n,t)=>(0,L.Z)().post("/authentication/forgot",{email:n,captcha:t}).then(()=>void e("Successfully sent password reset link.",{variant:"success",disableWindowBlurListener:!0})).catch(n=>{var t;let a=n.response.data.error||"Failed to send password reset email.",s="error";(null==n?void 0:null===(t=n.response)||void 0===t?void 0:t.status)===428&&(s="warning"),e(a,{variant:s,disableWindowBlurListener:!0})})}(),[t,a]=(0,r.useState)(!1);async function s(e,t){return t.setSubmitting(!0),n(e.email,e.captcha).then(()=>a(!0)).finally(()=>t.setSubmitting(!1))}return t?(0,l.jsx)(is,{}):(0,l.jsxs)(tf,{initialValues:ia,validate:function(e){let n={};return e.email&&!sK(e.email)&&(n.email="Please provide a valid email address."),n},onSubmit:s,className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5",children:[(0,l.jsx)("div",{className:"max-w-[128px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(eM,{children:"Forgot your password?"}),(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"We can email you a link to reset it."})]}),(0,l.jsx)(tD,{autoFocus:!0,autoComplete:"username",label:"Email Address",name:"email",type:"email",required:!0,className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2"}),(0,l.jsx)(sQ,{className:"mb-1",name:"captcha",show:!!(null==e?void 0:e.verifyForgotPassword)}),(0,l.jsx)("div",{className:"w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2 mt-1",children:(0,l.jsx)(eF,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})}),(0,l.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,l.jsx)(aY,{to:"/login",size:"sm",children:"Sign in"})]})]})}is.__docgenInfo={description:"",methods:[],displayName:"ForgotPasswordComplete"},ii.__docgenInfo={description:"",methods:[],displayName:"ForgotPasswordNew"};let il={password:"",verifyPassword:""};function ir(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=(0,O.TH)(),t=(0,O.s0)(),a=function(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=(0,O.s0)();return async(t,a)=>(0,L.Z)().post("/authentication/reset",{token:a,password:t}).then(()=>{e("Password has been reset, please login with your new credentials.",{variant:"success",disableWindowBlurListener:!0}),n("/login")}).catch(n=>{throw e(n.response.data.error||"Failed to reset password.",{variant:"error",disableWindowBlurListener:!0}),n})}(),{state:s}=(0,O.TH)(),i=s&&s.message||"Enter the new password you would like to use.",d=new URLSearchParams(n.search).get("token")||s&&s.token;async function o(e,n){return n.setSubmitting(!0),a(e.password,d).catch(()=>n.setSubmitting(!1))}return(0,r.useEffect)(()=>{!d&&(t("/login"),e("You must get a password reset link to change your password.",{variant:"warning",disableWindowBlurListener:!0})),window.history.replaceState({},document.title,d?n.pathname:"/login")},[d,e,t,n.pathname]),(0,l.jsxs)(tf,{onSubmit:o,initialValues:il,validate:function(e){let n={};return e.password&&e.password.trim().length<8&&(n.password="Password must be at least 8 characters long."),e.verifyPassword&&e.password!==e.verifyPassword&&(n.verifyPassword="Passwords must match."),n},className:"w-full h-full flex flex-col pt-10 md:pt-0 mb:pb-10 md:justify-center items-center px-5 gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center flex-col gap-1 w-full xl:w-1/5 lg:w-1/4 md:w-1/3 sm:w-1/2",children:[(0,l.jsx)("div",{className:"max-w-[128px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsx)(eM,{className:"flex items-center text-center",children:i}),(0,l.jsx)(tD,{autoFocus:!0,autoComplete:"current-password",label:"Password",name:"password",type:"password",required:!0,className:"w-full"}),(0,l.jsx)(tD,{autoComplete:"current-password",label:"Verify Password",name:"verifyPassword",type:"password",required:!0,className:"w-full"}),(0,l.jsx)(eF,{color:"primary",variant:"solid",role:"form",type:"submit",className:"w-full",children:"Reset Password"})]}),(0,l.jsxs)("div",{className:"w-full lg:w-1/4 sm:w-1/3 mt-1 flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Remembered your password?"}),(0,l.jsx)(aY,{to:"/login",size:"sm",children:"Sign in"})]})]})}ir.__docgenInfo={description:"",methods:[],displayName:"PasswordResetNew"};var id=t("../node_modules/@mui/material/Card/Card.js"),io=t("../node_modules/@mui/material/CardContent/CardContent.js");let ic=e=>{let{open:n,ready:t}=(0,eG.usePlaidLink)({token:e.linkToken,receivedRedirectUri:window.location.href,onSuccess:e.plaidOnSuccess,onExit:e.plaidOnExit,onEvent:e.plaidOnEvent,onLoad:e.plaidOnLoad});return(0,r.useEffect)(()=>{t&&n()},[t,n]),null};function iu(){let e=(0,C.NL)(),[n,t]=(0,r.useState)({loading:!0});(0,r.useEffect)(()=>{(0,L.Z)().get("/plaid/link/token/new?use_cache=true").then(e=>t({loading:!1,linkToken:e.data.linkToken})).catch(e=>t({loading:!1,error:e}))},[]);let a=(0,O.s0)();async function s(){t(e=>({longPollAttempts:e.longPollAttempts+1}));let{longPollAttempts:e,linkId:a}=n;return e>6?Promise.resolve():(0,L.Z)().get(`/plaid/link/setup/wait/${a}`).then(()=>Promise.resolve()).catch(e=>{if(408===e.response.status)return s();throw e})}function i(e,n){return e&&S.eN({message:"Plaid link exited with error",level:"error",tags:{"plaid.request_id":n.request_id,"plaid.link_session_id":n.link_session_id},breadcrumbs:[{type:"info",level:"info",message:"Error from Plaid link",data:e}]}),a("/")}async function d(n,a){t({loading:!0}),(0,L.Z)().post("/plaid/link/token/callback",{publicToken:n,institutionId:a.institution.institution_id,institutionName:a.institution.name,accountIds:a.accounts.map(e=>e.id)}).then(n=>(t({linkId:n.data.linkId}),s().then(()=>Promise.all([e.invalidateQueries(["/links"]),e.invalidateQueries(["/bank_accounts"])]))))}return(0,l.jsx)("div",{className:"w-full h-full flex justify-center items-center p-10",children:(0,l.jsx)("div",{children:(0,l.jsx)(id.Z,{children:(0,l.jsx)(io.Z,{children:n.loading||!n.linkToken?(0,l.jsxs)("div",{children:[(0,l.jsx)(aK.Z,{variant:"h5",children:"One moment..."}),(0,l.jsx)("div",{className:"flex justify-center items-center p-5 m-5",children:(0,l.jsx)(aJ.Z,{})})]}):(0,l.jsx)("div",{children:(0,l.jsx)(ic,{linkToken:n.linkToken,plaidOnSuccess:d,plaidOnExit:i})})})})})})}iu.__docgenInfo={description:"",methods:[],displayName:"OauthReturn"};let im={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function ip(e){let n={};return(null==e?void 0:e.firstName.length)<2&&(n.firstName="First name must have at least 2 characters."),(null==e?void 0:e.lastName.length)<2&&(n.lastName="Last name must have at least 2 characters."),(null==e?void 0:e.email.length)===0&&(n.email="Email must be provided."),(null==e?void 0:e.email)&&!sK(null==e?void 0:e.email)&&(n.email="Email must be valid."),(null==e?void 0:e.password.length)<8&&(n.password="Password must be at least 8 characters long."),(null==e?void 0:e.confirmPassword)!==(null==e?void 0:e.password)&&(n.confirmPassword="Password confirmation must match."),n}function ig(){return(0,l.jsxs)("div",{className:"w-full h-full flex justify-center items-center flex-col",children:[(0,l.jsx)(aG,{className:"h-24 w-24"}),(0,l.jsx)(eM,{size:"xl",weight:"medium",className:"max-w-md text-center",children:"A verification message has been sent to your email address, please verify your email."})]})}function ix(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=_(),t=async e=>(0,L.Z)().post("/authentication/register",e).then(e=>e.data),a=(0,O.s0)(),s=(0,C.NL)(),[i,d]=(0,r.useState)(!1);async function o(n,i){let l;i.setSubmitting(!0);return t({betaCode:n.betaCode,captcha:n.captcha,email:n.email,firstName:n.firstName,lastName:n.lastName,password:n.password,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,locale:(!(l=Intl.DateTimeFormat().resolvedOptions().locale)&&void 0!=navigator.languages&&(l=navigator.languages[0]),!l&&(l=navigator.language),l.replace("-","_"))}).then(e=>e.requireVerification?d(!0):s.invalidateQueries(["/users/me"]).then(()=>e.nextUrl?a(e.nextUrl):a("/"))).catch(n=>{e(n.response.data.error||"Failed to sign up.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>i.setSubmitting(!1))}return i?(0,l.jsx)(ig,{}):(0,l.jsx)("div",{className:"w-full h-full flex pt-10 md:pt-0 md:pb-10 md:justify-center items-center flex-col gap-1 px-5 overflow-y-auto py-4",children:(0,l.jsxs)(tf,{initialValues:im,validate:ip,onSubmit:o,className:"flex flex-col md:w-1/2 lg:w-1/3 xl:w-1/4 items-center",children:[(0,l.jsx)("div",{className:"max-w-[96px] w-full",children:(0,l.jsx)(aG,{})}),(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)(eM,{className:"text-5xl",children:"Get Started"}),(0,l.jsx)(eM,{color:"subtle",className:"text-lg",children:"Create your monetr account now"})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2.5 w-full",children:[(0,l.jsx)(tD,{"data-testid":"register-first-name",autoFocus:!0,label:"First Name",name:"firstName",type:"text",required:!0,className:"w-full"}),(0,l.jsx)(tD,{"data-testid":"register-last-name",label:"Last Name",name:"lastName",type:"text",required:!0,className:"w-full"})]}),(0,l.jsx)(tD,{"data-testid":"register-email",label:"Email Address",name:"email",type:"email",required:!0,className:"w-full"}),(0,l.jsx)(tD,{autoComplete:"new-password",className:"w-full","data-testid":"register-password",label:"Password",name:"password",required:!0,type:"password"}),(0,l.jsx)(tD,{autoComplete:"new-password",className:"w-full","data-testid":"register-confirm-password",label:"Confirm Password",name:"confirmPassword",required:!0,type:"password"}),(0,l.jsx)(function(){return(null==n?void 0:n.requireBetaCode)?(0,l.jsx)(tD,{label:"Beta Code",name:"betaCode",type:"text",required:!0,uppercasetext:!0,className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4"}):null},{}),(0,l.jsx)(sQ,{className:"mb-1",name:"captcha",show:!!(null==n?void 0:n.verifyRegister)}),(0,l.jsx)(n6,{"data-testid":"register-submit",className:"w-full mt-1",role:"form",type:"submit",variant:"primary",children:"Sign Up"}),(0,l.jsx)("div",{className:"mt-1 flex justify-center gap-1 flex-col md:flex-row items-center",children:(0,l.jsxs)(eM,{className:"gap-1 inline-block text-center",size:"sm",color:"subtle",component:"p",children:["By signing up you agree to monetr's\xa0",(0,l.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"https://monetr.app/policy/terms",children:"Terms & Conditions"})," and\xa0",(0,l.jsx)("a",{target:"_blank",className:"text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline",href:"https://monetr.app/policy/privacy",children:"Privacy Policy"})]})}),(0,l.jsxs)("div",{className:"mt-1 flex justify-center gap-1 flex-col md:flex-row items-center",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Already have an account?"}),(0,l.jsx)(aY,{to:"/login",size:"sm",children:"Sign in instead"})]})]})})}function ih(){let{release:e,revision:n,buildType:t,buildTime:a}=_();return(0,l.jsxs)("div",{className:"w-full flex flex-col p-4 gap-8",children:[(0,l.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,l.jsx)(eM,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"About monetr"}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Version"}),(0,l.jsx)(eM,{component:"code",size:"lg",children:e||"Unknown"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Revision"}),(0,l.jsx)(eM,{component:"code",size:"lg",children:n?n.slice(0,7):"Unknown"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Type"}),(0,l.jsx)(eM,{component:"code",size:"lg",children:t||"Unknown"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Build Time"}),(0,l.jsx)(eM,{component:"code",size:"lg",children:(0,nS.Z)(a,"LLLL do yyyy, h:mmaaa OOOO")})]}),(0,l.jsx)(eo,{})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col max-w-2xl",children:[(0,l.jsx)(eM,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Need Help?"}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Source Code"}),(0,l.jsx)(ib,{href:"https://github.com/monetr/monetr",children:"https://github.com/monetr/monetr"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Email"}),(0,l.jsx)(ib,{href:"mailto:support@monetr.app",children:"support@monetr.app"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Github Discussions"}),(0,l.jsx)(ib,{href:"https://github.com/monetr/monetr/discussions",children:"https://github.com/monetr/monetr/discussions"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Discord"}),(0,l.jsx)(ib,{href:"https://discord.gg/68wTCXrhuq",children:"Join Discord Server"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Terms & Conditions"}),(0,l.jsx)(ib,{href:"https://monetr.app/policy/terms",children:"https://monetr.app/policy/terms"})]}),(0,l.jsx)(eo,{}),(0,l.jsxs)("div",{className:"flex p-4",children:[(0,l.jsx)(eM,{className:"w-1/3",size:"lg",weight:"semibold",children:"Privacy Policy"}),(0,l.jsx)(ib,{href:"https://monetr.app/policy/privacy",children:"https://monetr.app/policy/privacy"})]}),(0,l.jsx)(eo,{})]})]})}function ib(e){let n=eL({size:"lg",className:"dark:text-dark-monetr-blue hover:underline focus:ring-2 focus:ring-dark-monetr-blue focus:underline"});return(0,l.jsx)("a",{className:n,target:"_blank",href:e.href,children:e.children})}ig.__docgenInfo={description:"",methods:[],displayName:"RegisterSuccessful"},ix.__docgenInfo={description:"",methods:[],displayName:"Register"},ih.__docgenInfo={description:"",methods:[],displayName:"SettingsAbout"};var iv=t("../node_modules/@mui/icons-material/esm/AccessTimeOutlined.js"),ij=t("../node_modules/date-fns/esm/isPast/index.js");function iw(){let{result:{trialingUntil:e}}=Z();return(0,l.jsxs)("div",{className:"w-full flex flex-col p-4 max-w-xl",children:[(0,l.jsx)(eM,{size:"2xl",weight:"bold",color:"emphasis",className:"mb-4",children:"Billing"}),(0,l.jsx)(eo,{}),(0,l.jsx)(iN,{trialingUntil:e}),(0,l.jsx)(iy,{})]})}function iy(){let{enqueueSnackbar:e}=(0,F.Ds)(),[n,t]=(0,r.useState)(!1),{result:{hasSubscription:a}}=Z(),s=(0,r.useCallback)(()=>{t(!0),(0,L.Z)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(n=>{var a,s;t(!1),e((null==n?void 0:null===(s=n.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to prepare Stripe billing session.",{variant:"error",disableWindowBlurListener:!0})})},[e]);return a?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between py-4",children:[(0,l.jsx)(eM,{children:"Subscription Status"}),(0,l.jsx)(ny,{className:"bg-green-600",children:"Active"})]}),(0,l.jsx)(eo,{}),(0,l.jsx)(eO,{className:"ml-auto mt-4 max-w-xs",color:"primary",disabled:n,onClick:s,children:"Manage Your Subscription"})]}):null}function iN(e){if(!e.trialingUntil||(0,ij.Z)(e.trialingUntil))return null;let n=(0,nF.Z)(e.trialingUntil)?(0,nS.Z)(e.trialingUntil,"MMMM do"):(0,nS.Z)(e.trialingUntil,"MMMM do, yyyy");return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between py-4",children:[(0,l.jsx)(eM,{children:"Subscription Status"}),(0,l.jsxs)(ny,{className:"bg-yellow-600",children:[(0,l.jsx)(iv.Z,{}),"Trialing Until ",n]})]}),(0,l.jsx)(eo,{}),(0,l.jsx)("div",{className:"flex justify-between py-4",children:(0,l.jsx)(eM,{children:"You can upgrade to a paid subscription at the end of your trial."})}),(0,l.jsx)(eo,{})]})}function ik(){var e,n,t,a,s,i,r;let{result:d}=Z(),o={label:null==d?void 0:null===(n=d.user)||void 0===n?void 0:null===(e=n.account)||void 0===e?void 0:e.timezone,value:0};return(0,l.jsxs)("div",{className:"w-full h-full flex flex-col justify-between pb-4",children:[(0,l.jsxs)("div",{className:"w-full flex p-4 flex-col",children:[(0,l.jsx)(tD,{label:"First Name",name:"firstName",className:"max-w-[24rem] w-full",value:null==d?void 0:null===(a=d.user)||void 0===a?void 0:null===(t=a.login)||void 0===t?void 0:t.firstName,disabled:!0}),(0,l.jsx)(tD,{label:"Last Name",name:"lastName",className:"max-w-[24rem] w-full",value:null==d?void 0:null===(i=d.user)||void 0===i?void 0:null===(s=i.login)||void 0===s?void 0:s.lastName,disabled:!0}),(0,l.jsx)(tD,{label:"Email Address",name:"email",className:"max-w-[24rem] w-full",value:null==d?void 0:null===(r=d.user)||void 0===r?void 0:r.login.email,disabled:!0}),(0,l.jsx)(tT,{label:"Timezone",name:"timezone",className:"max-w-[24rem] w-full",options:[o],value:o,disabled:!0})]}),(0,l.jsx)("div",{className:"w-full flex justify-end px-4",children:(0,l.jsx)(eO,{color:"primary",disabled:!0,children:"Save Settings"})})]})}function iA(e){let{className:n,...t}=e;return(0,l.jsx)("div",{className:(0,b.m)("border-dark-monetr-border rounded border p-4 space-y-2",n),...t})}iw.__docgenInfo={description:"",methods:[],displayName:"SettingsBilling"},ik.__docgenInfo={description:"",methods:[],displayName:"SettingsOverview"},t("../node_modules/@mui/icons-material/esm/PasswordOutlined.js"),iA.__docgenInfo={description:"",methods:[],displayName:"Card"};var iI=t("../node_modules/lucide-react/dist/esm/icons/rectangle-ellipsis.js");let iT={currentPassword:"",newPassword:"",repeatPassword:""};function i_(){let e=(0,eZ.dd)(),{enqueueSnackbar:n}=(0,F.Ds)(),t=(0,r.useRef)(null);async function a(t,a){return a.setSubmitting(!0),(0,L.Z)().put("/users/security/password",{currentPassword:t.currentPassword,newPassword:t.newPassword}).then(()=>n("Successfully updated password.",{variant:"success",disableWindowBlurListener:!0})).then(()=>e.remove()).catch(e=>{var t,a;return n((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to change password.",{variant:"error",disableWindowBlurListener:!0})}).finally(()=>a.setSubmitting(!1))}return(0,l.jsx)(eU,{open:e.visible,ref:t,className:"sm:max-w-sm",children:(0,l.jsxs)(tf,{onSubmit:a,initialValues:iT,validate:function(e){let n={};return e.currentPassword?(e.newPassword.length<8&&(n.newPassword="New Password must be at least 8 characters long."),0===e.repeatPassword.length&&(n.repeatPassword="You must repeat your password."),e.repeatPassword!==e.newPassword&&(n.repeatPassword="New Passwords must match."),n):(n.currentPassword="Your current password must be provided in order to change your password.",n)},className:"h-full flex flex-col gap-2 p-2 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",className:"mb-2",children:"Change Your Password"}),(0,l.jsx)(tD,{autoFocus:!0,autoComplete:"current-password",className:"w-full",label:"Current Password",name:"currentPassword",type:"password",placeholder:"********"}),(0,l.jsx)(tD,{autoComplete:"new-password",className:"w-full",label:"New Password",name:"newPassword",type:"password",placeholder:"********"}),(0,l.jsx)(tD,{autoComplete:"new-password",className:"w-full",label:"Repeat Password",name:"repeatPassword",type:"password",placeholder:"********"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(eF,{color:"cancel",onClick:e.remove,"data-testid":"close-change-password-modal",children:"Cancel"}),(0,l.jsxs)(eF,{color:"primary",type:"submit",children:[(0,l.jsx)(iI.Z,{className:"mr-1"}),"Update Password"]})]})]})})}let iS=eZ.ZP.create(i_);function iC(){return eZ.ZP.show(iS)}i_.__docgenInfo={description:"",methods:[],displayName:"ChangePasswordModal"};var iE=t("../node_modules/react-qr-code/lib/index.js"),iR=t("../node_modules/lucide-react/dist/esm/icons/shield.js");let iM={totp:""};function iL(){let e=(0,eZ.dd)(),n=(0,r.useRef)(null),{enqueueSnackbar:t}=(0,F.Ds)(),a=(0,C.NL)(),[s,i]=(0,r.useState)(null);async function d(n,s){return s.setSubmitting(!0),(0,L.Z)().post("/users/security/totp/confirm",{totp:n.totp}).then(()=>a.invalidateQueries(["/users/me"])).then(()=>t("Multifactor authentication enabled.",{variant:"success",disableWindowBlurListener:!0})).then(()=>e.remove()).catch(e=>{var n,a;return t((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to enable TOTP.",{variant:"error",disableWindowBlurListener:!0})})}return(0,r.useEffect)(()=>{null===s&&(0,L.Z)().post("/users/security/totp/setup").then(e=>i(e.data)).catch(e=>{console.error("failed to get totp state",e)})},[s,i]),(0,l.jsx)(eU,{open:e.visible,ref:n,className:"sm:max-w-sm",onClose:()=>i(null),children:(0,l.jsx)(tf,{onSubmit:d,initialValues:iM,className:"h-full flex flex-col gap-2 p-2 justify-between",children:n=>{let{setFieldValue:t,isSubmitting:a}=n;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(eM,{weight:"bold",size:"xl",className:"mb-2",children:"Enable Multifactor Authentication"}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,l.jsx)(eM,{size:"md",children:"Scan the following QR code with your preferred authenticator app"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"bg-white p-2 max-w-fit rounded-md",children:(0,l.jsx)(iE.default,{value:(null==s?void 0:s.uri)||""})})}),(0,l.jsx)(eM,{size:"md",children:"Or enter the secret manually"}),(0,l.jsx)(eM,{component:"code",size:"lg",className:"py-2 px-4",children:!!(null==s?void 0:s.uri)&&new URL(s.uri).searchParams.get("secret")}),(0,l.jsx)(eo,{className:"w-full"}),(0,l.jsx)(eM,{size:"md",children:"Enter the 6-digit code generated by your app"}),(0,l.jsxs)(s4,{name:"totp",maxLength:6,disabled:a,onChange:e=>t("totp",e),children:[(0,l.jsxs)(s5,{children:[(0,l.jsx)(s3,{index:0}),(0,l.jsx)(s3,{index:1}),(0,l.jsx)(s3,{index:2})]}),(0,l.jsx)(s6,{}),(0,l.jsxs)(s5,{children:[(0,l.jsx)(s3,{index:3}),(0,l.jsx)(s3,{index:4}),(0,l.jsx)(s3,{index:5})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(eF,{color:"cancel",onClick:e.remove,"data-testid":"close-change-password-modal",children:"Cancel"}),(0,l.jsxs)(eF,{color:"primary",type:"submit",children:[(0,l.jsx)(iR.Z,{className:"mr-1"}),"Enable TOTP"]})]})]})}})})}let iZ=eZ.ZP.create(iL);function iD(){return eZ.ZP.show(iZ)}function iP(){let{login:e}=D();return(0,l.jsxs)(iA,{className:"md:w-1/3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,l.jsx)(iR.Z,{})}),(0,l.jsx)(eO,{variant:"solid",color:"primary",disabled:!!e.totpEnabledAt,onClick:iD,children:e.totpEnabledAt?"Already Enabled":"Enable TOTP"})]}),(0,l.jsx)(eM,{size:"md",weight:"medium",color:"emphasis",children:"Authenticator App (TOTP)"}),(0,l.jsx)(eM,{component:"p",children:"Get verification codes from an authenticator app such as 1Password or Google Authenticator. It works even if your phone is offline."})]})}iL.__docgenInfo={description:"",methods:[],displayName:"EnableTOTPModal"},iP.__docgenInfo={description:"",methods:[],displayName:"TOTPCard"};var iq=t("../node_modules/lucide-react/dist/esm/icons/mail.js");function iz(){let{enqueueSnackbar:e}=(0,F.Ds)();return(0,l.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(eM,{size:"3xl",weight:"semibold",color:"emphasis",component:"h1",children:"Security Settings"}),(0,l.jsx)(eM,{size:"md",weight:"normal",children:"Manage your password and multi-factor authentication."})]}),(0,l.jsxs)("div",{className:"mt-4 flex gap-4 flex-col md:flex-row",children:[(0,l.jsxs)(iA,{className:"md:w-1/3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,l.jsx)(iI.Z,{})}),(0,l.jsx)(eO,{variant:"solid",color:"primary",onClick:iC,children:"Change Password"})]}),(0,l.jsx)(eM,{size:"md",weight:"medium",color:"emphasis",children:"Account Password"}),(0,l.jsx)(eM,{component:"p",children:"Set a secure and unique password to make sure your account stays protected."})]}),(0,l.jsxs)(iA,{className:"md:w-1/3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("div",{className:"border-dark-monetr-border rounded border w-fit p-2 bg-dark-monetr-background-subtle",children:(0,l.jsx)(iq.Z,{})}),(0,l.jsx)(eO,{variant:"solid",color:"primary",disabled:!0,children:"Update Email"})]}),(0,l.jsx)(eM,{size:"md",weight:"medium",color:"emphasis",children:"Email Address"}),(0,l.jsx)(eM,{component:"p",children:"Change your primary email address, this is what you'll use to login to monetr and can be used to recover your acount."})]}),(0,l.jsx)(iP,{})]})]})}function iO(e){let{steps:n,activeIndex:t}=e,a=[0,1,2],s=n.map((e,s)=>{let i=a[[s>t,s===t,s<t].indexOf(!0)],r=s!=n.length-1;return(0,l.jsx)(iF,{state:i,name:e,currentIndex:t,index:s,divider:r},s)});return(0,l.jsx)("div",{className:"w-full flex gap-2 items-center bg-dark-monetr-background-focused p-2 rounded-xl",children:s})}iz.__docgenInfo={description:"",methods:[],displayName:"SettingsSecurity"};function iF(e){let n=v({0:["dark:border-dark-monetr-background-emphasis","border-dashed"],1:["dark:border-dark-monetr-background-emphasis","border-dashed"],2:["dark:border-green-600"]}[e.state],"flex-grow"),t=v({0:["dark:bg-dark-monetr-background-emphasis"],1:["dark:bg-dark-monetr-brand-bright","dark:text-black"],2:["dark:bg-green-600","dark:text-white"]}[e.state],"rounded-full","w-5","h-5","flex","text-center","align-middle","items-center","justify-center"),a=v({"sm:inline hidden":![e.currentIndex,e.currentIndex+1].includes(e.index)},{0:[],1:["dark:text-dark-monetr-brand-bright"],2:["dark:text-green-600"]}[e.state]);return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(eM,{className:"flex gap-1 items-center h-6",children:[(0,l.jsx)(eM,{className:t,children:e.index+1}),(0,l.jsx)(eM,{className:a,children:e.name})]}),e.divider&&(0,l.jsx)(eo,{className:n})]})}iO.__docgenInfo={description:"",methods:[],displayName:"MStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:""},activeIndex:{required:!0,tsType:{name:"number"},description:""}}};let iU={budgetName:"",accountName:"",startingBalance:0,nextPayday:(0,n5.Z)(),ruleset:"",paydayAmount:0};function iB(e){let n=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().post("/links",e).then(e=>new G(null==e?void 0:e.data))}return(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData(["/links"],e=>(e??[]).concat(n)),e.setQueriesData([`/links/${n.linkId}`],n)])}).mutateAsync}(),t=function(){let e=(0,C.NL)();async function n(e){return(0,L.Z)().post("/bank_accounts",e).then(e=>new ee(null==e?void 0:e.data))}return(0,E.D)(n,{onSuccess:n=>Promise.all([e.setQueriesData(["/bank_accounts"],e=>(e??[]).concat(n)),e.setQueriesData([`/bank_accounts/${n.bankAccountId}`],n)])}).mutateAsync}(),a=nM(),s=(0,O.s0)(),[i,d]=(0,r.useState)(0),o=(0,r.useCallback)(()=>{d(e=>Math.min(e+1,3))},[d]),c=(0,r.useCallback)(()=>{d(e=>Math.max(e-1,0))},[d]),u=(0,r.useCallback)(e=>{let n={};return""===e.budgetName.trim()&&(n.budgetName="You must provide a name for your budget."),""===e.accountName.trim()&&(n.accountName="You must provide a name for your account."),!e.nextPayday&&(n.nextPayday="You must provide a date."),n},[]),m=(0,r.useCallback)(async(e,l)=>{if(i<3){o();return}return l.setSubmitting(!0),n({institutionName:e.budgetName,customInstitutionName:e.budgetName}).then(n=>t({linkId:n.linkId,name:e.accountName,availableBalance:K(e.startingBalance),currentBalance:K(e.startingBalance),accountType:"depository",accountSubType:"checking"})).then(n=>a(new nC({bankAccountId:n.bankAccountId,name:"Payday",nextRecurrence:(0,n3.Z)(e.nextPayday),ruleset:e.ruleset,estimatedDeposit:K(e.paydayAmount),excludeWeekends:!1}))).then(e=>s(`/bank/${e.bankAccountId}/transactions`)).catch(e=>{throw e})},[n,t,a,s,i,o]);return(0,l.jsxs)("div",{className:"w-full h-full flex justify-between items-center gap-8 flex-col p-4 md:p-2 overflow-auto",children:[(0,l.jsx)("div",{className:"p-0 md:p-8 w-full",children:(0,l.jsx)(iO,{steps:["Intro","Account","Balances","Income"],activeIndex:i})}),(0,l.jsxs)(tf,{initialValues:iU,validate:u,onSubmit:m,className:"flex flex-col md:justify-center items-center max-w-sm h-full",children:[(0,l.jsx)(aG,{className:"w-24 h-24"}),(0,l.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-2",children:[(0,l.jsx)(function(){switch(i){case 0:return(0,l.jsx)(iY,{});case 1:return(0,l.jsx)(iG,{});case 2:return(0,l.jsx)(iV,{});case 3:return(0,l.jsx)(iW,{});default:return null}},{}),(0,l.jsx)(function(){switch(i){case 0:return(0,l.jsx)(eF,{color:"primary",onClick:o,children:"Next"});case 3:return(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(eF,{color:"primary",onClick:c,children:"Back"}),(0,l.jsx)(eF,{color:"primary",type:"submit",children:"Finish"})]});default:return(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(eF,{color:"primary",onClick:c,children:"Back"}),(0,l.jsx)(eF,{color:"primary",onClick:o,children:"Next"})]})}},{})]}),(0,l.jsx)(function(){return e.alreadyOnboarded?null:(0,l.jsx)(iH,{})},{})]}),(0,l.jsx)("div",{className:"md:h-28"})]})}function iY(){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(eM,{size:"2xl",weight:"medium",children:"Welcome to monetr!"}),(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"Let's create a new budget to get started. What do you want to call this budget?"}),(0,l.jsx)(tD,{name:"budgetName",label:"Budget Name",className:"w-full",placeholder:"My Primary Bank",required:!0})]})}function iG(){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"What do you want to call the primary account you want to use for budgeting? For example; your checking account?"}),(0,l.jsx)(tD,{name:"accountName",label:"Account Name",className:"w-full",placeholder:"My Checking Account",required:!0})]})}function iV(){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"What is your current available balance? monetr will use this as a starting point, you can modify this at any time later on."}),(0,l.jsx)(te,{name:"startingBalance",label:"Starting Balance",className:"w-full",required:!0,allowNegative:!1})]})}function iW(){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(eM,{size:"lg",color:"subtle",className:"text-center",children:"How often do you get paid and how much do you get paid typically? monetr uses this to forecast balances based on the budgets you create."}),(0,l.jsx)(th,{name:"nextPayday",label:"When do you get paid next?",className:"w-full",required:!0,min:(0,n5.Z)()}),(0,l.jsx)(tL,{dateFrom:"nextPayday",menuPosition:"fixed",menuShouldScrollIntoView:!1,menuShouldBlockScroll:!0,menuPortalTarget:document.body,menuPlacement:"bottom",label:"How often do you get paid?",placeholder:"Select a funding frequency...",required:!0,className:"w-full text-start",name:"ruleset"}),(0,l.jsx)(te,{name:"paydayAmount",label:"How much do you usually get paid?",className:"w-full",required:!0,allowNegative:!1})]})}function iH(){return(0,l.jsxs)("div",{className:"flex justify-center gap-1 mt-4",children:[(0,l.jsx)(eM,{color:"subtle",size:"sm",children:"Not ready to continue?"}),(0,l.jsx)(aY,{to:"/logout",size:"sm",children:"Logout for now"})]})}function iQ(){return(0,l.jsx)("div",{className:"flex justify-center w-full mt-5 mb-5",children:(0,l.jsx)("img",{src:q,className:"w-1/3"})})}function i$(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=(0,O.s0)();return ie(()=>{(0,L.Z)().get("/billing/portal").then(e=>window.location.assign(e.data.url)).catch(t=>{var a,s;e((null==t?void 0:null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to navigate to billing portal.",{variant:"error",disableWindowBlurListener:!0}),n("/")})}),(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full max-h-full",children:(0,l.jsxs)("div",{className:"w-full p-10 xl:w-3/12 lg:w-5/12 md:w-2/3 sm:w-10/12 max-w-screen-sm sm:p-0",children:[(0,l.jsx)(iQ,{}),(0,l.jsx)("div",{className:"w-full pt-2.5 pb-2.5",children:(0,l.jsx)(aK.Z,{variant:"h5",className:"w-full text-center",children:"Loading the billing portal..."})}),(0,l.jsx)("div",{className:"w-full pt-2.5 pb-2.5 flex justify-center",children:(0,l.jsx)(aJ.Z,{})})]})})}function iK(e){let n=D(),{data:t,isLoading:a,isError:s}=an(e.transactionId);if(a)return(0,l.jsx)("li",{className:"group relative w-full px-1 md:px-2",children:(0,l.jsxs)("div",{className:"group animate-pulse flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-full dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Avatar"}),(0,l.jsxs)("div",{className:"flex min-w-0 grow flex-col overflow-hidden",children:[(0,l.jsx)("div",{className:"w-full rounded-xl h-4 my-1 dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Name"}),(0,l.jsx)("div",{className:"w-1/2 rounded-xl h-3 my-1 dark:bg-dark-monetr-background-subtle opacity-70","aria-label":"Transaction Date"})]})]}),(0,l.jsx)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:(0,l.jsx)("div",{className:"w-1/3 rounded-xl h-4 dark:bg-dark-monetr-background-subtle","aria-label":"Transaction Amount"})})]})});if(s)return null;let i=v({"dark:text-dark-monetr-green":t.getIsAddition(),"dark:text-dark-monetr-red":!t.getIsAddition()},"text-end","font-semibold"),r=`/bank/${t.bankAccountId}/transactions/${t.transactionId}/details`,d=(0,nF.Z)(t.date)?(0,nS.Z)(t.date,"MMMM do"):(0,nS.Z)(t.date,"MMMM do, yyyy");return(0,l.jsx)("li",{className:"group relative w-full px-1 md:px-2",children:(0,l.jsxs)("div",{className:"group flex h-full gap-1 rounded-lg px-2 py-1 group-hover:bg-zinc-600 md:gap-4",children:[(0,l.jsxs)("div",{className:"flex w-full min-w-0 flex-1 flex-row items-center gap-4 md:w-1/2",children:[(0,l.jsx)(ai,{name:t.getName(),pending:t.isPending}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-col overflow-hidden",children:[(0,l.jsx)("span",{className:"w-full min-w-0 truncate text-base font-semibold dark:text-dark-monetr-content-emphasis",children:t.getName()}),(0,l.jsx)("span",{className:"w-full min-w-0 truncate text-sm font-medium dark:text-dark-monetr-content",children:d})]})]}),(0,l.jsxs)("div",{className:"flex shrink-0 items-center justify-end gap-2 md:min-w-[8em]",children:[(0,l.jsx)("span",{className:i,children:t.getAmountString(n.account.locale)}),(0,l.jsx)(t6,{redirect:r})]})]})})}function iJ(e){var n,t;let{data:a,isLoading:s,isError:i}=(t=e.transaction,(0,k.a)([`/bank_accounts/${null==t?void 0:t.bankAccountId}/transactions/${null==t?void 0:t.transactionId}/similar`],{enabled:!!t,select:e=>new ae(e),retry:!1}));if(s||i||(null==a?void 0:null===(n=a.members)||void 0===n?void 0:n.length)===0)return null;let r=a.members.filter(n=>n!==e.transaction.transactionId).slice(0,Math.min(10,a.members.length)-1).map(e=>(0,l.jsx)(iK,{transactionId:e},e));return(0,l.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,l.jsx)(eM,{size:"xl",weight:"semibold",className:"pl-4",children:"Similar Transactions"}),(0,l.jsx)("ul",{className:"w-full flex gap-2 flex-col",children:r})]})}function iX(){let e=D(),{transactionId:n}=(0,O.UO)(),t=at(),a=n||null,{data:s,isLoading:i,isError:r}=an(a);if(i)return(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:(0,l.jsx)(eM,{className:"text-5xl",children:"One moment..."})});if(!a&&!i)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"There wasn't an expense specified..."})]});if((r||!s)&&!i)return(0,l.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-2",children:[(0,l.jsx)(nP.Z,{className:"dark:text-dark-monetr-content h-24 w-24"}),(0,l.jsx)(eM,{className:"text-5xl",children:"Something isn't right..."}),(0,l.jsx)(eM,{className:"text-2xl",children:"We weren't able to load details for the transaction specified..."})]});async function d(e,n){let a=new t9({...s,name:e.name,spendingId:e.spendingId});return n.setSubmitting(!0),t(a).finally(()=>n.setSubmitting(!1))}let o={name:s.name,originalName:s.originalName,date:s.date,spendingId:s.spendingId,isPending:s.isPending,amount:$(s.amount,e.account.locale,s.currency)};return(0,l.jsxs)(tf,{initialValues:o,enableReinitialize:!0,onSubmit:d,className:"flex w-full h-full flex-col",children:[(0,l.jsx)(nQ,{icon:ey.Z,title:"Transactions",base:`/bank/${s.bankAccountId}/transactions`,breadcrumb:null==s?void 0:s.name,children:(0,l.jsxs)(eF,{color:"primary",className:"gap-1 py-1 px-2",type:"submit",children:[(0,l.jsx)(a4.Z,{}),"Save Changes"]})}),(0,l.jsx)("div",{className:"w-full h-full overflow-y-auto min-w-0 p-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-8 items-center md:items-stretch",children:[(0,l.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"w-full flex justify-center mb-2",children:(0,l.jsx)(nV,{name:null==s?void 0:s.name})}),(0,l.jsx)(tD,{id:"transaction-name-search",label:"Name",placeholder:"Transaction name...",name:"name",className:"w-full"}),(0,l.jsx)(tD,{label:"Original Name",placeholder:"No original name...?",name:"originalName",className:"w-full",disabled:!0}),(0,l.jsx)(te,{className:"w-full",disabled:!0,label:"Amount",name:"amount"}),(0,l.jsx)(th,{label:"Date",name:"date",className:"w-full",disabled:!0}),(0,l.jsx)(sk,{id:"transaction-details-pending","data-testid":"transaction-details-pending",name:"isPending",label:"Is Pending",description:"Transaction has not yet cleared, the name or amount may change.",className:"w-full",disabled:!0}),!s.getIsAddition()&&(0,l.jsx)(ad,{className:"w-full",name:"spendingId"})]}),(0,l.jsx)("div",{className:"w-full md:w-1/2 flex flex-col items-center",children:(0,l.jsx)(iJ,{transaction:s})})]})})]})}function i0(){let e=(0,O.TH)(),n=(0,O.s0)();function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/login";window.alert(e),n(t)}let a=new URLSearchParams(e.search).get("token");return(0,r.useEffect)(()=>{if(!a){t("Email verification link is not valid.");return}(0,L.Z)().post("/authentication/verify",{token:a}).then(e=>{var n,a;return t((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"Your email has been verified, please login.",(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.nextUrl)||"/login")}).catch(e=>{var n,a,s,i;return t((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.error)||"Failed to verify email address.",null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.nextUrl)})},[a]),(0,l.jsx)(i1,{})}function i1(){return(0,l.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center gap-2 p-4",children:[(0,l.jsx)(aG,{className:"h-24 w-24"}),(0,l.jsx)(eM,{size:"2xl",weight:"bold",children:"Email Verification"}),(0,l.jsx)(eM,{size:"xl",className:"text-center",children:"Your email is being verified, one moment..."})]})}function i2(){let{enqueueSnackbar:e}=(0,F.Ds)(),n=_(),{state:t}=(0,O.TH)(),a={email:t&&t.emailAddress||void 0,captcha:null},[s,i]=(0,r.useState)(!1);async function d(n){return(0,L.Z)().post("/authentication/verify/resend",{email:n.email,captcha:n.captcha}).then(()=>i(!0)).catch(n=>{var t,a;e((null==n?void 0:null===(a=n.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to resend verification link",{variant:"error",disableWindowBlurListener:!0})})}async function o(e,n){return n.setSubmitting(!0),d(e).finally(()=>n.setSubmitting(!1))}return s?(0,l.jsx)(i4,{}):(0,l.jsx)(tf,{initialValues:a,onSubmit:o,validate:function(e){let n={};return e.email&&!sK(e.email)&&(n.email="Please provide a valid email address."),n},className:"w-full h-full flex flex-col justify-center items-center gap-2 p-4",children:(0,l.jsxs)("div",{className:"max-w-xs flex flex-col items-center gap-2",children:[(0,l.jsx)(aG,{className:"h-24 w-24"}),(0,l.jsx)(function(){return t?(0,l.jsx)(eM,{className:"text-center",size:"sm","data-testid":"resend-email-included",children:"It looks like your email address has not been verified. Do you want to resend the email verification link?"}):(0,l.jsx)(eM,{className:"text-center",size:"sm","data-testid":"resend-email-excluded",children:"If your email verification link has expired, or you never got one. You can enter your email address below and another verification link will be sent to you."})},{}),(0,l.jsx)(tD,{name:"email",autoComplete:"username",autoFocus:!0,label:"Email",className:"w-full","data-testid":"resend-email"}),(0,l.jsx)(sQ,{name:"captcha",show:!!(null==n?void 0:n.ReCAPTCHAKey),"data-testid":"resend-captcha"}),(0,l.jsx)(eF,{type:"submit",color:"primary",className:"w-full",children:"Resend Verification"}),(0,l.jsxs)("div",{className:"mt-1 flex justify-center gap-1",children:[(0,l.jsx)(eM,{color:"subtle",className:"text-sm",children:"Don't need to resend?"}),(0,l.jsx)(aY,{to:"/login",size:"sm","data-testid":"login-signup",children:"Return to login"})]})]})})}function i4(){return(0,l.jsx)("div",{className:"h-full w-full flex flex-col items-center justify-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 max-w-xs items-center",children:[(0,l.jsx)(aG,{className:"h-24 w-24"}),(0,l.jsx)(eM,{className:"text-center",size:"lg",children:"A new verification link was sent to your email address..."}),(0,l.jsx)("div",{className:"mt-1 flex justify-center gap-1",children:(0,l.jsx)(aY,{to:"/login",size:"sm","data-testid":"login-signup",children:"Return to login"})})]})})}iB.__docgenInfo={description:"",methods:[],displayName:"SetupManual",props:{alreadyOnboarded:{required:!1,tsType:{name:"boolean"},description:""}}},iQ.__docgenInfo={description:"",methods:[],displayName:"CenteredLogo"},i$.__docgenInfo={description:"",methods:[],displayName:"SubscriptionPage"},iK.__docgenInfo={description:"",methods:[],displayName:"SimilarTransactionItem",props:{transactionId:{required:!0,tsType:{name:"string"},description:""}}},iJ.__docgenInfo={description:"",methods:[],displayName:"SimilarTransactions",props:{transaction:{required:!0,tsType:{name:"Transaction"},description:""}}},iX.__docgenInfo={description:"",methods:[],displayName:"TransactionDetails"},i0.__docgenInfo={description:"",methods:[],displayName:"VerifyEmail"},i1.__docgenInfo={description:"",methods:[],displayName:"VerifyEmailView"},i2.__docgenInfo={description:"",methods:[],displayName:"ResendVerificationPage"},i4.__docgenInfo={description:"",methods:[],displayName:"AfterEmailVerificationSent"};let i5=aq.H0(O.Z5);function i3(){let{result:e,isLoading:n,isError:t}=T(),{isLoading:a,result:{user:s,isActive:i,mfaPending:r}}=Z(),{isLoading:d,data:o}=V();return n||a||d&&i&&!r?(0,l.jsx)(aQ,{}):t?(0,l.jsx)(a1,{}):s?r?(0,l.jsxs)(i5,{children:[(0,l.jsx)(O.AW,{path:"/login/multifactor",element:(0,l.jsx)(s8,{})}),(0,l.jsx)(O.AW,{path:"/logout",element:(0,l.jsx)(it,{})}),(0,l.jsx)(O.AW,{path:"*",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/login/multifactor"})})]}):i?(null==o?void 0:o.length)>0?(0,l.jsxs)("div",{className:"max-w-screen max-h-screen h-full w-full bg-background flex",children:[(0,l.jsx)(ex,{className:"hidden lg:flex"}),(0,l.jsx)(az,{}),(0,l.jsx)("div",{className:"w-full h-full flex min-w-0 overflow-y-auto",children:(0,l.jsxs)(i5,{children:[(0,l.jsxs)(O.AW,{path:"/bank/:bankAccountId",element:(0,l.jsx)(i6,{}),children:[(0,l.jsx)(O.AW,{path:"transactions",element:(0,l.jsx)(aL,{})}),(0,l.jsx)(O.AW,{path:"transactions/:transactionId/details",element:(0,l.jsx)(iX,{})}),(0,l.jsx)(O.AW,{path:"expenses",element:(0,l.jsx)(tH,{})}),(0,l.jsx)(O.AW,{path:"expenses/:spendingId/details",element:(0,l.jsx)(so,{})}),(0,l.jsx)(O.AW,{path:"goals",element:(0,l.jsx)(sL,{})}),(0,l.jsx)(O.AW,{path:"goals/:spendingId/details",element:(0,l.jsx)(sP,{})}),(0,l.jsx)(O.AW,{path:"funding",element:(0,l.jsx)(sg,{})}),(0,l.jsx)(O.AW,{path:"funding/:fundingId/details",element:(0,l.jsx)(sA,{})})]}),(0,l.jsxs)(O.AW,{path:"/settings",element:(0,l.jsx)(aF,{}),children:[(0,l.jsx)(O.AW,{path:"",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/settings/overview"})}),(0,l.jsx)(O.AW,{path:"overview",element:(0,l.jsx)(ik,{})}),(0,l.jsx)(O.AW,{path:"security",element:(0,l.jsx)(iz,{})}),(null==e?void 0:e.billingEnabled)&&(0,l.jsx)(O.AW,{path:"billing",element:(0,l.jsx)(iw,{})}),(0,l.jsx)(O.AW,{path:"about",element:(0,l.jsx)(ih,{})})]}),(0,l.jsx)(O.AW,{path:"/link/create",element:(0,l.jsx)(sW,{})}),(0,l.jsx)(O.AW,{path:"/link/create/plaid",element:(0,l.jsx)(aH,{alreadyOnboarded:!0})}),(0,l.jsx)(O.AW,{path:"/link/create/manual",element:(0,l.jsx)(iB,{alreadyOnboarded:!0})}),(0,l.jsx)(O.AW,{path:"/logout",element:(0,l.jsx)(it,{})}),(0,l.jsx)(O.AW,{path:"/plaid/oauth-return",element:(0,l.jsx)(iu,{})}),(0,l.jsx)(O.AW,{path:"/subscription",element:(0,l.jsx)(i$,{})}),(0,l.jsx)(O.AW,{path:"/account/subscribe",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{path:"/account/subscribe/after",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{path:"/setup",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{path:"/password/reset",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{path:"/login",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{path:"/login/multifactor",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/"})}),(0,l.jsx)(O.AW,{index:!0,path:"/",element:(0,l.jsx)(i7,{})})]})})]}):(0,l.jsxs)(i5,{children:[(0,l.jsx)(O.AW,{path:"/logout",element:(0,l.jsx)(it,{})}),(0,l.jsx)(O.AW,{path:"/setup",element:(0,l.jsx)(sY,{manualEnabled:null==e?void 0:e.manualEnabled})}),(0,l.jsx)(O.AW,{path:"/setup/plaid",element:(0,l.jsx)(aH,{alreadyOnboarded:!0})}),(0,l.jsx)(O.AW,{path:"/setup/manual",element:(0,l.jsx)(iB,{})}),(0,l.jsx)(O.AW,{path:"/plaid/oauth-return",element:(0,l.jsx)(iu,{})}),(0,l.jsx)(O.AW,{path:"/account/subscribe/after",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/setup"})}),(0,l.jsx)(O.AW,{index:!0,path:"*",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/setup"})})]}):(0,l.jsxs)(i5,{children:[(0,l.jsx)(O.AW,{path:"/logout",element:(0,l.jsx)(it,{})}),(0,l.jsx)(O.AW,{path:"/account/subscribe",element:(0,l.jsx)(a$,{})}),(0,l.jsx)(O.AW,{path:"/account/subscribe/after",element:(0,l.jsx)(aX,{})}),(0,l.jsx)(O.AW,{path:"*",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/account/subscribe"})})]}):(0,l.jsxs)(i5,{children:[(0,l.jsx)(O.AW,{path:"/login",element:(0,l.jsx)(s0,{})}),(0,l.jsx)(O.AW,{path:"/logout",element:(0,l.jsx)(it,{})}),(null==e?void 0:e.allowSignUp)&&(0,l.jsx)(O.AW,{path:"/register",element:(0,l.jsx)(ix,{})}),(null==e?void 0:e.allowForgotPassword)&&(0,l.jsx)(O.AW,{path:"/password/forgot",element:(0,l.jsx)(ii,{})}),(0,l.jsx)(O.AW,{path:"/password/reset",element:(0,l.jsx)(ir,{})}),(0,l.jsx)(O.AW,{path:"/verify/email",element:(0,l.jsx)(i0,{})}),(0,l.jsx)(O.AW,{path:"/verify/email/resend",element:(0,l.jsx)(i2,{})}),(0,l.jsx)(O.AW,{path:"/",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/login"})}),(0,l.jsx)(O.AW,{path:"*",element:(0,l.jsx)(O.Fg,{replace:!0,to:"/login"})})]})}function i6(){return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(nL,{className:"hidden lg:flex"}),(0,l.jsx)("div",{className:"w-full h-full min-w-0 flex flex-col",children:(0,l.jsx)(O.j3,{})})]})}function i7(){let{data:e,isLoading:n}=V(),{data:t,isLoading:a}=en();if(n||a||0===e.length)return null;let s=e.sort((e,n)=>{let t=e.getName().toUpperCase(),a=n.getName().toUpperCase();return t<a?-1:t>a?1:0})[0],i=er(Array.from(t.values()).filter(e=>e.linkId===s.linkId));if(0===i.length)return null;let r=i[0];return(0,l.jsx)(O.Fg,{replace:!0,to:`/bank/${r.bankAccountId}/transactions`})}i3.__docgenInfo={description:"",methods:[],displayName:"Monetr"};let i8={title:"New UI",component:aD},i9={name:"Transactions",decorators:[(e,n)=>{let t=new(o())(aP.Z);return t.onGet("/api/config").reply(200,{requireLegalName:!0,requirePhoneNumber:!0,verifyLogin:!1,verifyRegister:!1,verifyEmailAddress:!0,verifyForgotPassword:!1,allowSignUp:!0,allowForgotPassword:!0,longPollPlaidSetup:!0,requireBetaCode:!0,initialPlan:{price:199},billingEnabled:!0,iconsEnabled:!0,plaidEnabled:!0,manualEnabled:!1,release:"0.17.16",revision:"8df5505b7e5273f061d90ddf19e4c1cfca2b4f4f",buildType:"binary",buildTime:"2024-08-28T02:42:56Z"}),t.onGet("/api/users/me").reply(200,{activeUntil:"2024-09-26T00:31:38Z",hasSubscription:!0,isActive:!0,isSetup:!0,isTrialing:!1,trialingUntil:null,user:{userId:"user_01hym36e8ewaq0hxssb1m3k4ha",loginId:"lgn_01hym36d96ze86vz5g7883vcwg",login:{loginId:"lgn_01hym36d96ze86vz5g7883vcwg",email:"me@elliotcourant.dev",firstName:"Elliot",lastName:"Courant",passwordResetAt:null,isEmailVerified:!0,emailVerifiedAt:"2022-09-25T00:24:25.976514Z",totpEnabledAt:null},accountId:"acct_01hk84dchvxvjgp7cgap818c82",account:{accountId:"acct_01hk84dchvxvjgp7cgap818c82",timezone:"America/Chicago",locale:"en_US",subscriptionActiveUntil:"2024-09-26T00:31:38Z",subscriptionStatus:"active",trialEndsAt:null,createdAt:"2024-01-03T17:02:23.290914Z"}}}),t.onGet("/api/links").reply(200,[{linkId:"link_01gds6eqsqacg48p0azb3wcpsq",linkType:1,plaidLink:{products:["transactions"],status:2,expirationDate:null,newAccountsAvailable:!1,institutionId:"ins_116794",institutionName:"Mercury",lastManualSync:"2024-07-06T12:59:09.51222Z",lastSuccessfulUpdate:"2024-08-29T12:00:01.176597Z",lastAttemptedUpdate:"2024-08-29T12:00:01.17665Z",updatedAt:"2024-03-19T06:17:32.335106Z",createdAt:"2022-09-25T02:08:40.758642Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha"},institutionName:"Mercury",description:null,createdAt:"2022-09-25T02:08:40.758642Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha",updatedAt:"2024-03-19T06:17:32.335106Z",deletedAt:null}]),t.onGet("/api/institutions/ins_116794").reply(200,{institutionId:"ins_116794",name:"Mercury",products:["assets","auth","balance","transactions","identity"],countryCodes:["US"],url:"https://mercury.com/",primaryColor:"#5e6cd4",logo:"iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAAAdVBMVEVHcEz///////////////////////////////////////////////8AAAD///9ra2v19fX9/f0jIyMVFRUyMjLs7OysrKwMDAy3t7c9PT3R0dGLi4uhoaF/f39OTk7Dw8OVlZVHR0fj4+Pb29tVVVXLy8tcXFzoRFGvAAAADXRSTlMAQoGXwesjpdoUaS9X3qEOLQAACyRJREFUeNrNXOmCsjoM/cZl1JmBUvZVQMD3f8TbBdqA0KKgF345I0JITk6Wpvz7t/C4/P7tTqfD4Xw+Ynw8nw+H02n393v59z8e3z/7w9mcOM6H/c/3/yLU6Whqj+Pps8J97c/m7OO8//qQrnZPSNXKtnu73i4/B/Ol4/DzTnf43mPz5QPv36W279MCsZhop3eI9nsyVzhOv2tjaxWxmGirYu3naK52HH/Wo62zuepx/lrLithc+VjDnl9H8w3HcbHSduabjt0yMx7Mtx2Hy9bMuNycO/PNx4vm3JtvP/avyHUyP3CcNgX7JS5wOX9GLhOfL5uUiwaoyzblekqywyflMvFhU/74gm/uzY8f+03w/Ysx4Ovpi1pNmtWRazuG4dhudM/S2Hr6Itq4eXkubnshco2Rw0Xhc8IdLys6pFVEQpKA6Kq+ujYQLkqfke2wFsBwWPP7O3USVkKEm3+VogX3cCWYzQYYTrlu3KRif8Kq4IboN3duYtfHK8BsLsBaseysGv8+JkI5TZXxs1K8GGYzmTVnyrg2CvTdiR1j02yYXd1mIc/OM6R3Z2LF6rOIOW0KvJiJhrxFxpwVun1nhljE2sQ1ELcrFc2Z5QXniT7AHHRRYDv+jBMtArAGPEs2B2k/ryL/RtF1H9rFygtUUuZ3IiRVGRpGCa0f3V7E/wzkN86jupos6nF+LcSOhMq40pz4Jfz/6n8VBsTDes99SwDVB+WV/mXfpMpQT9dBrr/H7wsKS8ldSxhl4roLjFSekIIot1tvpIdj2MDeJTnJf15l37PkQgDBnAgC5FuUGzqJ6f2z9gyCrHzgN3rJvp9VWGjIO1IBMsbqhUUdMDCcDlnYC4yg/aOgPwEqpj/Jn1TZt86Zm6AnV86wReIg5rpM5FeJ0EvMZM97kgU6D8DfT6XTlQORbCEOLk+wPLh7JZ7A42chC8YDR8cavTT7olEYJj5VinM8ShCIQAwLLAGDWYTp2l+REEEfIRIMggkCI929Lk+QPrm8K1Mum4UYBDUGONeDGkNm6AAGMS23hwgt/WvyVh9agLIs1QEBTCVA7vdOLqBRqX4dwbQ38utwdi6r4QrPAXemXnClvliIOxCQuxhavRKOTEW0iNGDBj6kN5cxNAn1XaCGPzFns1waJQL2IYqs5ce8YzCp8Tt0I02Src53cvCMni0uiwMjMiUvcN+j/ioYITICLLMzD+i/mZf9fGk9skOFRXRz7axWCpuxqOCgtEA0wQklb3TpBSbWjCxpTBfPShj36vyeyAK8U1yf3kDYxA9ELLd9S5wskEmfSJxMpExnUZnSkpgYLx4xKvsmuMnSyJFpRk2VVgWGjXsOlEvL23iGLb91sbtTGE1KoasX0lZUzjhMi6zmeVDUUEsXsAwFacdVF82/9ewKFZYN/ImirxicTnRXsCLKHSIJSdel/DKDY0+apOIqDWmUKCtycb94IpGJS6Y2Ea9xXmQ0hIn/XDUsy1MMZa5ft77dIBukqm157RtTKRbLPvg32C+FZ3TP2ABmHM39dRDDJCLTLLQpB90cu8CtXP3ssZ+A+DRAwD6LUBnxG0sHMiXECgoMnuXY97TysFeFvPpwYypXktCPo2ah3/gxw1uUhfSnfi8opDqQKVmMyFDF9JmvOQB4hVrjkPwwpzQR+d64ZCz5rtqfUUe6CfKNdEymyiws2ngI+mkop62ylYt85H2nCCUpaEcJycpbT/9dquv2crjRDOOs6oERkBKN3Eeu4Uru6Kol3pfyeoIVPcQGom5K1H5JKPaiSRAn0J0DvjS9nm90HZT80WWRiN+VJse4qAtdBl00AT5hXgazoM7SNKsp+Jy8S5D8x4wzE0Wnqy58/9QQm8jRQWOCsYbd9VuttGOw68gjWRLztRpkf8oksaGCVaBFnd2zomovCyI7LIQ4ueT9tNasEnRHqQcwn6izsp0yIKWwyLWyliPq2CQodkHakDzwhOPVAN1tiDKCRFZ6oZrJTkrBMlk7stqoC0mhLDgontFIE60ERJWCxsugUlEIdlAHyjvIqYOksjyfOoRkSg96pwnyI4l8nzWvPatKAuBLWB0uD0rBInl1ImPJlYd510KaLR3HQKtr2szo2omMVkrhlpFSsLOaLTyZdFqQ3Wpxylg0JhgUt4W2pqp0xS9dJcOqBLOFYmB7AluOwIclRRyCoDOZYziWTMykriPYPRsRTJWNSW33r4K0EM6Eq8Z957ANRxRZjjIjU1UFUh2OrJR4ME7VTp9OnUFo9+HTaJieKZjREywVHJVOCzZ+xhVoTC2Y2pTlWDuVmpLzPk6mTSk7Ln1TRgL8alOqwe+KT6A3R8DvyNp/CvyWEFGCn8YvNPqsz3mlK37rDugCSaaboAtXiijOZsslbYy9GRq6UBNsIAEBCbZr/7Jm5jjBJlLXPYKt5SnRy8wvDYJ4DO5CEow2EyHJE4qxYUgSTZ/rBAiEYJogXj3EYaijiEVrNJL4Isksfgg6Ll0FcDN0QVyT9viCsVHSXr+MQbpYT6U9MGR1RUGQ9cKaOu3RJIpIlkuml5JsL6l6vYt4KlEUvM8MVhUkxwQ1HlsCUCeKf+o6XMakx0wYcdqdSK07pxkrhixWTKhTa00x0jUrs9HKgndWx4uRlraiCa8ydMWIrnyLh1aFNUgrgYega5Qe9M4Re+G2KlSXb0qGDSEf9Zm06FWz7SiDKArkusWIHQlTOHdtwasiMmzJKye9qhq0CLqGnRfnYZpdmeteb6MtAv6wDm37z2gRaJsqkim7TAQ2VQb9RNMKyxZmg6ZKKxZtFdnxnKaKvg0lAOs/tqFGu3b0hOKxDRUXd6ddjssemqSPbShlb9iSqXA82rhDYwbh9cpY447atuERVNu4m9fq5NGt3+rEvjHSoWImBU1Q2Oo0bNS0Pq4KlPj4VHOYquz60ByGIWpAJo/N4fyp5vCidjpvnRe3sX4ibKfjQTtdvQLxs8ICRM7nQew6K9IwlrfDUR/fgwWIdMYCxNIlm7CWGHKQ0F0F1YJfWbLRrNTPWOSyfNBx8cHJCxe5lMuCmCLJB9cfWxYMmbKKlK10pVIxC5cFly+kBnAhVVjenVxIVY+FnFdber7SjzI/iiTNji8939X32y1arDflYn01XKyPhYEXLtZ/eLxBM3l0WG0gJBsOhCDw6XEgRDND0BsIeXGExhKosXo5nHKExn1mhEY7dHQbHTqqhuVnvz2xwtDRi2NaoUBVf0wrNUXy8TCmpRvWHYxpvTbY1g0XyVk25sKsOLB4IjYcbNPOw54WjwKC0iwTo4DYYi0Dy+fJNxzkxbri+4ErXh2elFkoTTuYyXBI1dTtPahhosaGJ/VynVYYN5UtYr5sYl9BqmrYSX8wlY6bzphr/l1hQLcB2YtX9/L6KBtgnA3ozhhSP60y0ixnUYh8MYocupmlREU+rDPYSLP76kjzE0PgoVBZMONujPzHhyBUpL9kbL4XqaYOPjbvz7n2ea2NBtQbS6wX63GgXZMgLt6aQTPESHHTdmtGPu+6pxU3s1A/tSdYYMXNLC9s/5naQFIlnGVni6XZZfbChikuYCFKSlyFSd2O39Xh/NcY7N6zxYxvMosiV04ERsWKW8ye3ZRnfWxT3pPbGFmrrr+Nsc7SxhrsOlsIsBc3fuJZ/1oEsG1vld3u5uJPb8c2Z2/H3u4G9s1u+f+kZOdnX9+w0ddKbPdFHBt+dcl2X/ay3dfjbPeFQtt9BdOGX1q15svaAEus89q2jb4YbcOvkmOvKtyYFTf/usINv+Bxw6/E3PBLRDnYNvna1S2/qHbLr/YVwm3wZcjSHd70+uj/AGgmIsLJi31VAAAAAElFTkSuQmCC",status:{auth:{breakdown:{error_institution:0,error_plaid:0,success:1},last_status_change:"2023-06-25T13:10:18Z",status:"HEALTHY"},item_logins:{breakdown:{error_institution:0,error_plaid:.014,success:.986},last_status_change:"2023-06-28T20:15:18Z",status:"DEGRADED"},transactions_updates:{breakdown:{error_institution:0,error_plaid:0,refresh_interval:"NORMAL",success:1},last_status_change:"2023-06-14T17:05:18Z",status:"HEALTHY"}}}),t.onGet("/api/bank_accounts").reply(200,[{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",linkId:"link_01gds6eqsqacg48p0azb3wcpsq",availableBalance:47986,currentBalance:47986,mask:"2982",name:"Mercury Checking",originalName:"Mercury Checking",accountType:"depository",accountSubType:"checking",status:"active",lastUpdated:"2024-08-27T08:53:48.555368Z",createdAt:"2022-09-25T02:08:40.758642Z",updatedAt:"2024-03-19T06:17:32.335106Z"}]),t.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb").reply(200,{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",linkId:"link_01gds6eqsqacg48p0azb3wcpsq",plaidBankAccount:{name:"Mercury Checking",officialName:"Mercury Checking",mask:"2982",availableBalance:47986,currentBalance:47986,limitBalance:null,createdAt:"2024-03-19T15:15:10.31132Z",createdBy:"user_01hym36e8ewaq0hxssb1m3k4ha"},availableBalance:47986,currentBalance:47986,mask:"2982",name:"Mercury Checking",originalName:"Mercury Checking",accountType:"depository",accountSubType:"checking",status:"active",lastUpdated:"2024-08-27T08:53:48.555368Z",createdAt:"2022-09-25T02:08:40.758642Z",updatedAt:"2024-03-19T06:17:32.335106Z"}),t.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/funding_schedules").reply(200,[{fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",name:"Elliot's Contribution",description:"15th and last day of every month",ruleset:"DTSTART:20230228T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1",excludeWeekends:!0,waitForDeposit:!1,estimatedDeposit:22e3,lastRecurrence:"2024-08-15T05:00:00Z",nextRecurrence:"2024-08-30T05:00:00Z",nextRecurrenceOriginal:"2024-08-31T05:00:00Z"}]),t.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/balances").reply(200,{bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",current:47986,available:47986,free:7724,expenses:30262,goals:1e4}),t.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/spending").reply(200,[{spendingId:"spnd_01h264znvxkghmxp5s0wmdbr9j",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"GitLab",description:"Every year on the 16th of June",targetAmount:34800,currentAmount:5800,usedAmount:0,ruleset:"DTSTART:20230606T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=16",lastSpentFrom:null,lastRecurrence:"2024-06-16T05:00:00Z",nextRecurrence:"2025-06-16T05:00:00Z",nextContributionAmount:1450,isBehind:!1,isPaused:!1,createdAt:"2023-06-05T16:07:02.780623Z"},{spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Freshbooks",targetAmount:1900,currentAmount:950,usedAmount:0,ruleset:"DTSTART:20230310T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10",lastSpentFrom:null,lastRecurrence:"2024-08-10T06:00:00Z",nextRecurrence:"2024-09-10T06:00:00Z",nextContributionAmount:950,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:40:46Z"},{spendingId:"spnd_01gk23r0mgcekdf8bzkvf55f26",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:1,name:"Rainy Day",targetAmount:100,currentAmount:17724,usedAmount:58900,ruleset:null,lastSpentFrom:null,lastRecurrence:"2023-12-31T06:00:00Z",nextRecurrence:"2023-12-31T06:00:00Z",nextContributionAmount:0,isBehind:!1,isPaused:!1,createdAt:"2022-11-29T16:32:58Z"},{spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google Voice",targetAmount:1292,currentAmount:646,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:646,isBehind:!1,isPaused:!1,createdAt:"2022-11-02T14:11:24Z"},{spendingId:"spnd_01g6ngke5g9mgrn9kt7pjdcqr8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"ngrok",description:"Every year on the 26th of June",targetAmount:6e3,currentAmount:780,usedAmount:0,ruleset:"DTSTART:20230625T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=26",lastSpentFrom:null,lastRecurrence:"2024-06-26T05:00:00Z",nextRecurrence:"2025-06-26T05:00:00Z",nextContributionAmount:261,isBehind:!1,isPaused:!1,createdAt:"2022-06-28T15:59:10Z"},{spendingId:"spnd_01h0jgggcdng3ztx90zwh6nb6f",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Domains",description:"Every year on the 1st of April",targetAmount:14e3,currentAmount:2331,usedAmount:0,ruleset:"DTSTART:20240401T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=4;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-04-01T05:00:00Z",nextRecurrence:"2025-04-01T05:00:00Z",nextContributionAmount:777,isBehind:!1,isPaused:!1,createdAt:"2023-05-16T14:47:58.09301Z"},{spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Plaid",description:"Every month on the 10th",targetAmount:500,currentAmount:365,usedAmount:0,ruleset:"DTSTART:20230610T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10",lastSpentFrom:null,lastRecurrence:"2024-08-10T05:00:00Z",nextRecurrence:"2024-09-10T05:00:00Z",nextContributionAmount:135,isBehind:!1,isPaused:!1,createdAt:"2023-05-14T20:01:47.09268Z"},{spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google G-Suite",targetAmount:1440,currentAmount:720,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:720,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:41:18Z"},{spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Google Cloud Production",targetAmount:25e3,currentAmount:12588,usedAmount:0,ruleset:"DTSTART:20230301T060000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1",lastSpentFrom:null,lastRecurrence:"2024-08-01T06:00:00Z",nextRecurrence:"2024-09-01T06:00:00Z",nextContributionAmount:12412,isBehind:!1,isPaused:!1,createdAt:"2022-11-07T15:09:16Z"},{spendingId:"spnd_01hcjv04tytz5xatf3dhers5kg",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"P.O. Box",description:"Every year on the 13th of October",targetAmount:7e3,currentAmount:6082,usedAmount:0,ruleset:"DTSTART:20231013T050000Z\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=10;BYMONTHDAY=13",lastSpentFrom:null,lastRecurrence:"2023-10-13T05:00:00Z",nextRecurrence:"2024-10-13T05:00:00Z",nextContributionAmount:306,isBehind:!1,isPaused:!1,createdAt:"2023-10-12T20:59:38.206294Z"},{spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"GitHub",targetAmount:800,currentAmount:0,usedAmount:0,ruleset:"DTSTART:20230319T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=19",lastSpentFrom:null,lastRecurrence:"2024-08-19T05:00:00Z",nextRecurrence:"2024-09-19T05:00:00Z",nextContributionAmount:400,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:43:04Z"},{spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",fundingScheduleId:"fund_01hym37k3kj4ghv67nfx7vkvr0",spendingType:0,name:"Sentry",targetAmount:3446,currentAmount:0,usedAmount:0,ruleset:"DTSTART:20230325T050000Z\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=25",lastSpentFrom:null,lastRecurrence:"2024-08-25T05:00:00Z",nextRecurrence:"2024-09-25T05:00:00Z",nextContributionAmount:1723,isBehind:!1,isPaused:!1,createdAt:"2021-12-14T16:42:41Z"}]),t.onGet("/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions").reply(200,[{transactionId:"txn_01j68vszqeq30t7jz7atk9yd9r",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:3446,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-08-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-27T02:49:28.059Z",deletedAt:null},{transactionId:"txn_01j5m4enxf50k3d2h2c9dtst4z",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:803,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-19T01:36:31.663Z",deletedAt:null},{transactionId:"txn_01j59tnczpyqwq7sxw4gzbmkvx",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:270,spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",spendingAmount:270,categories:["Service","Business Services"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-16T05:00:00Z",name:"Plaid",originalName:"Plaid",merchantName:"Plaid Technologies Inc.",originalMerchantName:"Plaid Technologies Inc.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-15T01:33:01.814Z",deletedAt:null},{transactionId:"txn_01j5b3p0waxq4894dgteb58s6e",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-08-15T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-15T13:29:53.802Z",deletedAt:null},{transactionId:"txn_01j4vn659athnneb4jd6yf2twa",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1900,spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",spendingAmount:1900,categories:["Service","Financial","Accounting and Bookkeeping"],category:"GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING",date:"2024-08-10T05:00:00Z",name:"FreshBooks",originalName:"FRESHBOOKS. Merchant name: Freshbooks",merchantName:"FreshBooks",originalMerchantName:"FreshBooks",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-09T13:27:57.482Z",deletedAt:null},{transactionId:"txn_01j47xct43472gtrv6dkp8s9s8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1440,spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",spendingAmount:1440,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-08-02T05:00:00Z",name:"Gsuite Monetr.a.",originalName:"GSUITE MONETR.A. Merchant name: Gsuite",merchantName:"Gsuite Monetr.a.",originalMerchantName:"Gsuite Monetr.a.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j47xct4230fpdj4gt8trf021",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:24824,spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",spendingAmount:24824,categories:["Shops","Digital Purchase"],category:"GENERAL_MERCHANDISE_OTHER_GENERAL_MERCHANDISE",date:"2024-08-02T05:00:00Z",name:"Cloud",originalName:"Google CLOUD 2xHT9W. Merchant name: Google Cloud",merchantName:"Cloud",originalMerchantName:"Cloud",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j47xct40x2vwfhst88k4j9zs",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1294,spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",spendingAmount:1292,categories:["Shops","Digital Purchase"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-08-02T05:00:00Z",name:"Svcsmonetr.app.",originalName:"SVCSMONETR.APP. Merchant name: Google",merchantName:"Svcsmonetr.app.",originalMerchantName:"Svcsmonetr.app.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-08-01T21:26:35.396Z",deletedAt:null},{transactionId:"txn_01j45asp0shxbda8abgmqsa6mz",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-07-31T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-31T21:23:05.369Z",deletedAt:null},{transactionId:"txn_01j3s2r562navpr3y1y27rn95j",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:3914,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-07-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-27T03:11:33.57Z",deletedAt:null},{transactionId:"txn_01j33sp41a5b2s3nnkddjw1grc",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:800,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-18T20:49:06.602Z",deletedAt:null},{transactionId:"txn_01j2r4mbwb1d56d5be9h5y6jxq",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:210,spendingId:"spnd_01h0dxnp2nm9q90pdqemp1z5m1",spendingAmount:210,categories:["Service","Business Services"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-16T05:00:00Z",name:"Plaid",originalName:"Plaid",merchantName:"Plaid Technologies Inc.",originalMerchantName:"Plaid Technologies Inc.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-14T08:09:30.251Z",deletedAt:null},{transactionId:"txn_01j2vc5pkhbmjp7kmj7ede9vbe",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-07-15T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-15T14:19:01.617Z",deletedAt:null},{transactionId:"txn_01j2bt5rjem60dgvf6ymm8zrvw",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1900,spendingId:"spnd_01fpwx2qng9gbt32kdh2mdk7df",spendingAmount:1900,categories:["Service","Financial","Accounting and Bookkeeping"],category:"GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING",date:"2024-07-10T05:00:00Z",name:"FreshBooks",originalName:"FRESHBOOKS. Merchant name: Freshbooks",merchantName:"FreshBooks",originalMerchantName:"FreshBooks",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-09T13:15:52.782Z",deletedAt:null},{transactionId:"txn_01j27xtf159hx1j8ajzev4whtb",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:4e3,spendingId:"spnd_01h0jgggcdng3ztx90zwh6nb6f",spendingAmount:3040,categories:["Transfer","Debit"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-07-08T05:00:00Z",name:"Square Space Domains",originalName:"SQSP* INV140023242. Merchant name: Sqsp",merchantName:"INV",originalMerchantName:"INV",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-08T01:02:39.141Z",deletedAt:null},{transactionId:"txn_01j1tzj5snpm0c2zx47f1bma2d",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:6e3,spendingId:"spnd_01g6ngke5g9mgrn9kt7pjdcqr8",spendingAmount:6e3,categories:["Transfer","Debit"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-07-03T05:00:00Z",name:"Ngrok",originalName:"NGROK 6RWWW7NJFQD-0004. Merchant name: Ngrok 6rwww7njfqd 0004",merchantName:"Ngrok",originalMerchantName:"Ngrok",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-03T00:22:57.078Z",deletedAt:null},{transactionId:"txn_01j1qqt56ngf8paqzp4k8vwnvq",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:20775,spendingId:"spnd_01gh9a6yb0weejnxk5y0e66s7s",spendingAmount:20775,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-02T05:00:00Z",name:"Cloud Vb",originalName:"Google CLOUD vB57xH. Merchant name: Google Cloud",merchantName:"Cloud Vb",originalMerchantName:"Cloud Vb",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T18:09:46.709Z",deletedAt:null},{transactionId:"txn_01j1qqt56k7ytp6ynqz7q82yzn",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1287,spendingId:"spnd_01ggwaxcq0y6eazf56a4sq3f02",spendingAmount:1287,categories:["Shops","Digital Purchase"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-07-02T05:00:00Z",name:"Svcsmonetr.app.",originalName:"SVCSMONETR.APP. Merchant name: Google",merchantName:"Svcsmonetr.app.",originalMerchantName:"Svcsmonetr.app.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T18:09:46.709Z",deletedAt:null},{transactionId:"txn_01j1q2sqwwbmvecxd50t453x40",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:1440,spendingId:"spnd_01fpwx3pxg6yaspkx0wn3fptkf",spendingAmount:1440,categories:["Shops","Digital Purchase"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-07-02T05:00:00Z",name:"Gsuite Monetr.a.",originalName:"GSUITE MONETR.A. Merchant name: Gsuite",merchantName:"Gsuite Monetr.a.",originalMerchantName:"Gsuite Monetr.a.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-07-01T12:02:32.988Z",deletedAt:null},{transactionId:"txn_01j1fzxja9mcy0tj6wb62b5n0p",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-22e3,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-06-28T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-28T17:57:31.593Z",deletedAt:null},{transactionId:"txn_01j1e1d9p7qb41prh6jne7dtw7",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:34800,spendingId:"spnd_01h264znvxkghmxp5s0wmdbr9j",spendingAmount:34800,categories:["Service"],category:"TRANSFER_OUT_ACCOUNT_TRANSFER",date:"2024-06-28T05:00:00Z",name:"Gitlab Inc..",originalName:"GITLAB INC.. Merchant name: Gitlab",merchantName:"Gitlab Inc..",originalMerchantName:"Gitlab Inc..",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-27T23:45:06.759Z",deletedAt:null},{transactionId:"txn_01j1c2cq8dwdpjyvs8fxpkeh5q",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:2900,spendingId:"spnd_01fpwx67z8djhb8bqcy17mrzfe",spendingAmount:2900,categories:["Shops","Digital Purchase"],category:"FOOD_AND_DRINK_GROCERIES",date:"2024-06-27T05:00:00Z",name:"Sentry.",originalName:"SENTRY. Merchant name: Sentry",merchantName:"Sentry.",originalMerchantName:"Sentry.",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-27T05:23:47.597Z",deletedAt:null},{transactionId:"txn_01j0psb1fgb1zcc696h7psm9c8",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:800,spendingId:"spnd_01fpwx6ye0kehpverathqakm9x",spendingAmount:800,categories:["Service","Computers","Software Development"],category:"GENERAL_SERVICES_OTHER_GENERAL_SERVICES",date:"2024-06-19T05:00:00Z",name:"GitHub",originalName:"GITHUB, INC.. Merchant name: Github",merchantName:"GitHub",originalMerchantName:"GitHub",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-18T23:01:32.273Z",deletedAt:null},{transactionId:"txn_01j0cfj0ajsrqx2c0b41ewyhnj",bankAccountId:"bac_01gds6eqsq7h5mgevwtmw3cyxb",plaidTransaction:null,pendingPlaidTransaction:null,amount:-2e4,spendingId:null,categories:["Transfer","Payroll"],category:"INCOME_WAGES",date:"2024-06-14T05:00:00Z",name:"Elliot's Contribution",originalName:"5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR",originalMerchantName:"",currency:"USD",isPending:!1,uploadIdentifier:null,createdAt:"2024-06-14T22:58:10.386Z",deletedAt:null}]),(0,l.jsx)(e,{})}],render:()=>(0,l.jsx)(i3,{}),parameters:{reactRouter:{routePath:"/*",browserPath:"/bank/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions"}}},le=["Transactions"];i9.parameters={...i9.parameters,docs:{...i9.parameters?.docs,source:{originalSource:"{\n  name: 'Transactions',\n  decorators: [(Story, _) => {\n    const mockAxios = new MockAdapter(monetrClient);\n    mockAxios.onGet('/api/config').reply(200, {\n      'requireLegalName': true,\n      'requirePhoneNumber': true,\n      'verifyLogin': false,\n      'verifyRegister': false,\n      'verifyEmailAddress': true,\n      'verifyForgotPassword': false,\n      'allowSignUp': true,\n      'allowForgotPassword': true,\n      'longPollPlaidSetup': true,\n      'requireBetaCode': true,\n      'initialPlan': {\n        'price': 199\n      },\n      'billingEnabled': true,\n      'iconsEnabled': true,\n      'plaidEnabled': true,\n      'manualEnabled': false,\n      'release': '0.17.16',\n      'revision': '8df5505b7e5273f061d90ddf19e4c1cfca2b4f4f',\n      'buildType': 'binary',\n      'buildTime': '2024-08-28T02:42:56Z'\n    });\n    mockAxios.onGet('/api/users/me').reply(200, {\n      'activeUntil': '2024-09-26T00:31:38Z',\n      'hasSubscription': true,\n      'isActive': true,\n      'isSetup': true,\n      'isTrialing': false,\n      'trialingUntil': null,\n      'user': {\n        'userId': 'user_01hym36e8ewaq0hxssb1m3k4ha',\n        'loginId': 'lgn_01hym36d96ze86vz5g7883vcwg',\n        'login': {\n          'loginId': 'lgn_01hym36d96ze86vz5g7883vcwg',\n          'email': 'me@elliotcourant.dev',\n          'firstName': 'Elliot',\n          'lastName': 'Courant',\n          'passwordResetAt': null,\n          'isEmailVerified': true,\n          'emailVerifiedAt': '2022-09-25T00:24:25.976514Z',\n          'totpEnabledAt': null\n        },\n        'accountId': 'acct_01hk84dchvxvjgp7cgap818c82',\n        'account': {\n          'accountId': 'acct_01hk84dchvxvjgp7cgap818c82',\n          'timezone': 'America/Chicago',\n          'locale': 'en_US',\n          'subscriptionActiveUntil': '2024-09-26T00:31:38Z',\n          'subscriptionStatus': 'active',\n          'trialEndsAt': null,\n          'createdAt': '2024-01-03T17:02:23.290914Z'\n        }\n      }\n    });\n    mockAxios.onGet('/api/links').reply(200, [{\n      'linkId': 'link_01gds6eqsqacg48p0azb3wcpsq',\n      'linkType': 1,\n      'plaidLink': {\n        'products': ['transactions'],\n        'status': 2,\n        'expirationDate': null,\n        'newAccountsAvailable': false,\n        'institutionId': 'ins_116794',\n        'institutionName': 'Mercury',\n        'lastManualSync': '2024-07-06T12:59:09.51222Z',\n        'lastSuccessfulUpdate': '2024-08-29T12:00:01.176597Z',\n        'lastAttemptedUpdate': '2024-08-29T12:00:01.17665Z',\n        'updatedAt': '2024-03-19T06:17:32.335106Z',\n        'createdAt': '2022-09-25T02:08:40.758642Z',\n        'createdBy': 'user_01hym36e8ewaq0hxssb1m3k4ha'\n      },\n      'institutionName': 'Mercury',\n      'description': null,\n      'createdAt': '2022-09-25T02:08:40.758642Z',\n      'createdBy': 'user_01hym36e8ewaq0hxssb1m3k4ha',\n      'updatedAt': '2024-03-19T06:17:32.335106Z',\n      'deletedAt': null\n    }]);\n    mockAxios.onGet('/api/institutions/ins_116794').reply(200, {\n      'institutionId': 'ins_116794',\n      'name': 'Mercury',\n      'products': ['assets', 'auth', 'balance', 'transactions', 'identity'],\n      'countryCodes': ['US'],\n      'url': 'https://mercury.com/',\n      'primaryColor': '#5e6cd4',\n      'logo': 'iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAAAdVBMVEVHcEz///////////////////////////////////////////////8AAAD///9ra2v19fX9/f0jIyMVFRUyMjLs7OysrKwMDAy3t7c9PT3R0dGLi4uhoaF/f39OTk7Dw8OVlZVHR0fj4+Pb29tVVVXLy8tcXFzoRFGvAAAADXRSTlMAQoGXwesjpdoUaS9X3qEOLQAACyRJREFUeNrNXOmCsjoM/cZl1JmBUvZVQMD3f8TbBdqA0KKgF345I0JITk6Wpvz7t/C4/P7tTqfD4Xw+Ynw8nw+H02n393v59z8e3z/7w9mcOM6H/c/3/yLU6Whqj+Pps8J97c/m7OO8//qQrnZPSNXKtnu73i4/B/Ol4/DzTnf43mPz5QPv36W279MCsZhop3eI9nsyVzhOv2tjaxWxmGirYu3naK52HH/Wo62zuepx/lrLithc+VjDnl9H8w3HcbHSduabjt0yMx7Mtx2Hy9bMuNycO/PNx4vm3JtvP/avyHUyP3CcNgX7JS5wOX9GLhOfL5uUiwaoyzblekqywyflMvFhU/74gm/uzY8f+03w/Ysx4Ovpi1pNmtWRazuG4dhudM/S2Hr6Itq4eXkubnshco2Rw0Xhc8IdLys6pFVEQpKA6Kq+ujYQLkqfke2wFsBwWPP7O3USVkKEm3+VogX3cCWYzQYYTrlu3KRif8Kq4IboN3duYtfHK8BsLsBaseysGv8+JkI5TZXxs1K8GGYzmTVnyrg2CvTdiR1j02yYXd1mIc/OM6R3Z2LF6rOIOW0KvJiJhrxFxpwVun1nhljE2sQ1ELcrFc2Z5QXniT7AHHRRYDv+jBMtArAGPEs2B2k/ryL/RtF1H9rFygtUUuZ3IiRVGRpGCa0f3V7E/wzkN86jupos6nF+LcSOhMq40pz4Jfz/6n8VBsTDes99SwDVB+WV/mXfpMpQT9dBrr/H7wsKS8ldSxhl4roLjFSekIIot1tvpIdj2MDeJTnJf15l37PkQgDBnAgC5FuUGzqJ6f2z9gyCrHzgN3rJvp9VWGjIO1IBMsbqhUUdMDCcDlnYC4yg/aOgPwEqpj/Jn1TZt86Zm6AnV86wReIg5rpM5FeJ0EvMZM97kgU6D8DfT6XTlQORbCEOLk+wPLh7JZ7A42chC8YDR8cavTT7olEYJj5VinM8ShCIQAwLLAGDWYTp2l+REEEfIRIMggkCI929Lk+QPrm8K1Mum4UYBDUGONeDGkNm6AAGMS23hwgt/WvyVh9agLIs1QEBTCVA7vdOLqBRqX4dwbQ38utwdi6r4QrPAXemXnClvliIOxCQuxhavRKOTEW0iNGDBj6kN5cxNAn1XaCGPzFns1waJQL2IYqs5ce8YzCp8Tt0I02Src53cvCMni0uiwMjMiUvcN+j/ioYITICLLMzD+i/mZf9fGk9skOFRXRz7axWCpuxqOCgtEA0wQklb3TpBSbWjCxpTBfPShj36vyeyAK8U1yf3kDYxA9ELLd9S5wskEmfSJxMpExnUZnSkpgYLx4xKvsmuMnSyJFpRk2VVgWGjXsOlEvL23iGLb91sbtTGE1KoasX0lZUzjhMi6zmeVDUUEsXsAwFacdVF82/9ewKFZYN/ImirxicTnRXsCLKHSIJSdel/DKDY0+apOIqDWmUKCtycb94IpGJS6Y2Ea9xXmQ0hIn/XDUsy1MMZa5ft77dIBukqm157RtTKRbLPvg32C+FZ3TP2ABmHM39dRDDJCLTLLQpB90cu8CtXP3ssZ+A+DRAwD6LUBnxG0sHMiXECgoMnuXY97TysFeFvPpwYypXktCPo2ah3/gxw1uUhfSnfi8opDqQKVmMyFDF9JmvOQB4hVrjkPwwpzQR+d64ZCz5rtqfUUe6CfKNdEymyiws2ngI+mkop62ylYt85H2nCCUpaEcJycpbT/9dquv2crjRDOOs6oERkBKN3Eeu4Uru6Kol3pfyeoIVPcQGom5K1H5JKPaiSRAn0J0DvjS9nm90HZT80WWRiN+VJse4qAtdBl00AT5hXgazoM7SNKsp+Jy8S5D8x4wzE0Wnqy58/9QQm8jRQWOCsYbd9VuttGOw68gjWRLztRpkf8oksaGCVaBFnd2zomovCyI7LIQ4ueT9tNasEnRHqQcwn6izsp0yIKWwyLWyliPq2CQodkHakDzwhOPVAN1tiDKCRFZ6oZrJTkrBMlk7stqoC0mhLDgontFIE60ERJWCxsugUlEIdlAHyjvIqYOksjyfOoRkSg96pwnyI4l8nzWvPatKAuBLWB0uD0rBInl1ImPJlYd510KaLR3HQKtr2szo2omMVkrhlpFSsLOaLTyZdFqQ3Wpxylg0JhgUt4W2pqp0xS9dJcOqBLOFYmB7AluOwIclRRyCoDOZYziWTMykriPYPRsRTJWNSW33r4K0EM6Eq8Z957ANRxRZjjIjU1UFUh2OrJR4ME7VTp9OnUFo9+HTaJieKZjREywVHJVOCzZ+xhVoTC2Y2pTlWDuVmpLzPk6mTSk7Ln1TRgL8alOqwe+KT6A3R8DvyNp/CvyWEFGCn8YvNPqsz3mlK37rDugCSaaboAtXiijOZsslbYy9GRq6UBNsIAEBCbZr/7Jm5jjBJlLXPYKt5SnRy8wvDYJ4DO5CEow2EyHJE4qxYUgSTZ/rBAiEYJogXj3EYaijiEVrNJL4Isksfgg6Ll0FcDN0QVyT9viCsVHSXr+MQbpYT6U9MGR1RUGQ9cKaOu3RJIpIlkuml5JsL6l6vYt4KlEUvM8MVhUkxwQ1HlsCUCeKf+o6XMakx0wYcdqdSK07pxkrhixWTKhTa00x0jUrs9HKgndWx4uRlraiCa8ydMWIrnyLh1aFNUgrgYega5Qe9M4Re+G2KlSXb0qGDSEf9Zm06FWz7SiDKArkusWIHQlTOHdtwasiMmzJKye9qhq0CLqGnRfnYZpdmeteb6MtAv6wDm37z2gRaJsqkim7TAQ2VQb9RNMKyxZmg6ZKKxZtFdnxnKaKvg0lAOs/tqFGu3b0hOKxDRUXd6ddjssemqSPbShlb9iSqXA82rhDYwbh9cpY447atuERVNu4m9fq5NGt3+rEvjHSoWImBU1Q2Oo0bNS0Pq4KlPj4VHOYquz60ByGIWpAJo/N4fyp5vCidjpvnRe3sX4ibKfjQTtdvQLxs8ICRM7nQew6K9IwlrfDUR/fgwWIdMYCxNIlm7CWGHKQ0F0F1YJfWbLRrNTPWOSyfNBx8cHJCxe5lMuCmCLJB9cfWxYMmbKKlK10pVIxC5cFly+kBnAhVVjenVxIVY+FnFdber7SjzI/iiTNji8939X32y1arDflYn01XKyPhYEXLtZ/eLxBM3l0WG0gJBsOhCDw6XEgRDND0BsIeXGExhKosXo5nHKExn1mhEY7dHQbHTqqhuVnvz2xwtDRi2NaoUBVf0wrNUXy8TCmpRvWHYxpvTbY1g0XyVk25sKsOLB4IjYcbNPOw54WjwKC0iwTo4DYYi0Dy+fJNxzkxbri+4ErXh2elFkoTTuYyXBI1dTtPahhosaGJ/VynVYYN5UtYr5sYl9BqmrYSX8wlY6bzphr/l1hQLcB2YtX9/L6KBtgnA3ozhhSP60y0ixnUYh8MYocupmlREU+rDPYSLP76kjzE0PgoVBZMONujPzHhyBUpL9kbL4XqaYOPjbvz7n2ea2NBtQbS6wX63GgXZMgLt6aQTPESHHTdmtGPu+6pxU3s1A/tSdYYMXNLC9s/5naQFIlnGVni6XZZfbChikuYCFKSlyFSd2O39Xh/NcY7N6zxYxvMosiV04ERsWKW8ye3ZRnfWxT3pPbGFmrrr+Nsc7SxhrsOlsIsBc3fuJZ/1oEsG1vld3u5uJPb8c2Z2/H3u4G9s1u+f+kZOdnX9+w0ddKbPdFHBt+dcl2X/ay3dfjbPeFQtt9BdOGX1q15svaAEus89q2jb4YbcOvkmOvKtyYFTf/usINv+Bxw6/E3PBLRDnYNvna1S2/qHbLr/YVwm3wZcjSHd70+uj/AGgmIsLJi31VAAAAAElFTkSuQmCC',\n      'status': {\n        'auth': {\n          'breakdown': {\n            'error_institution': 0,\n            'error_plaid': 0,\n            'success': 1\n          },\n          'last_status_change': '2023-06-25T13:10:18Z',\n          'status': 'HEALTHY'\n        },\n        'item_logins': {\n          'breakdown': {\n            'error_institution': 0,\n            'error_plaid': 0.014,\n            'success': 0.986\n          },\n          'last_status_change': '2023-06-28T20:15:18Z',\n          'status': 'DEGRADED'\n        },\n        'transactions_updates': {\n          'breakdown': {\n            'error_institution': 0,\n            'error_plaid': 0,\n            'refresh_interval': 'NORMAL',\n            'success': 1\n          },\n          'last_status_change': '2023-06-14T17:05:18Z',\n          'status': 'HEALTHY'\n        }\n      }\n    });\n    mockAxios.onGet('/api/bank_accounts').reply(200, [{\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'linkId': 'link_01gds6eqsqacg48p0azb3wcpsq',\n      'availableBalance': 47986,\n      'currentBalance': 47986,\n      'mask': '2982',\n      'name': 'Mercury Checking',\n      'originalName': 'Mercury Checking',\n      'accountType': 'depository',\n      'accountSubType': 'checking',\n      'status': 'active',\n      'lastUpdated': '2024-08-27T08:53:48.555368Z',\n      'createdAt': '2022-09-25T02:08:40.758642Z',\n      'updatedAt': '2024-03-19T06:17:32.335106Z'\n    }]);\n    mockAxios.onGet('/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb').reply(200, {\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'linkId': 'link_01gds6eqsqacg48p0azb3wcpsq',\n      'plaidBankAccount': {\n        'name': 'Mercury Checking',\n        'officialName': 'Mercury Checking',\n        'mask': '2982',\n        'availableBalance': 47986,\n        'currentBalance': 47986,\n        'limitBalance': null,\n        'createdAt': '2024-03-19T15:15:10.31132Z',\n        'createdBy': 'user_01hym36e8ewaq0hxssb1m3k4ha'\n      },\n      'availableBalance': 47986,\n      'currentBalance': 47986,\n      'mask': '2982',\n      'name': 'Mercury Checking',\n      'originalName': 'Mercury Checking',\n      'accountType': 'depository',\n      'accountSubType': 'checking',\n      'status': 'active',\n      'lastUpdated': '2024-08-27T08:53:48.555368Z',\n      'createdAt': '2022-09-25T02:08:40.758642Z',\n      'updatedAt': '2024-03-19T06:17:32.335106Z'\n    });\n    mockAxios.onGet('/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/funding_schedules').reply(200, [{\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'name': 'Elliot\\'s Contribution',\n      'description': '15th and last day of every month',\n      'ruleset': 'DTSTART:20230228T060000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1',\n      'excludeWeekends': true,\n      'waitForDeposit': false,\n      'estimatedDeposit': 22000,\n      'lastRecurrence': '2024-08-15T05:00:00Z',\n      'nextRecurrence': '2024-08-30T05:00:00Z',\n      'nextRecurrenceOriginal': '2024-08-31T05:00:00Z'\n    }]);\n    mockAxios.onGet('/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/balances').reply(200, {\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'current': 47986,\n      'available': 47986,\n      'free': 7724,\n      'expenses': 30262,\n      'goals': 10000\n    });\n    mockAxios.onGet('/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/spending').reply(200, [{\n      'spendingId': 'spnd_01h264znvxkghmxp5s0wmdbr9j',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'GitLab',\n      'description': 'Every year on the 16th of June',\n      'targetAmount': 34800,\n      'currentAmount': 5800,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230606T050000Z\\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=16',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-06-16T05:00:00Z',\n      'nextRecurrence': '2025-06-16T05:00:00Z',\n      'nextContributionAmount': 1450,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2023-06-05T16:07:02.780623Z'\n    }, {\n      'spendingId': 'spnd_01fpwx2qng9gbt32kdh2mdk7df',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Freshbooks',\n      'targetAmount': 1900,\n      'currentAmount': 950,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230310T060000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-10T06:00:00Z',\n      'nextRecurrence': '2024-09-10T06:00:00Z',\n      'nextContributionAmount': 950,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2021-12-14T16:40:46Z'\n    }, {\n      'spendingId': 'spnd_01gk23r0mgcekdf8bzkvf55f26',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 1,\n      'name': 'Rainy Day',\n      'targetAmount': 100,\n      'currentAmount': 17724,\n      'usedAmount': 58900,\n      'ruleset': null,\n      'lastSpentFrom': null,\n      'lastRecurrence': '2023-12-31T06:00:00Z',\n      'nextRecurrence': '2023-12-31T06:00:00Z',\n      'nextContributionAmount': 0,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2022-11-29T16:32:58Z'\n    }, {\n      'spendingId': 'spnd_01ggwaxcq0y6eazf56a4sq3f02',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Google Voice',\n      'targetAmount': 1292,\n      'currentAmount': 646,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230301T060000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-01T06:00:00Z',\n      'nextRecurrence': '2024-09-01T06:00:00Z',\n      'nextContributionAmount': 646,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2022-11-02T14:11:24Z'\n    }, {\n      'spendingId': 'spnd_01g6ngke5g9mgrn9kt7pjdcqr8',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'ngrok',\n      'description': 'Every year on the 26th of June',\n      'targetAmount': 6000,\n      'currentAmount': 780,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230625T050000Z\\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=6;BYMONTHDAY=26',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-06-26T05:00:00Z',\n      'nextRecurrence': '2025-06-26T05:00:00Z',\n      'nextContributionAmount': 261,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2022-06-28T15:59:10Z'\n    }, {\n      'spendingId': 'spnd_01h0jgggcdng3ztx90zwh6nb6f',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Domains',\n      'description': 'Every year on the 1st of April',\n      'targetAmount': 14000,\n      'currentAmount': 2331,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20240401T050000Z\\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=4;BYMONTHDAY=1',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-04-01T05:00:00Z',\n      'nextRecurrence': '2025-04-01T05:00:00Z',\n      'nextContributionAmount': 777,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2023-05-16T14:47:58.09301Z'\n    }, {\n      'spendingId': 'spnd_01h0dxnp2nm9q90pdqemp1z5m1',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Plaid',\n      'description': 'Every month on the 10th',\n      'targetAmount': 500,\n      'currentAmount': 365,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230610T050000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=10',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-10T05:00:00Z',\n      'nextRecurrence': '2024-09-10T05:00:00Z',\n      'nextContributionAmount': 135,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2023-05-14T20:01:47.09268Z'\n    }, {\n      'spendingId': 'spnd_01fpwx3pxg6yaspkx0wn3fptkf',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Google G-Suite',\n      'targetAmount': 1440,\n      'currentAmount': 720,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230301T060000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-01T06:00:00Z',\n      'nextRecurrence': '2024-09-01T06:00:00Z',\n      'nextContributionAmount': 720,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2021-12-14T16:41:18Z'\n    }, {\n      'spendingId': 'spnd_01gh9a6yb0weejnxk5y0e66s7s',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Google Cloud Production',\n      'targetAmount': 25000,\n      'currentAmount': 12588,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230301T060000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=1',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-01T06:00:00Z',\n      'nextRecurrence': '2024-09-01T06:00:00Z',\n      'nextContributionAmount': 12412,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2022-11-07T15:09:16Z'\n    }, {\n      'spendingId': 'spnd_01hcjv04tytz5xatf3dhers5kg',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'P.O. Box',\n      'description': 'Every year on the 13th of October',\n      'targetAmount': 7000,\n      'currentAmount': 6082,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20231013T050000Z\\nRRULE:FREQ=YEARLY;INTERVAL=1;BYMONTH=10;BYMONTHDAY=13',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2023-10-13T05:00:00Z',\n      'nextRecurrence': '2024-10-13T05:00:00Z',\n      'nextContributionAmount': 306,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2023-10-12T20:59:38.206294Z'\n    }, {\n      'spendingId': 'spnd_01fpwx6ye0kehpverathqakm9x',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'GitHub',\n      'targetAmount': 800,\n      'currentAmount': 0,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230319T050000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=19',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-19T05:00:00Z',\n      'nextRecurrence': '2024-09-19T05:00:00Z',\n      'nextContributionAmount': 400,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2021-12-14T16:43:04Z'\n    }, {\n      'spendingId': 'spnd_01fpwx67z8djhb8bqcy17mrzfe',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'fundingScheduleId': 'fund_01hym37k3kj4ghv67nfx7vkvr0',\n      'spendingType': 0,\n      'name': 'Sentry',\n      'targetAmount': 3446,\n      'currentAmount': 0,\n      'usedAmount': 0,\n      'ruleset': 'DTSTART:20230325T050000Z\\nRRULE:FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=25',\n      'lastSpentFrom': null,\n      'lastRecurrence': '2024-08-25T05:00:00Z',\n      'nextRecurrence': '2024-09-25T05:00:00Z',\n      'nextContributionAmount': 1723,\n      'isBehind': false,\n      'isPaused': false,\n      'createdAt': '2021-12-14T16:42:41Z'\n    }]);\n    mockAxios.onGet('/api/bank_accounts/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions').reply(200, [{\n      'transactionId': 'txn_01j68vszqeq30t7jz7atk9yd9r',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 3446,\n      'spendingId': 'spnd_01fpwx67z8djhb8bqcy17mrzfe',\n      'spendingAmount': 2900,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'FOOD_AND_DRINK_GROCERIES',\n      'date': '2024-08-27T05:00:00Z',\n      'name': 'Sentry.',\n      'originalName': 'SENTRY. Merchant name: Sentry',\n      'merchantName': 'Sentry.',\n      'originalMerchantName': 'Sentry.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-27T02:49:28.059Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j5m4enxf50k3d2h2c9dtst4z',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 803,\n      'spendingId': 'spnd_01fpwx6ye0kehpverathqakm9x',\n      'spendingAmount': 800,\n      'categories': ['Service', 'Computers', 'Software Development'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-08-19T05:00:00Z',\n      'name': 'GitHub',\n      'originalName': 'GITHUB, INC.. Merchant name: Github',\n      'merchantName': 'GitHub',\n      'originalMerchantName': 'GitHub',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-19T01:36:31.663Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j59tnczpyqwq7sxw4gzbmkvx',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 270,\n      'spendingId': 'spnd_01h0dxnp2nm9q90pdqemp1z5m1',\n      'spendingAmount': 270,\n      'categories': ['Service', 'Business Services'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-08-16T05:00:00Z',\n      'name': 'Plaid',\n      'originalName': 'Plaid',\n      'merchantName': 'Plaid Technologies Inc.',\n      'originalMerchantName': 'Plaid Technologies Inc.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-15T01:33:01.814Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j5b3p0waxq4894dgteb58s6e',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': -22000,\n      'spendingId': null,\n      'categories': ['Transfer', 'Payroll'],\n      'category': 'INCOME_WAGES',\n      'date': '2024-08-15T05:00:00Z',\n      'name': 'Elliot\\'s Contribution',\n      'originalName': '5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR',\n      'originalMerchantName': '',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-15T13:29:53.802Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j4vn659athnneb4jd6yf2twa',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1900,\n      'spendingId': 'spnd_01fpwx2qng9gbt32kdh2mdk7df',\n      'spendingAmount': 1900,\n      'categories': ['Service', 'Financial', 'Accounting and Bookkeeping'],\n      'category': 'GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING',\n      'date': '2024-08-10T05:00:00Z',\n      'name': 'FreshBooks',\n      'originalName': 'FRESHBOOKS. Merchant name: Freshbooks',\n      'merchantName': 'FreshBooks',\n      'originalMerchantName': 'FreshBooks',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-09T13:27:57.482Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j47xct43472gtrv6dkp8s9s8',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1440,\n      'spendingId': 'spnd_01fpwx3pxg6yaspkx0wn3fptkf',\n      'spendingAmount': 1440,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-08-02T05:00:00Z',\n      'name': 'Gsuite Monetr.a.',\n      'originalName': 'GSUITE MONETR.A. Merchant name: Gsuite',\n      'merchantName': 'Gsuite Monetr.a.',\n      'originalMerchantName': 'Gsuite Monetr.a.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-01T21:26:35.396Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j47xct4230fpdj4gt8trf021',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 24824,\n      'spendingId': 'spnd_01gh9a6yb0weejnxk5y0e66s7s',\n      'spendingAmount': 24824,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'GENERAL_MERCHANDISE_OTHER_GENERAL_MERCHANDISE',\n      'date': '2024-08-02T05:00:00Z',\n      'name': 'Cloud',\n      'originalName': 'Google CLOUD 2xHT9W. Merchant name: Google Cloud',\n      'merchantName': 'Cloud',\n      'originalMerchantName': 'Cloud',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-01T21:26:35.396Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j47xct40x2vwfhst88k4j9zs',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1294,\n      'spendingId': 'spnd_01ggwaxcq0y6eazf56a4sq3f02',\n      'spendingAmount': 1292,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'TRANSFER_OUT_ACCOUNT_TRANSFER',\n      'date': '2024-08-02T05:00:00Z',\n      'name': 'Svcsmonetr.app.',\n      'originalName': 'SVCSMONETR.APP. Merchant name: Google',\n      'merchantName': 'Svcsmonetr.app.',\n      'originalMerchantName': 'Svcsmonetr.app.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-08-01T21:26:35.396Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j45asp0shxbda8abgmqsa6mz',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': -22000,\n      'spendingId': null,\n      'categories': ['Transfer', 'Payroll'],\n      'category': 'INCOME_WAGES',\n      'date': '2024-07-31T05:00:00Z',\n      'name': 'Elliot\\'s Contribution',\n      'originalName': '5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR',\n      'originalMerchantName': '',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-31T21:23:05.369Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j3s2r562navpr3y1y27rn95j',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 3914,\n      'spendingId': 'spnd_01fpwx67z8djhb8bqcy17mrzfe',\n      'spendingAmount': 2900,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'FOOD_AND_DRINK_GROCERIES',\n      'date': '2024-07-27T05:00:00Z',\n      'name': 'Sentry.',\n      'originalName': 'SENTRY. Merchant name: Sentry',\n      'merchantName': 'Sentry.',\n      'originalMerchantName': 'Sentry.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-27T03:11:33.57Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j33sp41a5b2s3nnkddjw1grc',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 800,\n      'spendingId': 'spnd_01fpwx6ye0kehpverathqakm9x',\n      'spendingAmount': 800,\n      'categories': ['Service', 'Computers', 'Software Development'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-07-19T05:00:00Z',\n      'name': 'GitHub',\n      'originalName': 'GITHUB, INC.. Merchant name: Github',\n      'merchantName': 'GitHub',\n      'originalMerchantName': 'GitHub',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-18T20:49:06.602Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j2r4mbwb1d56d5be9h5y6jxq',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 210,\n      'spendingId': 'spnd_01h0dxnp2nm9q90pdqemp1z5m1',\n      'spendingAmount': 210,\n      'categories': ['Service', 'Business Services'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-07-16T05:00:00Z',\n      'name': 'Plaid',\n      'originalName': 'Plaid',\n      'merchantName': 'Plaid Technologies Inc.',\n      'originalMerchantName': 'Plaid Technologies Inc.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-14T08:09:30.251Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j2vc5pkhbmjp7kmj7ede9vbe',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': -22000,\n      'spendingId': null,\n      'categories': ['Transfer', 'Payroll'],\n      'category': 'INCOME_WAGES',\n      'date': '2024-07-15T05:00:00Z',\n      'name': 'Elliot\\'s Contribution',\n      'originalName': '5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR',\n      'originalMerchantName': '',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-15T14:19:01.617Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j2bt5rjem60dgvf6ymm8zrvw',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1900,\n      'spendingId': 'spnd_01fpwx2qng9gbt32kdh2mdk7df',\n      'spendingAmount': 1900,\n      'categories': ['Service', 'Financial', 'Accounting and Bookkeeping'],\n      'category': 'GENERAL_SERVICES_ACCOUNTING_AND_FINANCIAL_PLANNING',\n      'date': '2024-07-10T05:00:00Z',\n      'name': 'FreshBooks',\n      'originalName': 'FRESHBOOKS. Merchant name: Freshbooks',\n      'merchantName': 'FreshBooks',\n      'originalMerchantName': 'FreshBooks',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-09T13:15:52.782Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j27xtf159hx1j8ajzev4whtb',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 4000,\n      'spendingId': 'spnd_01h0jgggcdng3ztx90zwh6nb6f',\n      'spendingAmount': 3040,\n      'categories': ['Transfer', 'Debit'],\n      'category': 'TRANSFER_OUT_ACCOUNT_TRANSFER',\n      'date': '2024-07-08T05:00:00Z',\n      'name': 'Square Space Domains',\n      'originalName': 'SQSP* INV140023242. Merchant name: Sqsp',\n      'merchantName': 'INV',\n      'originalMerchantName': 'INV',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-08T01:02:39.141Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1tzj5snpm0c2zx47f1bma2d',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 6000,\n      'spendingId': 'spnd_01g6ngke5g9mgrn9kt7pjdcqr8',\n      'spendingAmount': 6000,\n      'categories': ['Transfer', 'Debit'],\n      'category': 'FOOD_AND_DRINK_GROCERIES',\n      'date': '2024-07-03T05:00:00Z',\n      'name': 'Ngrok',\n      'originalName': 'NGROK 6RWWW7NJFQD-0004. Merchant name: Ngrok 6rwww7njfqd 0004',\n      'merchantName': 'Ngrok',\n      'originalMerchantName': 'Ngrok',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-03T00:22:57.078Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1qqt56ngf8paqzp4k8vwnvq',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 20775,\n      'spendingId': 'spnd_01gh9a6yb0weejnxk5y0e66s7s',\n      'spendingAmount': 20775,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-07-02T05:00:00Z',\n      'name': 'Cloud Vb',\n      'originalName': 'Google CLOUD vB57xH. Merchant name: Google Cloud',\n      'merchantName': 'Cloud Vb',\n      'originalMerchantName': 'Cloud Vb',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-01T18:09:46.709Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1qqt56k7ytp6ynqz7q82yzn',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1287,\n      'spendingId': 'spnd_01ggwaxcq0y6eazf56a4sq3f02',\n      'spendingAmount': 1287,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'TRANSFER_OUT_ACCOUNT_TRANSFER',\n      'date': '2024-07-02T05:00:00Z',\n      'name': 'Svcsmonetr.app.',\n      'originalName': 'SVCSMONETR.APP. Merchant name: Google',\n      'merchantName': 'Svcsmonetr.app.',\n      'originalMerchantName': 'Svcsmonetr.app.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-01T18:09:46.709Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1q2sqwwbmvecxd50t453x40',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 1440,\n      'spendingId': 'spnd_01fpwx3pxg6yaspkx0wn3fptkf',\n      'spendingAmount': 1440,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-07-02T05:00:00Z',\n      'name': 'Gsuite Monetr.a.',\n      'originalName': 'GSUITE MONETR.A. Merchant name: Gsuite',\n      'merchantName': 'Gsuite Monetr.a.',\n      'originalMerchantName': 'Gsuite Monetr.a.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-07-01T12:02:32.988Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1fzxja9mcy0tj6wb62b5n0p',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': -22000,\n      'spendingId': null,\n      'categories': ['Transfer', 'Payroll'],\n      'category': 'INCOME_WAGES',\n      'date': '2024-06-28T05:00:00Z',\n      'name': 'Elliot\\'s Contribution',\n      'originalName': '5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR',\n      'originalMerchantName': '',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-06-28T17:57:31.593Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1e1d9p7qb41prh6jne7dtw7',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 34800,\n      'spendingId': 'spnd_01h264znvxkghmxp5s0wmdbr9j',\n      'spendingAmount': 34800,\n      'categories': ['Service'],\n      'category': 'TRANSFER_OUT_ACCOUNT_TRANSFER',\n      'date': '2024-06-28T05:00:00Z',\n      'name': 'Gitlab Inc..',\n      'originalName': 'GITLAB INC.. Merchant name: Gitlab',\n      'merchantName': 'Gitlab Inc..',\n      'originalMerchantName': 'Gitlab Inc..',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-06-27T23:45:06.759Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j1c2cq8dwdpjyvs8fxpkeh5q',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 2900,\n      'spendingId': 'spnd_01fpwx67z8djhb8bqcy17mrzfe',\n      'spendingAmount': 2900,\n      'categories': ['Shops', 'Digital Purchase'],\n      'category': 'FOOD_AND_DRINK_GROCERIES',\n      'date': '2024-06-27T05:00:00Z',\n      'name': 'Sentry.',\n      'originalName': 'SENTRY. Merchant name: Sentry',\n      'merchantName': 'Sentry.',\n      'originalMerchantName': 'Sentry.',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-06-27T05:23:47.597Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j0psb1fgb1zcc696h7psm9c8',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': 800,\n      'spendingId': 'spnd_01fpwx6ye0kehpverathqakm9x',\n      'spendingAmount': 800,\n      'categories': ['Service', 'Computers', 'Software Development'],\n      'category': 'GENERAL_SERVICES_OTHER_GENERAL_SERVICES',\n      'date': '2024-06-19T05:00:00Z',\n      'name': 'GitHub',\n      'originalName': 'GITHUB, INC.. Merchant name: Github',\n      'merchantName': 'GitHub',\n      'originalMerchantName': 'GitHub',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-06-18T23:01:32.273Z',\n      'deletedAt': null\n    }, {\n      'transactionId': 'txn_01j0cfj0ajsrqx2c0b41ewyhnj',\n      'bankAccountId': 'bac_01gds6eqsq7h5mgevwtmw3cyxb',\n      'plaidTransaction': null,\n      'pendingPlaidTransaction': null,\n      'amount': -20000,\n      'spendingId': null,\n      'categories': ['Transfer', 'Payroll'],\n      'category': 'INCOME_WAGES',\n      'date': '2024-06-14T05:00:00Z',\n      'name': 'Elliot\\'s Contribution',\n      'originalName': '5176 TREASURY PR; DEPOSIT; COURANT ELLIOT. Merchant name: 5176 TREASURY PR',\n      'originalMerchantName': '',\n      'currency': 'USD',\n      'isPending': false,\n      'uploadIdentifier': null,\n      'createdAt': '2024-06-14T22:58:10.386Z',\n      'deletedAt': null\n    }]);\n    return <Story />;\n  }],\n  render: () => <Monetr />,\n  parameters: {\n    reactRouter: {\n      routePath: '/*',\n      browserPath: '/bank/bac_01gds6eqsq7h5mgevwtmw3cyxb/transactions'\n    }\n  }\n}",...i9.parameters?.docs?.source}}}}}]);