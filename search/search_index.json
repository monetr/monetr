{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+","tags":false},"docs":[{"location":"developing/","text":"<p>We want to make it as easy as possible for monetr users to become contributors. This documentation is still very much a work in progress, but as time goes on it will hopefully become a helpful guide to building out features or fixing problems within monetr.</p>  <ul> <li> <p> Development</p>  <p>Fixing bugs, adding features, reviewing code.</p> <p> Getting started</p> </li> <li> <p> Documentation</p>  <p>Contribute to documentation to help others.    </p> <p> Getting started</p> </li> </ul>","title":"Contributing to monetr"},{"location":"developing/CODE_OF_CONDUCT/","text":"","title":"Contributor Covenant Code of Conduct"},{"location":"developing/CODE_OF_CONDUCT/#our-pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>","title":"Our Pledge"},{"location":"developing/CODE_OF_CONDUCT/#our-standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the overall community</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery, and sexual attention or advances of any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email address, without their explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a professional setting</li> </ul>","title":"Our Standards"},{"location":"developing/CODE_OF_CONDUCT/#enforcement-responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>","title":"Enforcement Responsibilities"},{"location":"developing/CODE_OF_CONDUCT/#scope","text":"<p>This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.</p>","title":"Scope"},{"location":"developing/CODE_OF_CONDUCT/#enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at conduct@monetr.app. All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>","title":"Enforcement"},{"location":"developing/CODE_OF_CONDUCT/#enforcement-guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>","title":"Enforcement Guidelines"},{"location":"developing/CODE_OF_CONDUCT/#1-correction","text":"<p>Community Impact: Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community.</p> <p>Consequence: A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.</p>","title":"1. Correction"},{"location":"developing/CODE_OF_CONDUCT/#2-warning","text":"<p>Community Impact: A violation through a single incident or series of actions.</p> <p>Consequence: A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.</p>","title":"2. Warning"},{"location":"developing/CODE_OF_CONDUCT/#3-temporary-ban","text":"<p>Community Impact: A serious violation of community standards, including sustained inappropriate behavior.</p> <p>Consequence: A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.</p>","title":"3. Temporary Ban"},{"location":"developing/CODE_OF_CONDUCT/#4-permanent-ban","text":"<p>Community Impact: Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals.</p> <p>Consequence: A permanent ban from any sort of public interaction within the community.</p>","title":"4. Permanent Ban"},{"location":"developing/CODE_OF_CONDUCT/#attribution","text":"<p>This Code of Conduct is adapted from the Contributor Covenant, version 2.0, available at https://www.contributor-covenant.org/version/2/0/code_of_conduct.html.</p> <p>Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder.</p> <p>For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq. Translations are available at https://www.contributor-covenant.org/translations.</p>","title":"Attribution"},{"location":"developing/credentials/","text":"<p>To work on all of the features monetr provides locally, you will need access to several sets of API credentials. These credentials are outlines here in order of significance. monetr or people representing monetr will not provide any of these credentials to you. You are responsible for gaining access to these credentials on your own. None of the credentials require that you pay for them for development purposes.</p>","title":"3rd Party API credentials for development"},{"location":"developing/credentials/#plaid","text":"<p>Plaid credentials are required for local development at this time. Until manual accounts are fully supported, only live bank accounts can be used for budgeting within monetr. It is recommended to use Sandbox credentials from Plaid for local development. The \"development\" credentials (as Plaid designates them) are for live bank accounts, however they can only be used a limited number of times.</p> <ol> <li> <p>Start by creating a Plaid account at: Plaid Signup</p> </li> <li> <p>Fill out the form to the best of your abilities. Please do not use <code>monetr</code> for the company name.</p> </li> <li> <p>Once you have created your Plaid account, you can find your credentials    here: Plaid Keys</p> </li> </ol> <p>For monetr you will need your <code>client_id</code> as well as your <code>sandbox</code> secret.</p>","title":"Plaid"},{"location":"developing/credentials/#oauth","text":"<p>TODO</p> <p></p>","title":"OAuth"},{"location":"developing/credentials/#ngrok","text":"<p>ngrok is used to test code for webhooks. It allows requests to be made to your local development instance from an external endpoint. You can use ngrok without an API key; however, the tunnels will only last a short amount of time, and the external endpoint will change each time. This might cause difficulty if you plan on working on webhook related features. It is recommended to sign up for the free plan of ngrok and use the API key they provide you.</p> <p>You can sign up for ngrok here: ngrok Sign Up</p>","title":"ngrok"},{"location":"developing/credentials/#stripe","text":"<p>If you want to work on billing related features, you can also provide Stripe credentials to the local development environment. It is required to provide ngrok credentials along-side Stripe for local development. You can sign up for a Stripe account here: Stripe Sign Up</p> <p>You will need two sets of keys to work with Stripe.</p> <ul> <li>A test mode Stripe secret key. (Not the public key)</li> <li>A webhook secret, configured for your ngrok endpoint and with the proper scopes selected.</li> </ul> <p>Once you have made a Stripe account you can follow this guide to retrieve your keys.</p>","title":"Stripe"},{"location":"developing/credentials/#secret-key","text":"<p>Navigate to your Stripe API Keys page within the dashboard. Make sure you are in \"Test mode\".</p> <p></p> <p>You will need to click <code>Reveal test key</code> in order to retrieve the API key.</p> <p></p>","title":"Secret key"},{"location":"developing/credentials/#webhook-secret","text":"<p>On the Stripe Webhooks page click <code>+ Add endpoint</code>.</p> <p></p> <p>Enter your ngrok base URL here with the suffix: <code>/stripe/webhook</code></p> <p>Then you can add events that you need to work with. At a minimum the following events should be added as monetr requires them.</p> Stripe Webhook Events<pre><code>checkout.session.completed\ncustomer.deleted\ncustomer.subscription.created\ncustomer.subscription.deleted\ncustomer.subscription.updated\n</code></pre> <p>Once the webhook endpoint has been created click <code>Reveal</code> under Signing Secret to retrieve the secret for the webhook endpoint.</p> <p></p>","title":"Webhook secret"},{"location":"developing/credentials/#recaptcha","text":"<p>TODO</p> <p></p>","title":"ReCAPTCHA"},{"location":"developing/credentials/#sentry","text":"<p>TODO</p> <p></p>","title":"Sentry"},{"location":"developing/credentials/#smtp","text":"<p>TODO</p> <p></p>","title":"SMTP"},{"location":"developing/documentation/","text":"<p>This is an overview of ways to contribute to monetr's documentation. To get started:</p> <ul> <li>You can find outstanding issues for documentation   here: </li> <li>If you don't find an issue that you'd be interested in working on, you can still create a pull request with your   desired changes.</li> <li>If you have found a gap in our documentation that you aren't able to, or do not wish to fill yourself; please create   an issue so that others are aware of this gap, and it can be addressed.</li> </ul>","title":"Documentation"},{"location":"developing/documentation/#editing-documentation","text":"<p>All of our documentation is in the form of Markdown files in the <code>docs</code> directory of the monetr repository. You can simply edit the existing files to make changes to the documentation. The documentation site is automatically generated in our GitHub Actions workflows.</p>  Note <p>To properly work on documentation locally, it is recommended that you run the local development stack. Documentation for that can be found in Developer / Local</p>  <p>You can build our documentation site locally using the following command, but it does require a Docker runtime to be available.</p> Shell<pre><code>make mkdocs\n</code></pre> <p>Our documentation is built using the insider build of mkdocs-material but can still be built locally using the normal version of mkdocs-material. If you do have access to an insider container image, you can specify that image when you run the make command like this:</p> Shell<pre><code>make mkdocs MKDOCS_IMAGE=ghcr.io/yourusername/mkdocs-material-insiders:yourTag\n</code></pre>","title":"Editing documentation"},{"location":"developing/documentation/#style","text":"<p>We would like our documentation to follow a general guide, this creates some consistency in how our documentation is both written, presented, and maintained over time.</p>","title":"Style"},{"location":"developing/documentation/#language","text":"<p>All documentation should be written in \"American\" English as much as possible. The exception to that rule are quotations, trademarks or terms that are better known by their own language's equivalent.</p>","title":"Language"},{"location":"developing/documentation/#reader-author","text":"<p>The documentation prefers \"we\" to address the author and \"you\" to address the reader. The gender of the reader shall be neutral if possible. Attempt to use \"they\" as a pronoun for the reader.</p>","title":"Reader / Author"},{"location":"developing/documentation/#code-blocks","text":"<p>Code blocks should always be accompanied by a preceding text to give context as to what that code block is, or represents. Adjacent code blocks without a paragraph of text between them should be avoided.</p>","title":"Code Blocks"},{"location":"developing/documentation/#screenshots","text":"<p>Screenshots, if at all possible, should be no larger than <code>1280x720</code>. This is not a strict requirement, but if a screenshot can reasonably capture all the necessary details in that resolution or less; that is greatly preferred.</p>","title":"Screenshots"},{"location":"developing/documentation/#links","text":"<p>Links to external sites should be opened in a new tab. This can be done by appending the following snippet after a link.</p> Open In New Tab<pre><code>{:target=\"_blank\"}\n</code></pre>","title":"Links"},{"location":"developing/documentation/#issue-tracking","text":"<p>If documentation is missing and is planned to be added later. Please add a placeholder badge for that documentation using shields.io, with the <code>GitHub issue/pull request detail</code> shield.</p> <p>The \"override label\" should use the following format.</p> Label Format<pre><code>#{GitHub Issue Number} - {GitHub Issue Title}\n</code></pre> <p>Please make the badge link back to the original issue as well.</p>","title":"Issue Tracking"},{"location":"developing/documentation/#inclusivity","text":"<p>Language that has been identified as hurtful or insensitive should be avoided.</p>","title":"Inclusivity"},{"location":"developing/local/","text":"<p>This guide walks you through setting up a local development environment for monetr on macOS or Linux. If you are using Windows, it is still possible to run the development environment locally. However, it is not documented at this time.</p>","title":"Local Development"},{"location":"developing/local/#prerequisites","text":"<p>At the time of writing this, monetr requires Plaid credentials for development. Among other credentials, documentation on how to retrieve them can be found here: Developing &gt; Credentials</p>","title":"Prerequisites"},{"location":"developing/local/#clone-the-repository","text":"<p>To get started, clone the monetr repository from GitHub or from your fork.</p> Shell<pre><code>git clone https://github.com/monetr/monetr.git\ncd monetr\n</code></pre> <p>The rest of the commands in this guide are issued from this directory.</p>","title":"Clone the repository"},{"location":"developing/local/#dependencies","text":"<p>monetr's local development tries to not require anything to be installed on the developer's actual computer. Some tools must be installed though in order to prevent other tools being required. For the most part this is covered by Docker or another container engine. In the future we plan to fully support Podman as a local container engine as well as Docker, but at the moment Docker is recommended.</p>","title":"Dependencies"},{"location":"developing/local/#mac-specific","text":"<p>macOS can ship with a version of <code>make</code> that is outdated. It is recommended that you use <code>brew</code> or any other preferred method to install the most recent version of GNUMake on your Mac. This will not break anything that is already using make, but will make sure that your version is compatible with the monetr Makefiles.</p> <p>For example; you should see something like this for your make version.</p> Shell<pre><code>make -v\n# GNU Make 4.3\n# Built for x86_64-apple-darwin20.1.0\n# Copyright (C) 1988-2020 Free Software Foundation, Inc.\n# License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\n# This is free software: you are free to change and redistribute it.\n# There is NO WARRANTY, to the extent permitted by law.\n</code></pre>","title":"Mac Specific"},{"location":"developing/local/#required","text":"<p>The following tools are required in order to work on monetr locally.</p> <ul> <li>Docker</li> <li>Node (with <code>yarn</code> installed)</li> <li>GNUMake</li> </ul> <p>These tools can be installed by running the following command.</p> Shell<pre><code>brew bundle --verbose\n</code></pre> <p>But they can also be installed manually through your own preferred methods. As long as <code>docker</code>, <code>make</code> and <code>yarn</code> are all available in your <code>PATH</code> variable, the rest of this guide should work just fine.</p>","title":"Required"},{"location":"developing/local/#starting-it-up","text":"<p>With the above requirements installed. You should be able to spin up the local development environment that runs inside of Docker compose.</p> Shell<pre><code>make develop\n</code></pre> <p>This will install node modules in the project's directory, as well as start up the containers needed for monetr to run locally. This command will exit automatically once all the containers are healthy. If you want to follow along while it is starting up you can use the <code>make logs</code> command in another terminal inside the project directory.</p>","title":"Starting It Up"},{"location":"developing/local/#working","text":"<p>Congratulations, you should now have monetr running locally on your computer. The <code>develop</code> task will print out some basic information for you. But if you missed it, you can access the development version of monetr at <code>http://localhost</code>.</p> <p>If you are working on documentation then that can be accessed at <code>http://localhost/documentation</code>.</p> <p>Almost all of monetr's code is setup to hot-reload as you make changes. The documentation, Go code and React UI will all automatically reload as changes are made. Changes to the Go code will not invoke a browser refresh of any sort though, so to observe a new behavior in the API you will need to refresh or make the API call again.</p>","title":"Working"},{"location":"developing/local/#debugging","text":"<p>The monetr container running the API has delve included. If you prefer to work using a step-debugger you can connect your editor to it. You will need to reconnect your editor each time it reloads, but it is very easy to make your changes and then hit debug and let your breakpoints be hit.</p> <p>Delve is available via port <code>2345</code> on <code>localhost</code>. I'm not sure what the configuration will be for every editor to connect to it; but this is a screenshot of IntellJ IDEA's configuration for remote debugging.</p> <p></p>","title":"Debugging"},{"location":"developing/local/#running-tests","text":"<p>monetr requires a PostgreSQL instance to be available for Go tests to be run. At the moment there isn't a shorthand script to provision this instance. But an easy way to do so is this:</p> Shell<pre><code>docker run -e POSTGRES_HOST_AUTH_METHOD=trust --name postgres --rm -d -p 5432:5432 postgres:14\n</code></pre> <p>This will start a PostgreSQL instance in Docker (or remove an existing one) and make it available on <code>locahost:5432</code> as well as not require authentication. This makes it easy for tests to target it.</p> <p>If tests are run via <code>make</code> then nothing more needs to be done. However, if you want to run tests directly from your editor or other tools you will need to run the database migrations.</p> Shell<pre><code>make migrate\n</code></pre> <p>Will run all schema migrations on the PostgreSQL database on your localhost container.</p>  <p>Tests can be run using the <code>go test</code> CLI, or all tests can be run using:</p> Shell<pre><code>make test\n</code></pre>","title":"Running Tests"},{"location":"developing/local/#cleaning-up","text":"<p>Once you have finished your work and you want to take the local development environment down you have a few options.</p>","title":"Cleaning Up"},{"location":"developing/local/#stopping","text":"<p>Stopping allows you to keep the data you have in your development environment for later and come back to it. This can be helpful if you are working on a larger feature or bug. But overall it is recommended to completely wipe and re-provision your development environment each time you start working on something. This keeps the development environment tidy, but does have the downside of not introducing edge cases that might otherwise be harder to find. You can pause your development environment by running:</p> Shell<pre><code>make stop\n</code></pre> <p>This will stop all of the Docker containers that were started, but will not remove any of their data. When you are ready you can start the containers again with the following command.</p> Shell<pre><code>make start\n</code></pre>","title":"Stopping"},{"location":"developing/local/#completely-clean-up","text":"<p>If you want to completely shut everything down { .annotate } then you can run the following command:</p> Shell<pre><code>make clean\n</code></pre> <p>This removes the Plaid links that are active, takes down the Docker compose containers, removes their volumes, and removes all temporary directories and generated code in the project directory. It might miss a few things, but this should essentially return the project directory to a state akin to having freshly cloned it.</p> <ol> <li>This will delete all of your local development data, including any Plaid links, expenses, goals, etc...</li> </ol>","title":"Completely Clean up"},{"location":"developing/api/resources/","text":"<p>Available resources for the monetr REST API.</p>    Resource Available endpoints     Authentication <code>/api/authenication/login</code>, <code>/api/authentication/logout</code>, <code>/api/authentication/register</code>   Bank Accounts <code>/api/bank_accounts</code>   Funding Schedules <code>/api/bank_accounts/:bankAccountId/funding_schedules</code>   Links <code>/api/links</code>   Plaid Links <code>/api/plaid/token/new</code>, <code>/api/plaid/token/callback</code>   Spending <code>/api/bank_accounts/:bankAccountId/spending</code>   Transactions <code>/api/bank_accounts/:bankAccountId/transactions</code>   User <code>/api/users/me</code>","title":"REST API Resources"},{"location":"developing/api/resources/authentication/","text":"<p>Authentication resources for monetr's REST API.</p> <p>Authentication is primarily broken up into three objects. Logins, users, and accounts. Each of these objects are different from each other, but all of them are related. Logins are used to represent a single person's credentials for accessing monetr, as well as some of their basic information like their name. Users are a child object of logins, and a single login can have multiple users. Users are tied to a single account. Accounts are how all data is separated inside the application. When you create a Plaid Link or expenses, or other budgeting items. They are created at an account level. Your login tells us what users represent you, and those users tell us what accounts you have access to.</p> <pre><code>classDiagram\n    Login --&gt; \"many\" User : Can have\n    User \"1\" --&gt; \"1\" Account : Associated with\n    class Login{\n      +int loginId\n      +String email\n      +String firstName\n      +String lastName\n    }\n    class User{\n      +int userId\n      +int loginId\n      +int accountId\n    }\n    class Account{\n      +int accountId\n    }</code></pre>  Note <p>At the moment logins are limited to a single user. This is a software constraint for now. The design to allow logins access to multiple users was to allow (in the future) people to have shared access to an account. Such as with a spouse.</p>","title":"Authentication"},{"location":"developing/api/resources/authentication/#login","text":"<p>Provide login credentials to authenticate a user. This API will not respond with a token in the body. It stores the token in an HTTP only cookie to prevent it from being accessible from Javascript code in the browser. If the credentials are valid then you will receive a <code>200 OK</code> status code in the response.</p> HTTP<pre><code>POST /api/authentication/login\n</code></pre>","title":"Login"},{"location":"developing/api/resources/authentication/#request-body","text":"Attribute Type Required Description     <code>email</code> string yes The email address associated with the desired login.   <code>password</code> string yes The login password. Passwords must be at least 8 characters.   <code>captcha</code> string no * By default this field is not required, but if captcha is enabled then this field will be required. It should be the resulting value of a ReCAPTCHA challenge.   <code>totp</code> string no Not yet fully implemented, but will be used to provide TOTP codes for the user during the authentication flow.","title":"Request Body"},{"location":"developing/api/resources/authentication/#response-body","text":"Attribute Type Required Description     <code>isActive</code> bool yes Used as an indicator for whether or not the current user's subscription is active. If billing is disabled this is always true.   <code>nextUrl</code> string no If the API needs to direct a user to a certain path after authenticating, this field will be present. This is intended to be used for on-boarding or for billing flows.     Note <p>When the request is successful the response body is pretty minimal. User details should be retrieved using a follow  up request to Get Me</p>","title":"Response Body"},{"location":"developing/api/resources/authentication/#login-examples","text":"Example Login Request<pre><code>curl --request POST \\\n  --url \"https://my.monetr.app/api/authentication/login\" \\\n  --header \"content-type: application/json\" \\\n  --data '{\n    \"email\": \"email@example.com\",\n    \"password\": \"superSecureP@ssw0rd\"\n}'\n</code></pre>","title":"Login Examples"},{"location":"developing/api/resources/authentication/#successful","text":"<p>If the credentials provided are valid and there is nothing else to be done, then the response will simply be this.</p> 200 Ok<pre><code>{\n  \"isActive\": true\n}\n</code></pre>","title":"Successful"},{"location":"developing/api/resources/authentication/#subscription-is-not-active","text":"<p>If the subscription for the authenticated user is not active (or if there is no subscription at all), then the response body will contain a path indicating to the UI what the next URL should be.</p> 200 Ok<pre><code>{\n  \"isActive\": false,\n  \"nextUrl\": \"/account/subscribe\"\n}\n</code></pre>","title":"Subscription is not active"},{"location":"developing/api/resources/authentication/#login-errors","text":"","title":"Login Errors"},{"location":"developing/api/resources/authentication/#invalid-credentials","text":"<p>If the credentials provided are not valid you will receive the following response body:</p> 401 Unauthorized<pre><code>{\n  \"error\": \"invalid email and password\"\n}\n</code></pre>","title":"Invalid Credentials"},{"location":"developing/api/resources/authentication/#email-is-not-verified","text":"<p>If email verification is required by the server, then it is possible to get a login failure response even with valid credentials. If the credentials provided are valid, but the login's email is not verified yet; then you will receive the following response.</p> 428 Precondition Required<pre><code>{\n  \"error\": \"email address is not verified\",\n  \"code\": \"EMAIL_NOT_VERIFIED\"\n}\n</code></pre>","title":"Email is not verified"},{"location":"developing/api/resources/authentication/#mfa-is-required","text":"<p>That is not the only error that can result in a <code>428</code> status code, if the user requires MFA you will receive the same status code upon providing valid credentials. But the code in the error body will be different and represent what action needs to be taken by the user.</p> 428 Precondition Required<pre><code>{\n  \"error\": \"login requires MFA\",\n  \"code\": \"MFA_REQUIRED\"\n}\n</code></pre>","title":"MFA is required"},{"location":"developing/api/resources/authentication/#logout","text":"<p>Because cookies are HTTP only, there is no way to remove the cookies from our UI code. Instead, we have a logout endpoint that removes the cookies.</p> HTTP<pre><code>GET /api/authentication/logout\n</code></pre>","title":"Logout"},{"location":"developing/api/resources/authentication/#logout-examples","text":"Example Login Request<pre><code>curl --request GET \\\n  --url \"https://my.monetr.app/api/authentication/logout\"\n</code></pre> <p>Logout does not return an error if the cookie is not present, it will always return a <code>200</code> status code with an empty response body.</p>","title":"Logout Examples"},{"location":"developing/api/resources/authentication/#register","text":"<p>New users can register for monetr using this endpoint. It can be configured to require ReCAPTCHA to reduce the likelihood that the endpoint will be spammed. Even in self-hosted deployments, it will require a valid email address is used. 1 Registering will create a new login, user, and account using the provided details.</p> <p>If billing is enabled on the server, your email address will be used to create a Stripe customer. Stripe is used to manage subscriptions and this way Stripe has a way to contact you or vice versa if needed.</p> HTTP<pre><code>POST /api/authentication/register\n</code></pre>","title":"Register"},{"location":"developing/api/resources/authentication/#request-body_1","text":"Attribute Type Required Description     <code>email</code> string yes The email address associated with the desired login.   <code>password</code> string yes The login password. Passwords must be at least 8 characters. Leading and trailing spaces are trimmed from the password.   <code>firstName</code> string yes By default this field is not required, but if captcha is enabled then this field will be required. It should be the resulting value of a ReCAPTCHA challenge.   <code>lastName</code> string yes Not yet fully implemented, but will be used to provide TOTP codes for the user during the authentication flow.   <code>timezone</code> string yes The timezone you want your account to be configured for.   <code>captcha</code> string no * Can be required if ReCAPTCHA is enabled on the server.   <code>betaCode</code> string no * Can be required if the server requires an access code to create an account.   <code>agree</code> bool yes Used to denote that the user has agreed to the terms of use for monetr.","title":"Request Body"},{"location":"developing/api/resources/authentication/#response-body_1","text":"Attribute Type Required Description     <code>message</code> string no If the user needs to verify their email then this will contain a message that can be presented to the user.   <code>requireVerification</code> bool yes If the server requires that the login's email is verified, the fields below this will be omitted in the response body and this will be true. If this is false then the user does not need to verify their email.   <code>nextUrl</code> string no If the API requires that the user take some on-boarding action, such as setting up a subscription. There will be a path provided here for the user to be redirected to.   <code>user</code> User no If email verification is not required by the server then the newly created user object will be present in the response.   <code>isActive</code> bool no Indicated whether or not the user is active, for servers that require billing this will be false initially.","title":"Response Body"},{"location":"developing/api/resources/authentication/#register-examples","text":"Example Register Request<pre><code>curl --request POST \\\n  --url \"https://my.monetr.app/api/authentication/register\" \\\n  --header \"content-type: application/json\" \\\n  --data '{\n    \"email\": \"email@example.com\",\n    \"password\": \"superSecureP@ssw0rd\",\n    \"firstName\": \"Elliot\",\n    \"lastName\": \"Courant\",\n    \"timezone\": \"America/Chicago\",\n    \"agree\": true\n}'\n</code></pre>","title":"Register Examples"},{"location":"developing/api/resources/authentication/#successful_1","text":"<p>If the registration was successful and email verification is not necessary then you'll see a response body similar to the following.</p> 200 Ok<pre><code>{\n  \"nextUrl\": \"/setup\",\n  \"user\": {\n    \"loginId\": 1234,\n    \"accountId\": 1235,\n    \"userId\": 1236,\n    \"login\": {\n      \"loginId\": 1234,\n      \"firstName\": \"Elliot\",\n      \"lastName\": \"Courant\",\n    },\n    \"account\": {\n      \"accountId\": 1235,\n      \"timezone\": \"America/Chicago\"\n    }\n  },\n  \"isActive\": true,\n  \"requireVerification\": false\n}\n</code></pre>","title":"Successful"},{"location":"developing/api/resources/authentication/#email-verification-required","text":"<p>If the registration succeeds, but we need to verify the login's email address.</p> 200 Ok<pre><code>{\n  \"message\": \"A verification email has been sent to your email address, please verify your email.\",\n  \"requireVerification\": true\n}\n</code></pre>   <ol> <li> <p>Email addresses are not used to send people content unprompted. Email addresses provide a reliable way to assure uniqueness in users, as well as a way to contact them for things like billing and resetting forgotten passwords. For self-hosted deployments, it is not required that the email address used be one that can actually receive emails. However, this will limit your ability to easily reset forgotten passwords at this time.\u00a0\u21a9</p> </li> </ol>","title":"Email verification required"},{"location":"developing/api/resources/bank_accounts/","text":"","title":"Bank Accounts"},{"location":"developing/api/resources/funding_schedules/","text":"<p>Funding schedules are used to tell monetr when to allocate funds to spending objects. They represent the frequency that you are paid; or the frequency that you would like to allocate funds to things you are budgeting for. Funding schedules are specific to a single bank account and must have a unique name within a bank account.</p>","title":"Funding Schedules"},{"location":"developing/api/resources/funding_schedules/#create-funding-schedule","text":"<p>Create a funding schedule by providing some basic information about when the funding schedule will occur next as well as how frequently it occurs.</p> HTTP<pre><code>POST /api/bank_accounts/{bankAccountId}/funding_schedules\n</code></pre>","title":"Create Funding Schedule"},{"location":"developing/api/resources/funding_schedules/#request-path","text":"Attribute Type Required Description     <code>bankAccountId</code> number yes The ID of the bank account this new funding schedule should belong to.","title":"Request Path"},{"location":"developing/api/resources/funding_schedules/#request-body","text":"Attribute Type Required Description     <code>name</code> string yes The name of the new funding schedule. For a given <code>bankAccountId</code> this value must be unique.   <code>rule</code> string yes The RRule representing how the funding schedule should occur. See RFC5545. Examples:  - The 15th and last day of every month: <code>FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1</code>  - Every other friday: <code>FREQ=WEEKLY;INTERVAL=2;BYDAY=FR</code>  - Every friday: <code>FREQ=WEEKLY;INTERVAL=1;BYDAY=FR</code>   <code>description</code> string no The description of the funding schedule, this can be anything you want; but in the UI this is auto filled to be a string of the RRule. For example; <code>The 15th and Last day of every month</code>   <code>excludeWeekends</code> bool no  Exclude weekends will adjust the occurrence dates if they were to fall on a weekend. It will set the date to be the closest previous business day. This will not impact the frequency of the funding schedule.   <code>nextOccurrence</code> datetime no You can provide the next occurrence date in the create request, this date will be used on subsequence recurrences to determine the following contribution dates. For rules that have static dates defined like the 15th and last day of the month, this will not affect subsequent recurrences. But for rules that can be more loose, like every other friday; this will determine which \"every other\" friday it is.","title":"Request Body"},{"location":"developing/api/resources/funding_schedules/#response-body","text":"Attribute Type Required Description     <code>fundingScheduleId</code> number yes The unique identifier for the funding schedule you created. This is globally unique within monetr.   <code>bankAccountId</code> number yes This will be the value of the <code>bankAccountId</code> parameter you provided in the API path, and is included on <code>GET</code> requests as well.   <code>name</code> string yes The name of the funding schedule provided by you, if there were leading or trailing spaces they will have been trimmed.   <code>description</code> string no If a description was provided then it will be present here.   <code>rule</code> string yes The RRule provided when the funding schedule was created.   <code>excludeWeekends</code> bool yes If a value was provided in the create request, it will be present here; otherwise this will be <code>false</code>.   <code>nextOccurrence</code> datetime yes If you provided a date time and it was in the future, that will be used for the next occurrence. If one was not provided, then this value will be calculated using the <code>rule</code> field and the current timestamp.","title":"Response Body"},{"location":"developing/api/resources/funding_schedules/#create-funding-schedule-examples","text":"Example Create Funding Schedule Request<pre><code>curl --request POST \\\n  --url \"https://my.monetr.app/api/bank_accounts/123/funding_schedules\" \\\n  --header \"content-type: application/json\" \\\n  --data '{\n    \"name\": \"Payday\",\n    \"description\": \"The 15th and Last day of every month\",\n    \"rule\": \"FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1\",\n    \"excludeWeekends\": false,\n    \"nextOccurrence\": \"2022-05-31T00:00:00-06:00\"\n}'\n</code></pre>","title":"Create Funding Schedule Examples"},{"location":"developing/api/resources/funding_schedules/#successful","text":"<p>If the funding schedule was created successfully, then you'll receive the created object back.</p> 200 Ok<pre><code>{\n  \"fundingScheduleId\": 44,\n  \"bankAccountId\": 123,\n  \"name\": \"Payday\",\n  \"description\": \"The 15th and the Last day of every month\",\n  \"rule\": \"FREQ=MONTHLY;INTERVAL=1;BYMONTHDAY=15,-1\",\n  \"excludeWeekends\": false,\n  \"nextOccurrence\": \"2022-05-31T00:00:00-06:00\"\n}\n</code></pre>","title":"Successful"},{"location":"developing/api/resources/institutions/","text":"","title":"Institutions"},{"location":"developing/api/resources/links/","text":"","title":"Links"},{"location":"developing/api/resources/plaid_links/","text":"<p>Plaid Links are supporting resources behind the normal Link resource. They provide a way to retrieve real transaction and balance data from a person's bank account using Plaid's API. These endpoints expose some basic functionality for interacting with Plaid Links through monetr's API rather than with Plaid directly.</p>","title":"Plaid Links"},{"location":"developing/api/resources/plaid_links/#new-plaid-link-token","text":"<p>In order to connect a user's account with Plaid and thus their bank account, you need to create a link token. This token is then used by the Plaid SDK in the UI in order to provide an authentication flow for that user and their bank.</p> <p>Under the hood, monetr is making a call to Create Link Token.</p> HTTP<pre><code>GET /api/plaid/token/new\n</code></pre>","title":"New Plaid Link Token"},{"location":"developing/api/resources/plaid_links/#request-query-parameters","text":"Attribute Type Required Description     <code>use_cache</code> bool false If true then the endpoint will not try to create another link token if one has already been created for the current user and has not been completed. This is used to reduce the number of API calls made to Plaid. It is recommended to use <code>true</code> for this. The endpoint will never return a Link token that has already been used.","title":"Request Query Parameters"},{"location":"developing/api/resources/plaid_links/#response-body","text":"Attribute Type Required Description     <code>linkToken</code> string yes The link token created from Plaid, this can be used with the Plaid SDK to authenticate a user's bank account.","title":"Response Body"},{"location":"developing/api/resources/plaid_links/#new-link-token-examples","text":"Example New Link Token Request<pre><code>curl --request GET \\\n  --url \"https://my.monetr.app/api/plaid/token/new\"\n</code></pre>","title":"New Link Token Examples"},{"location":"developing/api/resources/plaid_links/#successful","text":"<p>If the user has not reached their limit for links 1 then they will receive a link token in the response and nothing else.</p> 200 Ok<pre><code>{\n  \"linkToken\": \"link-sandbox-af1a0311-da53-4636-b754-dd15cc058176\"\n}\n</code></pre>","title":"Successful"},{"location":"developing/api/resources/plaid_links/#new-link-errors","text":"","title":"New Link Errors"},{"location":"developing/api/resources/plaid_links/#link-limit-reached","text":"400 Bad Request<pre><code>{\n  \"error\": \"max number of Plaid links already reached\"\n}\n</code></pre>","title":"Link Limit Reached"},{"location":"developing/api/resources/plaid_links/#plaid-api-failure-or-other-failure","text":"500 Internal Server Error<pre><code>{\n  \"error\": \"failed to create link token\"\n}\n</code></pre>","title":"Plaid API failure or other failure"},{"location":"developing/api/resources/plaid_links/#plaid-token-callback","text":"<p>Once the user has completed authenticating their bank account using the Plaid SDK, you will be given a <code>public_token</code>. This new token must be exchanged with Plaid's API in order to allow monetr to access the bank data. The bank account should not be considered linked until this token is successfully exchanged2.</p>  Note <p> Self-Hosted</p> <p>If webhooks are not enabled on the monetr server, then a job to retrieve transactions from Plaid will immediately be kicked off once the token has successfully been exchanged. This job will only attempt to retrieve the last 7 days of transactions from Plaid.</p>  HTTP<pre><code>POST /api/plaid/token/callback\n</code></pre>","title":"Plaid Token Callback"},{"location":"developing/api/resources/plaid_links/#request-body","text":"Attribute Type Required Description     <code>publicToken</code> string yes The <code>public_token</code> you received from the Plaid Link flow via the SDK.   <code>institutionId</code> string yes The Plaid <code>institution_id</code>, the API will not return an error if this is not provided (TODO). But it is required in order for the API to function properly.   <code>institutionName</code> string yes The name of the institution as provided by the Plaid SDK. This is used as the initial name for the link until the user decides to rename it.   <code>accountIds</code> []string yes An array of Plaid bank account IDs, this should be the list of IDs that the user selected when they were going through the link process.","title":"Request Body"},{"location":"developing/api/resources/plaid_links/#response-body_1","text":"Attribute Type Required Description     <code>linkId</code> integer yes The ID of the newly created link for the Plaid connection.     Attention <p>There is an additional field in the response body called <code>success</code>. This field is not present if the request fails and is only present if it succeeds. The status of the request is already indicated properly using the status code of the response. This field should not be used, it will be removed in the future. </p>","title":"Response Body"},{"location":"developing/api/resources/plaid_links/#plaid-token-callback-examples","text":"Example Plaid Token Callback Request<pre><code>curl --request POST \\\n  --url \"https://my.monetr.app/api/plaid/token/callback\" \\\n  --header \"content-type: application/json\" \\\n  --data '{\n    \"publicToken\": \"public-sandbox-5c224a01-8314-4491-a06f-39e193d5cddc\",\n    \"institutionId\": \"ins_1\",\n    \"institutionName\": \"A Banks Name\",\n    \"accountIds\": [\n      \"BxBXxLj1m4HMXBm9WZZmCWVbPjX16EHwv99vp\",\n      \"lPNjeW1nR6CDn5okmGQ6hEpMo4lLNoSrzqDje\"\n    ]\n}'\n</code></pre>","title":"Plaid Token Callback Examples"},{"location":"developing/api/resources/plaid_links/#successful_1","text":"<p>If monetr is able to exchange the public token successfully, then you will receive a successful response with the newly created Link ID (1). </p> <ol> <li>The Link ID is not a unique identifier for Plaid, it is monetr's internal unique identifier.</li> </ol> 200 Ok<pre><code>{\n  \"linkId\": 1234\n}\n</code></pre>","title":"Successful"},{"location":"developing/api/resources/plaid_links/#plaid-token-callback-errors","text":"","title":"Plaid Token Callback Errors"},{"location":"developing/api/resources/plaid_links/#no-public-token-provided","text":"<p>You must provide a public token to create a Plaid link, there is no other way to authenticate a bank account through Plaid.</p> 400 Bad Request<pre><code>{\n  \"error\": \"must provide a public token\"\n}\n</code></pre>","title":"No public token provided"},{"location":"developing/api/resources/plaid_links/#no-accounts-provided","text":"<p>If you do not provide any Plaid bank account IDs then the API will not attempt to exchange the provided public token.</p> 400 Bad Request<pre><code>{\n  \"error\": \"must select at least one account\"\n}\n</code></pre>","title":"No accounts provided"},{"location":"developing/api/resources/plaid_links/#plaid-api-failure-or-other-failure_1","text":"500 Internal Server Error<pre><code>{\n  \"error\": \"failed to exchange token\"\n}\n</code></pre>   <ol> <li> <p>monetr can be configured to limit the number of links an account can have. This is for those using development credentials. If you intend to self-host monetr and let friends and/or family use it, it is recommended that you limit how many links someone can have to prevent someone from adding many links to their account and using up your limited number of development links.\u00a0\u21a9</p> </li> <li> <p>If you fully authenticate a bank account, but you never exchange the <code>public_token</code> for that authenticated bank account. It should not affect the number of accounts linked for development credentials.\u00a0\u21a9</p> </li> </ol>","title":"Plaid API failure or other failure"},{"location":"developing/api/resources/spending/","text":"","title":"Spending"},{"location":"developing/api/resources/transactions/","text":"","title":"Transactions"},{"location":"developing/api/resources/user/","text":"<p>User resources for monetr's REST API.</p>","title":"User"},{"location":"developing/api/resources/user/#get-me-current-user","text":"<p>Retrieve information about the currently authenticated user. In the UI this API endpoint is also used to determine if there is a currently authenticated user. Because authentication is stored in HTTP only cookies there is no way for the UI to see if the cookie is present, so upon bootstrapping it makes an API call to this endpoint to determine if there is an authenticated user.</p> HTTP<pre><code>GET /api/users/me\n</code></pre>","title":"Get Me (Current User)"},{"location":"help/","text":"<p>This is monetr's help section, it contains documents on various areas of the monetr application. Some functionality will vary between self-hosted and the hosted versions of monetr. These differences are denoted using  to represent self-hosted specific features or scenarios, and  to designate hosted features.</p>","title":"Help"},{"location":"help/onboarding/","text":"<p>This article will walk you through signing up for monetr as well as getting the first few things set up.</p>","title":"Getting Started"},{"location":"help/onboarding/#setting-up-your-subscription-hosted","text":"<p>The hosted version of monetr does require a subscription; to that end we use  Stripe to manage these subscriptions. It allows us to offer our application to you without needing to store any payment information even partially in our own application. When you first sign in, you will be redirected to a payment portal inside of Stripe's application. The portal will look similar to this if it is your first time setting up a subscription.</p> <p></p> <p>To continue to the monetr app you will need to provide payment details here. If you want to provide them later you can use the \"back\" button in the upper left-hand corner to return to the monetr login screen.</p>","title":"Setting up your subscription  (Hosted)"},{"location":"help/onboarding/#your-first-bank-account","text":"<p>Initially you won't have any bank accounts linked with monetr. In the future we do plan to support manual bank accounts which do not require a Plaid link at all. But at the moment we do require that Plaid is used to connect to a bank account to retrieve data.</p> <p></p> <p>When you first sign up for monetr you will be presented with an initial setup screen. You will be prompted to link a bank account using Plaid. For the easiest setup, we recommend linking the account that you use day-to-day. As this account will be the one with the most things to budget for. It's easier to add other accounts later once you have a good understanding of how the application works.</p> <p></p> <p>You can select your bank from the list in Plaid, or search for it using the search box at the top of the dialog. Once you have selected your bank you will be prompted for your bank account credentials.</p>  Note <p>Plaid supports many banks through their service, and makes it easy for us to safely read basic information in a way  that is secure. Our connection to your bank account through Plaid is completely read-only. We cannot access your  funds, or any sensitive information about your bank account. We can see your account balance, and the transactions  for that account. But nothing else.</p>  <p></p> <p>Once you have authenticated your bank, you will be given the option to select which accounts monetr will have access to. It is recommended to select your primary checking account as well as maybe a savings account if you wish to setup some goals for it.</p> <p></p> <p>Plaid will take a moment to perform the link, and you will be returned to monetr. It might take a few moments for monetr to load, it is pulling transaction data in the background from Plaid. Once it has completed you will be greeted with this screen.</p> <p></p> <p> You have successfully linked your first bank account with monetr, and you are ready to start planning!</p>","title":"Your first bank account"},{"location":"help/bank_accounts/removing/","text":"<p>Bank accounts can be removed from monetr by going to the accounts screen via the sidebar.</p> <p></p> <p>To remove an account, select the  icon for the bank. A menu will appear with a few options.</p> <p></p> <p>Simply click <code>- Remove</code> to continue.</p>  Danger <p>Removing a bank account that was created by linking with Plaid will remove that link as well. We will no longer be able to see information about that account through Plaid. It will also remove all data from our application for that bank account shortly after confirming its deletion. This includes any transactions, expenses, or goals created for any of the accounts for that bank. This data cannot be recovered.</p>  <p>We will ask you to confirm that you want to remove your bank account. This action cannot be undone.</p> <p></p> <p>Bank accounts and their information are removed in the background. It will immediately be removed from the UI, but if you refresh your page shortly after removing it; you may still see it. However, it will disappear shortly thereafter.</p>","title":"Removing Bank Accounts"}]}