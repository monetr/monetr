(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962],{3292:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/development/local_development",function(){return s(8904)}])},8904:(e,n,s)=>{"use strict";s.r(n),s.d(n,{__toc:()=>a,default:()=>h});var l=s(2540),i=s(1354),o=s(1369);let t={src:"/_next/static/media/IntellJ_IDEA_Go_Debugging.5ce4efa4.png",height:887,width:1081,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAJFBMVEUnJycnJycbGxsfHx8sLi8hISElJSYfHx8pKikkJCQfHx8iIiK+2eDgAAAAC3RSTlP++oZe/rW2OMDBaiJXeEUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAuSURBVHicLcbBDQAgDAOxC20pKPvvixD4ZVbNWbUbhA2BlSk5MJn4RhfBF4ynDx4zAMlTxoypAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7};var r=s(4412);let a=[{depth:2,value:"Prerequisites",id:"prerequisites"},{depth:2,value:"Clone the repository",id:"clone-the-repository"},{depth:2,value:"Dependencies",id:"dependencies"},{depth:3,value:"Required",id:"required"},{depth:3,value:"Optional",id:"optional"},{depth:3,value:"Mac Specific",id:"mac-specific"},{depth:2,value:"Configuration & Credentials",id:"configuration--credentials"},{depth:3,value:"CMake",id:"cmake"},{depth:2,value:"Starting It Up",id:"starting-it-up"},{depth:3,value:"Certificate Problems",id:"certificate-problems"},{depth:2,value:"Working",id:"working"},{depth:3,value:"Local Services",id:"local-services"},{depth:3,value:"Debugging",id:"debugging"},{depth:3,value:"Tests",id:"tests"},{depth:3,value:"Storybook",id:"storybook"},{depth:3,value:"Frontend",id:"frontend"},{depth:3,value:"Documentation",id:"documentation"},{depth:3,value:"Emails",id:"emails"},{depth:2,value:"Cleaning Up",id:"cleaning-up"},{depth:3,value:"Shutting Down Development Environment",id:"shutting-down-development-environment"},{depth:3,value:"Completely Clean up",id:"completely-clean-up"}];function c(e){let n=Object.assign({h1:"h1",p:"p",h2:"h2",a:"a",pre:"pre",code:"code",span:"span",h3:"h3",ul:"ul",li:"li",strong:"strong",em:"em",img:"img",hr:"hr"},(0,o.R)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{children:"Local Development"}),"\n",(0,l.jsx)(n.p,{children:"This guide walks you through setting up a local development environment for monetr on macOS or Linux. If you are using\nWindows, it is still possible to run the development environment locally. However, it is not documented at this time."}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.p,{children:["At the time of writing this, monetr requires Plaid credentials for development. Among other credentials, documentation\non how to retrieve them can be found here: ",(0,l.jsx)(n.a,{href:"credentials",children:"Credentials"})]}),"\n",(0,l.jsx)(n.h2,{id:"clone-the-repository",children:"Clone the repository"}),"\n",(0,l.jsxs)(n.p,{children:["To get started, clone the monetr repository from ",(0,l.jsx)(n.a,{href:"https://github.com/monetr/monetr",children:"GitHub"})," or from your fork."]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsxs)(n.code,{"data-language":"shell","data-theme":"default",children:[(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"clone"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"https://github.com/monetr/monetr.git"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"cd"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"monetr"})]})]})}),"\n",(0,l.jsx)(n.p,{children:"The rest of the commands in this guide are issued from this directory."}),"\n",(0,l.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,l.jsx)(n.p,{children:"monetr does require a few tools to be installed locally in order to develop or build it. These tools are outlined below:"}),"\n",(0,l.jsx)(n.h3,{id:"required",children:"Required"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Node (",(0,l.jsx)(n.code,{children:">= 18.0.0"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["npm (",(0,l.jsx)(n.code,{children:">= 8.0.0"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["git (",(0,l.jsx)(n.code,{children:">= 2.0.0"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Go (",(0,l.jsx)(n.code,{children:">= 1.21.9"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["CMake (",(0,l.jsx)(n.code,{children:">= 3.23.0"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["GNUMake (",(0,l.jsx)(n.code,{children:">= 4.0"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["gcc (",(0,l.jsx)(n.code,{children:">= 12"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The tools above are the minimum tools required in order to build and work on monetr locally. But if you intend to run\nthe complete development environment locally or if you plan on creating release builds of monetr you will also need:"}),"\n",(0,l.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Docker (",(0,l.jsx)(n.code,{children:">= 20.0.0"}),"): Docker (and Docker Compose) are used to run the local development environment for monetr,\nallowing you to have the entire application and all of it's features with hot-reloading."]}),"\n",(0,l.jsxs)(n.li,{children:["Ruby (",(0,l.jsx)(n.code,{children:">= 2.7"}),"): Ruby is required to run ",(0,l.jsx)(n.code,{children:"licensed"})," which is used to generate third-party-notice files, these show all\nof the dependencies of monetr and their licenses. This is embeded at build time for releases."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"mac-specific",children:"Mac Specific"}),"\n",(0,l.jsxs)(n.p,{children:["macOS can ship with a version of ",(0,l.jsx)(n.code,{children:"make"})," that is outdated. It is recommended that you use ",(0,l.jsx)(n.code,{children:"brew"})," or any other preferred\nmethod to install the most recent version of ",(0,l.jsx)(n.strong,{children:"GNUMake"})," on your Mac. This will not break anything that is already using\nmake, but will make sure that your version is compatible with the monetr Makefiles."]}),"\n",(0,l.jsx)(n.p,{children:"For example; you should see something like this for your make version."}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsxs)(n.code,{"data-language":"shell","data-theme":"default",children:[(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-v"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# GNU Make 4.3"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Built for x86_64-apple-darwin20.1.0"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Copyright (C) 1988-2020 Free Software Foundation, Inc."})})]})}),"\n",(0,l.jsx)(n.h2,{id:"configuration--credentials",children:"Configuration & Credentials"}),"\n",(0,l.jsxs)(n.p,{children:["At the moment monetr requires at least Plaid credentials in order to run properly, even for development. You can read\nmore about obtaining these credentials here: ",(0,l.jsx)(n.a,{href:"credentials",children:"Credentials"})]}),"\n",(0,l.jsx)(n.p,{children:"The makefile will look for these development credentials and some configuration options in the following path:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"monetr development env file",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"$HOME/.monetr/development.env"})})})}),"\n",(0,l.jsx)(n.p,{children:"You can create the file manually like this:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Manually creating the development env file",children:(0,l.jsxs)(n.code,{"data-language":"shell","data-theme":"default",children:[(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"mkdir"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" $HOME"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/.monetr"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"touch"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" $HOME"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/.monetr/development.env"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"vim"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" $HOME"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"/.monetr/development.env"})]})]})}),"\n",(0,l.jsxs)(n.p,{children:["Once you've opened this file you'll need to provide the Plaid Client ID as ",(0,l.jsx)(n.code,{children:"PLAID_CLIENT_ID"})," and Plaid Client Secret as\n",(0,l.jsx)(n.code,{children:"PLAID_CLIENT_SECRET"})," here."]}),"\n",(0,l.jsx)(n.p,{children:"Please do not store credentials in the project directory for monetr, it is much easier to accidentally commit secrets to\ngit when they are in your project directory. Keeping sensitive development credentials outside of the project makes it\nmuch harder to accidentally push them to a public repository."}),"\n",(0,l.jsx)(n.h3,{id:"cmake",children:"CMake"}),"\n",(0,l.jsxs)(n.p,{children:["monetr uses CMake as the primary build system, it is also used for running the tasks for local development. If you want\nto use a custom CMake configuration you can create a ",(0,l.jsx)(n.code,{children:"CMakeUserPresets.json"})," file in the project directory (it will be\nignored by Git) and populate it with the configuration variables you want to override. If you want to always use a\nspecific preset when running general make targets you can create a ",(0,l.jsx)(n.code,{children:".cmakepreset"})," file in the project directory. Inside\nthat file you can put the name of the preset you want to use by default. Or you can pass ",(0,l.jsx)(n.code,{children:"CMAKE_PRESET=..."})," when running\na make target."]}),"\n",(0,l.jsx)(r.Pq,{type:"info",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"CMAKE_PRESET"})," is ignored for some make targets, such as ",(0,l.jsx)(n.code,{children:"release"})," and ",(0,l.jsx)(n.code,{children:"test"}),". As each of those targets have a\nspecific preset that they are expected to use."]})}),"\n",(0,l.jsx)(n.p,{children:"Here is a sample of a user presets file with a few customized options:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"json","data-theme":"default",filename:"CMakeUserPresets.json",children:(0,l.jsxs)(n.code,{"data-language":"json","data-theme":"default",children:[(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"version"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"5"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"cmakeMinimumRequired"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"major"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"minor"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"23"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"patch"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"configurePresets"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ["})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    {"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"developer"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"displayName"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Developer\'s custom config"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"description"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Customized configuration for developer"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"generator"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Unix Makefiles"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"binaryDir"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"${sourceDir}/build"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"cacheVariables"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"BUILD_THIRD_PARTY_NOTICE"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"OFF"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"CMAKE_BUILD_TYPE"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Debug"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"MONETR_LOCAL_DOMAIN"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"monetr.local"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"MONETR_EMAIL_VERIFICATION_ENABLED"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"true"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"MONETR_KMS_PROVIDER"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"vault"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"MONETR_STORAGE_PROVIDER"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"s3"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"MONETR_DEVELOPMENT_LITE_TARGET"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"my.monetr.dev"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"DISABLE_GO_RELOAD"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"false"'})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      }"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  ]"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"buildPresets"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ["})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    {"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"name"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"developer"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:'"configurePreset"'}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"developer"'})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  ]"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,l.jsx)(n.p,{children:"This config specifically changes the following options:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MONETR_EMAIL_VERIFICATION_ENABLED"}),": By setting this to true the developer is required to use the local SMTP server to\nverify their email address when creating a new user. Valid values are ",(0,l.jsx)(n.code,{children:"true"})," or ",(0,l.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MONETR_KMS_PROVIDER"}),": As configured, enables a local instance of ",(0,l.jsx)(n.a,{href:"https://www.vaultproject.io/",children:"Hashicorp Vault"})," as\nwell as configures monetr to use Vault Transit for secret encryption and decryption. Valid values are ",(0,l.jsx)(n.code,{children:"plaintext"}),",\n",(0,l.jsx)(n.code,{children:"aws"})," or ",(0,l.jsx)(n.code,{children:"vault"}),". ",(0,l.jsx)(n.strong,{children:"Note:"})," The AWS setting runs a local KMS service compatible with AWS KMS's API."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MONETR_STORAGE_PROVIDER"}),": A minio instance will be run as part of the local development stack. Valid values are ",(0,l.jsx)(n.code,{children:"s3"}),"\nor ",(0,l.jsx)(n.code,{children:"filesystem"}),". When using ",(0,l.jsx)(n.code,{children:"filesystem"})," uploaded files will be stored in your ",(0,l.jsx)(n.code,{children:"$PWD/build/development/storage"}),"\nfolder."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"MONETR_DEVELOPMENT_LITE_TARGET"}),": When working on monetr's frontend only, specify an API server that you want to use\nfor the frontend to talk to. Requires an account on that API server."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"There are other options here that will be documented later, as well as other options that have not been covered here at\nall, but those options are the primary ones that change the local development stack the most."}),"\n",(0,l.jsx)(n.h2,{id:"starting-it-up",children:"Starting It Up"}),"\n",(0,l.jsx)(n.p,{children:"With the above requirements installed. You should be able to spin up the local development environment that runs inside\nof Docker compose."}),"\n",(0,l.jsxs)(n.p,{children:["This command will also load any of the environment variables specified in the development env file (mentioned above)\ninto the ",(0,l.jsx)(n.code,{children:"monetr"})," container where the API is running."]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"develop"})]})})}),"\n",(0,l.jsxs)(r.Pq,{type:"warning",children:[(0,l.jsxs)(n.p,{children:["This command may prompt you for an administrator password, this is because monetr is using ",(0,l.jsx)(n.code,{children:"mkcert"})," and ",(0,l.jsx)(n.code,{children:"hostess"})," to\nsetup TLS certificates as well as the ",(0,l.jsx)(n.code,{children:"monetr.local"})," domain name in your ",(0,l.jsx)(n.code,{children:"/etc/hosts"})," file."]}),(0,l.jsx)(n.p,{children:"Disabling this will be available in the future, but has been required in order to integrate with Plaid's OAuth2 flow."})]}),"\n",(0,l.jsxs)(n.p,{children:["This will install node modules in the project's directory, as well as start up the containers needed for monetr to run\nlocally. This command will exit automatically once all the containers are healthy. If you want to follow along while it\nis starting up you can use the ",(0,l.jsx)(n.code,{children:"make logs"})," command in another terminal inside the project directory."]}),"\n",(0,l.jsx)(n.h3,{id:"certificate-problems",children:"Certificate Problems"}),"\n",(0,l.jsxs)(n.p,{children:["If you run an issue where your browser is presenting a message like ",(0,l.jsx)(n.code,{children:"net::ERR_CERT_AUTHORITY_INVALID"})," when trying to\nnavigate to ",(0,l.jsx)(n.code,{children:"https://my.monetr.local"})," then please run the following commands in the monetr project directory."]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsxs)(n.code,{"data-language":"shell","data-theme":"default",children:[(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Removes the current mkcert certificates"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"sudo"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"./build/go/bin/mkcert"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-uninstall"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Reinstall the certificates without root"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"./build/go/bin/mkcert"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-install"})]})]})}),"\n",(0,l.jsxs)(n.p,{children:["On Linux you may also need to install ",(0,l.jsx)(n.code,{children:"libnss3-tools"})," before running the mkcert install again."]}),"\n",(0,l.jsx)(n.p,{children:"Once you restart your browser completely, this should correct the issue."}),"\n",(0,l.jsx)(n.h2,{id:"working",children:"Working"}),"\n",(0,l.jsxs)(n.p,{children:["Congratulations, you should now have monetr running locally on your computer. The ",(0,l.jsx)(n.code,{children:"develop"})," task will print out some\nbasic information for you. But if you missed it, you can access the development version of monetr at\n",(0,l.jsx)(n.code,{children:"https://my.monetr.local"}),"."]}),"\n",(0,l.jsx)(n.p,{children:"Almost all of monetr's code is setup to hot-reload as you make changes. The documentation, Go code and React UI will all\nautomatically reload as changes are made. Changes to the Go code will not invoke a browser refresh of any sort though,\nso to observe a new behavior in the API you will need to refresh or make the API call again."}),"\n",(0,l.jsx)(r.Pq,{type:"info",children:(0,l.jsxs)(n.p,{children:["If you want to disable hot reloading of the Go code, you can include ",(0,l.jsx)(n.code,{children:"DISABLE_GO_RELOAD=true"})," in your env variables\nwhen you run ",(0,l.jsx)(n.code,{children:"make develop"}),"."]})}),"\n",(0,l.jsx)(n.h3,{id:"local-services",children:"Local Services"}),"\n",(0,l.jsx)(n.p,{children:"As part of the local development stack, several services are run to support monetr. These services include:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/minio/minio",children:"minio"})," As an S3 storage backend. The console is accessible via\n",(0,l.jsx)(n.code,{children:"https://s3.monetr.local"})," when the local environment is running."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/nsmithuk/local-kms",children:"local-kms"})," An AWS KMS compatible local development API. This is used for\nencrypting secrets in the local development environment."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/axllent/mailpit",children:"Mailpit"})," An SMTP server that allows emails to be sent without really sending\nthem. This is used to validate and test communication functionality locally. This service is accessible via\n",(0,l.jsx)(n.code,{children:"https://mail.monetr.local"})," when the local environment is running."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://www.vaultproject.io/",children:"Vault"})," Vault secret management and encryption, Transit is used by monetr for storing\nsecrets securely. Available at ",(0,l.jsx)(n.code,{children:"https://vault.monetr.local"})," if you have Vault enabled in your user preset."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"debugging",children:"Debugging"}),"\n",(0,l.jsxs)(n.p,{children:["The monetr container running the API has ",(0,l.jsx)(n.a,{href:"https://github.com/go-delve/delve",children:"delve"})," included. If you prefer to work\nusing a step-debugger you can connect your editor to it. You will need to reconnect your editor each time it reloads,\nbut it is very easy to make your changes and then hit ",(0,l.jsx)(n.em,{children:"debug"})," and let your breakpoints be hit."]}),"\n",(0,l.jsxs)(n.p,{children:["Delve is available via port ",(0,l.jsx)(n.code,{children:"2345"})," on ",(0,l.jsx)(n.code,{children:"localhost"}),". I'm not sure what the configuration will be for every editor to\nconnect to it; but this is a screenshot of IntellJ IDEA's configuration for remote debugging."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"IntellJ IDEA Configuration",placeholder:"blur",src:t})}),"\n",(0,l.jsx)(n.h3,{id:"tests",children:"Tests"}),"\n",(0,l.jsx)(n.p,{children:"monetr requires a PostgreSQL instance to be available for Go tests to be run. At the moment there isn't a shorthand\nscript to provision this instance. But an easy way to do so is this:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"run"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-e"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"POSTGRES_HOST_AUTH_METHOD=trust"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--name"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"postgres"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--rm"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-d"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"-p"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"5432"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:":5432"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"postgres:16"})]})})}),"\n",(0,l.jsxs)(n.p,{children:["This will start a PostgreSQL instance in Docker (or remove an existing one) and make it available on ",(0,l.jsx)(n.code,{children:"locahost:5432"})," as\nwell as not require authentication. This makes it easy for tests to target it."]}),"\n",(0,l.jsxs)(n.p,{children:["If tests are run via ",(0,l.jsx)(n.code,{children:"make"})," then nothing more needs to be done. However, if you want to run tests directly from your\neditor or other tools you will need to run the database migrations."]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"migrate"})]})})}),"\n",(0,l.jsx)(n.p,{children:"Will run all schema migrations on the PostgreSQL database on your localhost container."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:["Tests can be run using the ",(0,l.jsx)(n.code,{children:"go test"})," CLI, or all tests can be run using:"]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"test"})]})})}),"\n",(0,l.jsx)(n.h3,{id:"storybook",children:"Storybook"}),"\n",(0,l.jsx)(n.p,{children:"monetr now provides a storybook setup for working on UI components outside of running the entire application locally. To\nstart storybook you can run the following command."}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"develop-storybook"})]})})}),"\n",(0,l.jsx)(n.p,{children:"This will kick off the storybook development server. You can make modifications to the stories locally or components\nused in stories and see the changes reflected with hot-reloading."}),"\n",(0,l.jsx)(n.p,{children:"To build the storybook as a static set of assets, you can run the following command:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"storybook"})]})})}),"\n",(0,l.jsxs)(n.p,{children:["This will output the storybook assets in ",(0,l.jsx)(n.code,{children:"$PWD/build/stories/dist"})]}),"\n",(0,l.jsx)(n.h3,{id:"frontend",children:"Frontend"}),"\n",(0,l.jsx)(n.p,{children:'An alternative to running storybook to work on only the frontend components of monetr is to run a "lite" development\nenvironment. The lite environment only runs the frontend dev server and instead of requiring an active API server and\nadditional services to be running locally, you can instead point the frontend at a desired API server.'}),"\n",(0,l.jsx)(n.p,{children:'To start the "lite" development environment run the following command:'}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"develop-lite"})]})})}),"\n",(0,l.jsxs)(n.p,{children:["This will run the UI dev server locally and the frontend will be available at ",(0,l.jsx)(n.code,{children:"http://localhost:3000"}),". You can now make\nany desired changes to monetr's frontend without needing to run all of the services monetr relies on."]}),"\n",(0,l.jsxs)(n.p,{children:["This development mode defaults to monetr's staging environment (",(0,l.jsx)(n.code,{children:"my.monetr.dev"}),"), which while it is publicly accessible;\nyou are not able to create new accounts on it at this time. If you want to change the API server that the lite\ndevelopment environment is using you can customize the domain name in your ",(0,l.jsx)(n.code,{children:"CMakeUserPresets.json"})," file as noted above\nin the ",(0,l.jsx)(n.a,{href:"#cmake",children:"CMake"})," section."]}),"\n",(0,l.jsx)(r.Pq,{type:"warning",children:(0,l.jsx)(n.p,{children:"Be extremely conscious about what actions you perform in the lite development environment, if you have your\ndevelopment environment pointed at the production instance for example; any actions you take locally will affect\nyour real account. Any data modified or deleted will not be recoverable."})}),"\n",(0,l.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,l.jsx)(n.p,{children:"monetr's documentation is built using Next.js and Nextra, it can be developed locally using the following command:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"develop-docs"})]})})}),"\n",(0,l.jsx)(n.p,{children:"This will setup everything the documentation site needs and run the Next.JS development server locally, you can now make\nchanges to the documentation and see those changes reflected in your browser."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"}),' The "hero" or interface example on the documentation site\'s homepage ',(0,l.jsx)(n.em,{children:"does not work"})," in development mode."]}),"\n",(0,l.jsx)(n.p,{children:"In order to build the complete documentation site as it is hosted online you can run the follow command:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"docs"})]})})}),"\n",(0,l.jsxs)(n.p,{children:["This will compile the documentation and output to ",(0,l.jsx)(n.code,{children:"$PWD/docs/out"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["If you want you can then run the entire site using the command: ",(0,l.jsx)(n.code,{children:"npx http-server docs/out -c-1"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"emails",children:"Emails"}),"\n",(0,l.jsxs)(n.p,{children:["monetr's email templates are generated using ",(0,l.jsx)(n.a,{href:"https://github.com/resend/react-email",children:"react-email"}),". They can be found in\nthe ",(0,l.jsx)(n.code,{children:"emails/"})," directory in the project folder. These emails are compiled at buildtime and include some\n",(0,l.jsx)(n.a,{href:"https://pkg.go.dev/html/template",children:"go templating"})," in their output in order to be useful for the server."]}),"\n",(0,l.jsx)(n.p,{children:"In order to develop or make changes to the email templates and see your changes, you can run the following command:"}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"develop-email"})]})})}),"\n",(0,l.jsx)(n.p,{children:"This will start the react email development server, allowing you to preview the email templates in your browser with\nsome preset values (instead of the go template placeholders)."}),"\n",(0,l.jsx)(n.h2,{id:"cleaning-up",children:"Cleaning Up"}),"\n",(0,l.jsx)(n.p,{children:"Once you have finished your work and you want to take the local development environment down you have a few options."}),"\n",(0,l.jsx)(n.h3,{id:"shutting-down-development-environment",children:"Shutting Down Development Environment"}),"\n",(0,l.jsx)(n.p,{children:"If you want to completely shut everything down then you can run the following command:"}),"\n",(0,l.jsx)(r.Pq,{type:"warning",children:(0,l.jsx)(n.p,{children:"This will delete all of your local development data, including any Plaid links, expenses, goals, etc..."})}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"shutdown"})]})})}),"\n",(0,l.jsx)(n.p,{children:"This removes the Plaid links that are active, takes down the Docker compose containers, removes their volumes."}),"\n",(0,l.jsx)(n.h3,{id:"completely-clean-up",children:"Completely Clean up"}),"\n",(0,l.jsxs)(n.p,{children:["If you want to completely start fresh you can run the following make task. This will shut down the local development\nenvironment if it is running, but it will also delete any files created or generated during development. This deletes\nyour ",(0,l.jsx)(n.code,{children:"node_modules"})," folder, any submodules, and generated UI code."]}),"\n",(0,l.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,l.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"clean"})]})})}),"\n",(0,l.jsx)(n.p,{children:"This should leave the project directory in a state similar to when it was initially cloned."}),"\n",(0,l.jsxs)(n.p,{children:["Clean will not remove your ",(0,l.jsx)(n.code,{children:"CMakeUserPresets.json"})," or ",(0,l.jsx)(n.code,{children:".cmakepreset"})," files."]}),"\n",(0,l.jsxs)(n.p,{children:["It is recommended to run ",(0,l.jsx)(n.code,{children:"make clean"})," before performing a ",(0,l.jsx)(n.code,{children:"git pull"})," when working from the main branch, this way changes\nin the build system or significant changes to project layout or the application will be applied properly."]})]})}let h=(0,i.n)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.R)(),e.components);return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"src/pages/documentation/development/local_development.mdx",route:"/documentation/development/local_development",timestamp:1729642155e3,title:"Local Development",headings:a},pageNextRoute:"/documentation/development/local_development"})}},e=>{var n=n=>e(e.s=n);e.O(0,[354,636,593,792],()=>n(3292)),_N_E=e.O()}]);