(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9278],{4533:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/development/build",function(){return l(1879)}])},1879:function(e,n,l){"use strict";l.r(n),l.d(n,{__toc:function(){return o}});var i=l(4246),s=l(9304),r=l(1441),a=l(2308);let o=[{depth:2,value:"General Requirements",id:"general-requirements"},{depth:3,value:"Linux",id:"linux"},{depth:2,value:"Building monetr",id:"building-monetr"},{depth:3,value:"Release Build",id:"release-build"}];function t(e){let n=Object.assign({h1:"h1",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",h3:"h3",a:"a",pre:"pre",span:"span"},(0,r.a)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"Build"}),"\n",(0,i.jsx)(n.p,{children:"Building monetr locally using CMake."}),"\n",(0,i.jsx)(n.h2,{id:"general-requirements",children:"General Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Node (",(0,i.jsx)(n.code,{children:">= 18.0.0"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Go (",(0,i.jsx)(n.code,{children:">= 1.21.9"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["git (",(0,i.jsx)(n.code,{children:">= 2.0.0"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["CMake (",(0,i.jsx)(n.code,{children:">= 3.23.0"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["GNUMake (",(0,i.jsx)(n.code,{children:">= 4.0"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["gcc (",(0,i.jsx)(n.code,{children:">= 12"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["monetr will also create some binaries within the CMake binary directory, these binaries may be created by ",(0,i.jsx)(n.code,{children:"gem"}),", ",(0,i.jsx)(n.code,{children:"npm"}),"\nor ",(0,i.jsx)(n.code,{children:"go install"}),". These will not be installed on the host system itself, and are automatically removed when the source\ndirectory is cleaned."]}),"\n",(0,i.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,i.jsx)(n.p,{children:"If you want to do a release build of monetr on linux, you will also need the following packages:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://packages.debian.org/bookworm/ruby-full",children:(0,i.jsx)(n.code,{children:"ruby-full"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://packages.debian.org/bookworm/libssl-dev",children:(0,i.jsx)(n.code,{children:"libssl-dev"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://packages.debian.org/bookworm/pkg-config",children:(0,i.jsx)(n.code,{children:"pkg-config"})})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://packages.debian.org/bookworm/locales-all",children:(0,i.jsx)(n.code,{children:"locales-all"})})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["These are required in order for monetr to setup ",(0,i.jsx)(n.a,{href:"https://github.com/github/licensed",children:"licensed"}),". This tool is setup in\nthe CMake binary directory and is not installed on the host, but is installed via gem. The tool is used to generate\nmonetr's third party notice file that is embedded in it at build time. This file contains a list of all of the licenses\nof all of monetr's Go and JS dependencies."]}),"\n",(0,i.jsx)(n.h2,{id:"building-monetr",children:"Building monetr"}),"\n",(0,i.jsxs)(n.p,{children:["To build monetr you can simply run the following make command. This will run the CMake configuration and build steps\nnecessary to produce a binary at ",(0,i.jsx)(n.code,{children:"$PWD/build/monetr"})," (",(0,i.jsx)(n.code,{children:"$PWD/build/monetr.exe"})," on Windows)."]}),"\n",(0,i.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,i.jsx)(n.code,{"data-language":"shell","data-theme":"default",children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"monetr"})]})})}),"\n",(0,i.jsx)(n.h3,{id:"release-build",children:"Release Build"}),"\n",(0,i.jsx)(n.p,{children:"In order to produce a release build of monetr the following flag must be added."}),"\n",(0,i.jsx)(n.pre,{"data-language":"shell","data-theme":"default",filename:"Shell",children:(0,i.jsxs)(n.code,{"data-language":"shell","data-theme":"default",children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Specify the release preset manually"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"monetr"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"CMAKE_PRESET=release"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:" "}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Or you can simply run"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"make"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"release"})]})]})}),"\n",(0,i.jsx)(a.UW,{type:"info",children:(0,i.jsx)(n.p,{children:"In CI/CD, all builds are performed in release mode."})})]})}n.default=(0,s.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.a)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)},pageOpts:{filePath:"src/pages/documentation/development/build.mdx",route:"/documentation/development/build",timestamp:172928812e4,title:"Build",headings:o},pageNextRoute:"/documentation/development/build"})}},function(e){e.O(0,[9304,2888,9774,179],function(){return e(e.s=4533)}),_N_E=e.O()}]);