(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2180],{4299:(e,t,i)=>{"use strict";i.d(t,{P:()=>l});var r=i(6514),n=i(3367),s=i(3413);let a={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,r.jsx)(s.KS,{className:"_mt-1"}),warning:"⚠️"},d={default:(0,n.A)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,n.A)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,n.A)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,n.A)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function l({children:e,type:t="default",emoji:i=a[t]}){return(0,r.jsxs)("div",{className:(0,n.A)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",d[t]),children:[(0,r.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:i}),(0,r.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:e})]})}},8050:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/configure/security",function(){return i(8103)}])},8103:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o,useTOC:()=>l});var r=i(6514),n=i(7017),s=i(235),a=i(9493),d=i(4299);function l(e){return[{value:"Generate Your Own Certificate",id:"generate-your-own-certificate",depth:2}]}let o=(0,n.e)(function(e){let{toc:t=l(e)}=e,i={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{children:"Security Configuration"}),"\n",(0,r.jsxs)(i.p,{children:["monetr uses ",(0,r.jsx)(i.a,{href:"https://paseto.io/",children:"Platform-Agnostic Security Tokens"})," for authentication as well as other stateless\nvalidation. For example, the links sent for resetting your password via email include a short-lived token signed and\nscoped exclusively for password resets. This is all done using\n",(0,r.jsx)(i.a,{href:"https://github.com/aidantwoods/go-paseto",children:"github.com/aidantwoods/go-paseto"}),"."]}),"\n",(0,r.jsxs)(i.p,{children:["These tokens require an ",(0,r.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/EdDSA#Ed25519",children:"Ed25519"})," public and private key. If you are using\nthe provided Docker compose file then these are generated automatically the first time the server starts (via\n",(0,r.jsx)(i.code,{children:"--generate-certificates"})," on the serve command). The generated certificate is stored in a single file\n",(0,r.jsx)(i.code,{children:"/etc/monetr/ed25519.key"})," in PEM format, containing both the public and private key."]}),"\n",(0,r.jsx)(i.pre,{tabIndex:"0","data-language":"yaml","data-word-wrap":"","data-filename":"config.yaml",children:(0,r.jsxs)(i.code,{children:[(0,r.jsxs)(i.span,{children:[(0,r.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"security"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:":"})]}),"\n",(0,r.jsxs)(i.span,{children:[(0,r.jsx)(i.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"  privateKey"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"</etc/monetr/ed25519.key>"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:" # Path to your PEM encoded certificate."})]})]})}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:(0,r.jsx)(i.strong,{children:"Name"})}),(0,r.jsx)(i.th,{children:(0,r.jsx)(i.strong,{children:"Type"})}),(0,r.jsx)(i.th,{children:(0,r.jsx)(i.strong,{children:"Default"})}),(0,r.jsx)(i.th,{children:(0,r.jsx)(i.strong,{children:"Description"})})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"privateKey"})}),(0,r.jsx)(i.td,{children:"String"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.code,{children:"/etc/monetr/ed25519.key"})}),(0,r.jsx)(i.td,{children:"The path to the PEM encoded Ed25519 certificate that monetr will use for all security tokens."})]})})]}),"\n",(0,r.jsx)(i.p,{children:"This configuration cannot be defined via environment variable at this time."}),"\n",(0,r.jsx)(i.h2,{id:t[0].id,children:t[0].value}),"\n",(0,r.jsx)(i.p,{children:"If you want to provide your own certificate you can generate your own certificate using the following command:"}),"\n",(0,r.jsx)(i.pre,{tabIndex:"0","data-language":"shell","data-word-wrap":"","data-filename":"Generate your own security certificate",children:(0,r.jsx)(i.code,{children:(0,r.jsxs)(i.span,{children:[(0,r.jsx)(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" genpkey"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -algorithm"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ED25519"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -out"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ed25519.key"})]})})}),"\n",(0,r.jsx)(i.p,{children:"To see the public key from this generated certificate:"}),"\n",(0,r.jsx)(i.pre,{tabIndex:"0","data-language":"shell","data-word-wrap":"","data-filename":"Get the public key",children:(0,r.jsx)(i.code,{children:(0,r.jsxs)(i.span,{children:[(0,r.jsx)(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"openssl"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" pkey"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -in"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ed25519.key"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -pubout"}),(0,r.jsx)(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -text"})]})})}),"\n",(0,r.jsx)(d.P,{type:"info",children:(0,r.jsx)(i.p,{children:"monetr does not support certificate rotation for the security certificate. To rotate the certificate simply regenerate\nthe certificate file and restart the monetr server. Any existing tokens will no longer be considered valid, this will\nalso logout any currently active or signed on users."})})]})},"/documentation/configure/security",{filePath:"src/pages/documentation/configure/security.mdx",timestamp:173561954e4,pageMap:s.O,frontMatter:{title:"Security",description:"monetr's security settings, configure a certificate for token issuing and verification."},title:"Security"},"undefined"==typeof RemoteContent?l:RemoteContent.useTOC)}},e=>{var t=t=>e(e.s=t);e.O(0,[7017,235,636,6593,8792],()=>t(8050)),_N_E=e.O()}]);