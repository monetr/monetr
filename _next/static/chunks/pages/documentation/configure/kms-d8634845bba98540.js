(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4616:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/configure/kms",function(){return n(2127)}])},2127:(e,s,n)=>{"use strict";n.r(s),n.d(s,{__toc:()=>l,default:()=>a});var r=n(2540),t=n(1354),i=n(1369),o=n(4412);let l=[{depth:2,value:"Plaintext",id:"plaintext"},{depth:2,value:"AWS KMS Configuration",id:"aws-kms-configuration"},{depth:2,value:"Google Cloud KMS Configuration",id:"google-cloud-kms-configuration"},{depth:2,value:"Vault Transit Configuration",id:"vault-transit-configuration"}];function c(e){let s=Object.assign({h1:"h1",p:"p",pre:"pre",code:"code",span:"span",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",strong:"strong",tbody:"tbody",td:"td",a:"a"},(0,i.R)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{children:"Encryption (Key Management)"}),"\n",(0,r.jsx)(s.p,{children:"monetr supports encrypting secrets before they are stored in PostgreSQL. Other data may support encryption in the future\nbut at the moment only Plaid credentials are encrypted."}),"\n",(0,r.jsx)(s.p,{children:"To that end, monetr supports a few different providers. An outline of the configuration for key management:"}),"\n",(0,r.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",filename:"config.yaml",children:(0,r.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyManagement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"provider"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"<plaintext|aws|google|vault>"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# KMS provider, must be one of these values"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"aws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# AWS KMS specific configuration, only used when `provider: aws`"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"google"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Google Cloud KMS specific configuration, only used when `provider: google`"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"vault"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Hashicorp Vault configuration, only used when `provider: vault`"})]})]})}),"\n",(0,r.jsx)(o.Pq,{type:"info",children:(0,r.jsxs)(s.p,{children:["If you are using the ",(0,r.jsx)(s.code,{children:"plaintext"})," provider (which is the default), no additional options needs to be provided for the\nkey management configuration."]})}),"\n",(0,r.jsx)(s.p,{children:"It is possible to migrate to another KMS provider using the monetr CLI, however this workflow is not documented at this\ntime. It is recommended you pick the key management provider you want to stick with initially and not change it."}),"\n",(0,r.jsx)(s.h2,{id:"plaintext",children:"Plaintext"}),"\n",(0,r.jsxs)(s.p,{children:["When ",(0,r.jsx)(s.code,{children:"plaintext"})," is specified as the provider, monetr will not encrypt any secrets and all items in the ",(0,r.jsx)(s.code,{children:"secrets"})," table\nwill be stored in plain text. This is fine for self hosted deployments or development environments."]}),"\n",(0,r.jsx)(s.h2,{id:"aws-kms-configuration",children:"AWS KMS Configuration"}),"\n",(0,r.jsx)(s.p,{children:"The AWS KMS will encrypt secrets using AWS's key management API. There is also an option to run a local version of AWS\nKMS for the local development environment for monetr."}),"\n",(0,r.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",filename:"config.yaml",children:(0,r.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyManagement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"aws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"region"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"us-east1"'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"accessKey"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"..."'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"secretKey"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"..."'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyID"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"..."'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"endpoint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"..."'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Only used in development, but can still be specified if you want."})]})]})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Name"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Type"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Default"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"region"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The AWS region to use for the client. May be required depending on your configuration."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"accessKey"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The Access Key that monetr should use to access the AWS KMS API."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"secretKey"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The Secret Key that monetr should use to access the AWS KMS API."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"keyID"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The actual Key ID in AWS, this must be the ID of the key to use for encryption and decryption and should not be changed. If this ID is changed then values encrypted with another key will not be able to be decrypted with this new key."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"endpoint"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"null"})}),(0,r.jsx)(s.td,{children:"The AWS KMS API endpoint, this is intended to be used only for local development environments."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"google-cloud-kms-configuration",children:"Google Cloud KMS Configuration"}),"\n",(0,r.jsx)(s.p,{children:"Google Cloud KMS is also supported for encryption/decryption of secrets in monetr. It will require service account\ncredentials in the form of a JSON file. However if you are running monetr within Google Cloud, you can typically inject\nthe service account credentials directly into the VM or the GKE container. Documentation on obtaining credentials\nmagically via Google Cloud will not be provided here."}),"\n",(0,r.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",filename:"config.yaml",children:(0,r.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyManagement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"google"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"resourceName"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"projects/project-12345/locations/us/keyRings/your-keyring-12345/cryptoKeys/your-crypto-key-12345"'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"credentialsJSON"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/home/monetr/.config/gcloud/application_default_credentials.json"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Example path"})]})]})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Name"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Type"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Default"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"resourceName"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The name of the actual keyring to use for encryption and decryption. This cannot be changed later as previously encrypted secrets cannot be decrypted with a different keyring."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"credentialsJSON"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"null"})}),(0,r.jsx)(s.td,{children:"If you want to load credentials for your service account via a JSON file, specify the path to that file here. If left blank the Google Cloud SDK will look in default locations on the system for credentials."})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["More information on how credentials in Google Cloud can be found here: ",(0,r.jsx)(s.a,{href:"https://cloud.google.com/docs/authentication/application-default-credentials",children:"How Appplication Default Credentials\nworks"})]}),"\n",(0,r.jsx)(s.h2,{id:"vault-transit-configuration",children:"Vault Transit Configuration"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://www.vaultproject.io/",children:"Hashicorp Vault"})," is a self-hostable option for encryption. Vault keeps track of the\nencryption keys themselves while monetr leverages the\n",(0,r.jsx)(s.a,{href:"https://developer.hashicorp.com/vault/docs/secrets/transit",children:"Transit"})," secrets engine to encrypt and decrypt data."]}),"\n",(0,r.jsxs)(s.p,{children:["When running inside Kubernetes, monetr can use the ",(0,r.jsx)(s.code,{children:"kubernetes"})," authentication method to access Vault. When this is\nconfigured, monetr will automatically renew its Vault credentials a few moments before they expire. Other authentication\nmethods may require a non-expiring token such as the root token."]}),"\n",(0,r.jsx)(s.pre,{"data-language":"yaml","data-theme":"default",filename:"config.yaml",children:(0,r.jsxs)(s.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyManagement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"vault"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyID"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"monetr"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"authMethod"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"kubernetes"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"role"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"monetr"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"endpoint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"https://your-vault-server.local:8200"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"tlsCertificatePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"/etc/monetr/vault/tls.crt"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"tlsKeyPath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"/etc/monetr/vault/tls.key"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"tlsCAPath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"/etc/monetr/vault/ca.crt"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"insecureSkipVerify"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"})]})]})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Name"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Type"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Default"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"keyID"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"Name of the transit mount to use for KMS."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"authMethod"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsxs)(s.td,{children:["Valid values are:",(0,r.jsx)("br",{}),"- ",(0,r.jsx)(s.code,{children:"token"}),": Use a hardcoded token to authenticate Vault.",(0,r.jsx)("br",{}),"- ",(0,r.jsx)(s.code,{children:"kubernetes"}),": Use the container's Kubernetes Service Account Token.",(0,r.jsx)("br",{}),"- ",(0,r.jsx)(s.code,{children:"userpass"}),": Provide a username and password."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"token"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"When using token authentication, you can provide the raw token here."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"tokenFile"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"As an alternative to providing the token directly in the config file, specify a path to a file containing the token itself."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"username"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsxs)(s.td,{children:["If you are using ",(0,r.jsx)(s.code,{children:"userpass"})," authentication, then this field and the ",(0,r.jsx)(s.code,{children:"password"})," field must be specified."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"password"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsxs)(s.td,{children:["If you are using ",(0,r.jsx)(s.code,{children:"userpass"})," authentication, then this field and the ",(0,r.jsx)(s.code,{children:"username"})," field must be specified."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"role"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"Role in Vault that monetr should authenticate for, decides what permissions monetr has."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"endpoint"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"The URL that Vault API requests should be made to, should be the complete URL including protocol (https), as well as port if non-standard and path if the API is on a sub-route."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"tlsCertificatePath"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"Path to the TLS certificate file, used if Vault is being hosted with a self signed certificate."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"tlsKeyPath"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"Path to the TLS key file, used if Vault is being hosted with a self signed certificate."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"tlsCAPath"})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:"Path to the Certificate Authority file, used if Vault is being hosted with a self signed certificate."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"insecureSkipVerify"})}),(0,r.jsx)(s.td,{children:"Boolean"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"false"})}),(0,r.jsxs)(s.td,{children:["When ",(0,r.jsx)(s.code,{children:"true"}),", monetr will not verify the TLS certificate of the Vault server, ",(0,r.jsx)(s.strong,{children:"less secure"}),"."]})]})]})]})]})}let a=(0,t.n)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.R)(),e.components);return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"src/pages/documentation/configure/kms.mdx",route:"/documentation/configure/kms",frontMatter:{title:"Key Management"},timestamp:1732468966e3,title:"Key Management",headings:l},pageNextRoute:"/documentation/configure/kms"})}},e=>{var s=s=>e(e.s=s);e.O(0,[354,636,593,792],()=>s(4616)),_N_E=e.O()}]);