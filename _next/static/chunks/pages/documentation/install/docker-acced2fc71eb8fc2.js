(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{2162:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/documentation/install/docker",function(){return n(5981)}])},5981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__toc:()=>i,default:()=>c});var s=n(2540),o=n(1354),r=n(1369),a=n(3488);let i=[{depth:2,value:"Image Tags",id:"image-tags"},{depth:3,value:"latest Tag",id:"latest-tag"},{depth:3,value:"Versioned Tag",id:"versioned-tag"},{depth:2,value:"Docker Compose",id:"docker-compose"},{depth:3,value:"Clone The Repository",id:"clone-the-repository"},{depth:3,value:"Start The Server",id:"start-the-server"},{depth:3,value:"Open monetr",id:"open-monetr"},{depth:2,value:"Updating Via Docker Compose",id:"updating-via-docker-compose"},{depth:3,value:"Update The Repository",id:"update-the-repository"},{depth:3,value:"Stop The Containers",id:"stop-the-containers"},{depth:3,value:"Pull New Images",id:"pull-new-images"},{depth:3,value:"Start monter Again",id:"start-monter-again"}];function l(e){let t=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",code:"code",h3:"h3",pre:"pre",span:"span"},(0,r.R)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{children:"Docker"}),"\n",(0,s.jsxs)(t.p,{children:["Self-hosting monetr via Docker or a container is the easiest way to run monetr yourself. This guide does not cover how\nto install Docker itself; please follow ",(0,s.jsx)(t.a,{href:"https://docs.docker.com/engine/install/",children:"Docker's Installation Guide"})," to get it\nsetup on your own computer."]}),"\n",(0,s.jsxs)(t.p,{children:["Container images are built for monetr with every tagged release and pushed to both\n",(0,s.jsx)(t.a,{href:"https://hub.docker.com/r/monetr/monetr",children:"DockerHub"})," and ",(0,s.jsx)(t.a,{href:"https://github.com/monetr/monetr/pkgs/container/monetr",children:"GitHub Container\nRegistry"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Images from both registry's should be identical for the same image tag, so you can use whichever registry you prefer."}),"\n",(0,s.jsx)(t.h2,{id:"image-tags",children:"Image Tags"}),"\n",(0,s.jsxs)(t.p,{children:["Every release monetr will create two tags for the container image. The example ",(0,s.jsx)(t.code,{children:"docker-compose.yaml"})," file defaults to\nusing the ",(0,s.jsx)(t.code,{children:"latest"})," tag for maintainability reasons, but it is recommended to use a pinned version and leverage tools to\nperform automatic updates. This makes it easier to rollback to a previous version if needed."]}),"\n",(0,s.jsxs)(t.h3,{id:"latest-tag",children:[(0,s.jsx)(t.code,{children:"latest"})," Tag"]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"latest"})," tag will always be the most recent tagged version of monetr. For example: ",(0,s.jsx)(t.code,{children:"ghcr.io/monetr/monetr:latest"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"versioned-tag",children:"Versioned Tag"}),"\n",(0,s.jsxs)(t.p,{children:["There will always be a versioned tag such as ",(0,s.jsx)(t.code,{children:"0.18.31"}),". For example ",(0,s.jsx)(t.code,{children:"ghcr.io/monetr/monetr:0.18.31"}),". monetr's versions\nwill generally have a ",(0,s.jsx)(t.code,{children:"v"})," prefix (",(0,s.jsx)(t.code,{children:"v0.18.31"}),"), but images will not have this prefix in their tag."]}),"\n",(0,s.jsx)(t.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,s.jsxs)(t.p,{children:["The easiest way to start monetr is to use the provided\n",(0,s.jsx)(t.a,{href:"https://github.com/monetr/monetr/blob/main/docker-compose.yaml",children:(0,s.jsx)(t.code,{children:"docker-compose.yaml"})})," located in the project's root\ndirectory."]}),"\n",(0,s.jsxs)(a.gj,{children:[(0,s.jsx)(t.h3,{id:"clone-the-repository",children:"Clone The Repository"}),(0,s.jsx)(t.p,{children:"To get the compose file, first clone the monetr repository:"}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Clone monetr",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"clone"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"https://github.com/monetr/monetr.git"})]})})}),(0,s.jsx)(t.h3,{id:"start-the-server",children:"Start The Server"}),(0,s.jsx)(t.p,{children:"To run monetr, execute the following command in your terminal from the root directory of monetr's repository."}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Start monetr",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"compose"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"up"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"-d"})]})})}),(0,s.jsx)(t.p,{children:"This will start the monetr server, as well as the database it needs and a redis server."}),(0,s.jsx)(t.h3,{id:"open-monetr",children:"Open monetr"}),(0,s.jsxs)(t.p,{children:["Once monetr is finished starting, you should be able to access it in your browser via ",(0,s.jsx)(t.code,{children:"http://localhost:4000"}),"."]})]}),"\n",(0,s.jsx)(a.Pq,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Sign ups are enabled by default from the ",(0,s.jsx)(t.code,{children:"docker-compose.yaml"})," provided. If you are exposing your monetr instance to\nthe public internet; it is recommended you disable sign ups after you have created your own login."]})}),"\n",(0,s.jsx)(t.h2,{id:"updating-via-docker-compose",children:"Updating Via Docker Compose"}),"\n",(0,s.jsx)(t.p,{children:"If you are already running monetr and want to upgrade to a more recent version you can perform the following steps."}),"\n",(0,s.jsx)(t.p,{children:"Please make sure to review the release notes for monter before upgrading, as it will include any breaking changes you\nshould be aware of."}),"\n",(0,s.jsxs)(a.gj,{children:[(0,s.jsx)(t.h3,{id:"update-the-repository",children:"Update The Repository"}),(0,s.jsx)(t.p,{children:"In your cloned monetr directory, run the following command to retrieve the latest changes."}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Retrieve changes",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"pull"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"--rebase"})]})})}),(0,s.jsx)(t.p,{children:"If you encounter a conflict while performing the pull, this means that some changes you may have made locally might\ncause problems with the latest version of monetr. Make sure to resolve these conflicts before moving onto the next step."}),(0,s.jsx)(t.h3,{id:"stop-the-containers",children:"Stop The Containers"}),(0,s.jsx)(t.p,{children:"You'll need to stop the containers running before upgrading to make sure there are not conflicts."}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Stop monetr",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"compose"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"stop"})]})})}),(0,s.jsx)(t.h3,{id:"pull-new-images",children:"Pull New Images"}),(0,s.jsx)(t.p,{children:"Once the containers have stopped you can run the following command to update the monetr image:"}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Docker pull",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"compose"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"pull"})]})})}),(0,s.jsx)(t.h3,{id:"start-monter-again",children:"Start monter Again"}),(0,s.jsx)(t.p,{children:"Once the new images have been pulled onto your local machine you can restart the server via docker compose:"}),(0,s.jsx)(t.pre,{"data-language":"shell","data-theme":"default",filename:"Docker start",children:(0,s.jsx)(t.code,{"data-language":"shell","data-theme":"default",children:(0,s.jsxs)(t.span,{className:"line",children:[(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"docker"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"compose"}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,s.jsx)(t.span,{style:{color:"var(--shiki-token-string)"},children:"start"})]})})}),(0,s.jsx)(t.p,{children:"Things like database migrations are automatically run when using the provided compose file."})]})]})}let c=(0,o.n)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,r.R)(),e.components);return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)},pageOpts:{filePath:"src/pages/documentation/install/docker.mdx",route:"/documentation/install/docker",timestamp:1732401538e3,title:"Docker",headings:i},pageNextRoute:"/documentation/install/docker"})}},e=>{var t=t=>e(e.s=t);e.O(0,[354,636,593,792],()=>t(2162)),_N_E=e.O()}]);